console.log("bytedance://felog?type=fe_template&message=start_file"),window.ttwebview&&window.ttwebview.onReportRenderMsg&&window.ttwebview.onReportRenderMsg("fe_template_start_file","","time_delta"),window.feTemplateLastStepTime=performance.now(),window.ttwebview&&window.ttwebview.onReportRenderMsg&&window.ttwebview.onReportRenderMsg("fe_template_start_file_time",window.feTemplateLastStepTime+"","float_num"),function(e){function t(t){for(var r,a,s=t[0],c=t[1],l=t[2],d=0,p=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&p.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(u&&u(t);p.length;)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={android:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="./";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;o.push([155,"lib"]),n()}([,,function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(6),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,o.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(88)),i=a(n(89)),o=a(n(6));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,o.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},,,function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(21),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){e.exports={default:n(160),__esModule:!0}},,,function(e,t,n){(function(t){var r=n(211),i="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},o=i.Raven,a=new r;a.noConflict=function(){return i.Raven=o,a},a.afterLoad(),e.exports=a,e.exports.Client=r}).call(this,n(49))},,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return c})),n.d(t,"__metadata",(function(){return l})),n.d(t,"__awaiter",(function(){return u})),n.d(t,"__generator",(function(){return d})),n.d(t,"__exportStar",(function(){return p})),n.d(t,"__values",(function(){return f})),n.d(t,"__read",(function(){return h})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return _})),n.d(t,"__await",(function(){return g})),n.d(t,"__asyncGenerator",(function(){return v})),n.d(t,"__asyncDelegator",(function(){return y})),n.d(t,"__asyncValues",(function(){return w})),n.d(t,"__makeTemplateObject",(function(){return E})),n.d(t,"__importStar",(function(){return b})),n.d(t,"__importDefault",(function(){return S}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function p(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function h(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function _(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof g?Promise.resolve(n.value.v).then(c,l):u(o[0][2],n)}catch(e){u(o[0][3],e)}var n}function c(e){s("next",e)}function l(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function y(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}},,,,,,function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},,,,,,function(e,t,n){var r=n(40),i=n(75),o=n(76),a=n(123),s=n(125),c=function(e,t,n){var l,u,d,p,f=e&c.F,h=e&c.G,m=e&c.S,_=e&c.P,g=e&c.B,v=h?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,y=h?i:i[t]||(i[t]={}),w=y.prototype||(y.prototype={});for(l in h&&(n=t),n)d=((u=!f&&v&&void 0!==v[l])?v:n)[l],p=g&&u?s(d,r):_&&"function"==typeof d?s(Function.call,d):d,v&&a(v,l,d,e&c.U),y[l]!=d&&o(y,l,p),_&&w[l]!=d&&(w[l]=d)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(32);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(33)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(78)("wks"),i=n(77),o=n(40).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},,,,,,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(39);r(r.S+r.F*!n(42),"Object",{defineProperty:n(122).f})},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(81),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},,,,,,,,,,,,,,,,,function(e,t,n){(function(t){var r=n(118),i="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function o(e){return void 0===e}function a(e){return"[object Object]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function c(e){return"[object Array]"===Object.prototype.toString.call(e)}function l(){if(!("fetch"in i))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function u(e,t){var n,r;if(o(e.length))for(n in e)p(e,n)&&t.call(null,n,e[n]);else if(r=e.length)for(n=0;n<r;n++)t.call(null,n,e[n])}function d(e,t){if("number"!=typeof t)throw new Error("2nd argument to `truncate` function should be a number");return"string"!=typeof e||0===t?e:e.length<=t?e:e.substr(0,t)+"…"}function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e){for(var t,n=[],r=0,i=e.length;r<i;r++)s(t=e[r])?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")}function h(e){var t,n,r,i,o,a=[];if(!e||!e.tagName)return"";if(a.push(e.tagName.toLowerCase()),e.id&&a.push("#"+e.id),(t=e.className)&&s(t))for(n=t.split(/\s+/),o=0;o<n.length;o++)a.push("."+n[o]);var c=["type","name","title","alt"];for(o=0;o<c.length;o++)r=c[o],(i=e.getAttribute(r))&&a.push("["+r+'="'+i+'"]');return a.join("")}function m(e,t){return!!(!!e^!!t)}function _(e,t){if(m(e,t))return!1;var n,r,i=e.frames,o=t.frames;if(void 0===i||void 0===o)return!1;if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(n=i[a],r=o[a],n.filename!==r.filename||n.lineno!==r.lineno||n.colno!==r.colno||n.function!==r.function)return!1;return!0}var g=3,v=51200,y=40;function w(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function E(e){if("string"==typeof e){return d(e,40)}if("number"==typeof e||"boolean"==typeof e||void 0===e)return e;var t=Object.prototype.toString.call(e);return"[object Object]"===t?"[Object]":"[object Array]"===t?"[Array]":"[object Function]"===t?e.name?"[Function: "+e.name+"]":"[Function]":e}e.exports={isObject:function(e){return"object"==typeof e&&null!==e},isError:function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}},isErrorEvent:function(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)},isDOMError:function(e){return"[object DOMError]"===Object.prototype.toString.call(e)},isDOMException:function(e){return"[object DOMException]"===Object.prototype.toString.call(e)},isUndefined:o,isFunction:function(e){return"function"==typeof e},isPlainObject:a,isString:s,isArray:c,isEmptyObject:function(e){if(!a(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},supportsErrorEvent:function(){try{return new ErrorEvent(""),!0}catch(e){return!1}},supportsDOMError:function(){try{return new DOMError(""),!0}catch(e){return!1}},supportsDOMException:function(){try{return new DOMException(""),!0}catch(e){return!1}},supportsFetch:l,supportsReferrerPolicy:function(){if(!l())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(e){return!1}},supportsPromiseRejectionEvent:function(){return"function"==typeof PromiseRejectionEvent},wrappedCallback:function(e){return function(t,n){var r=e(t)||t;return n&&n(r)||r}},each:u,objectMerge:function(e,t){return t?(u(t,(function(t,n){e[t]=n})),e):e},truncate:d,objectFrozen:function(e){return!!Object.isFrozen&&Object.isFrozen(e)},hasKey:p,joinRegExp:f,urlencode:function(e){var t=[];return u(e,(function(e,n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})),t.join("&")},uuid4:function(){var e=i.crypto||i.msCrypto;if(!o(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var n=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},htmlTreeAsString:function(e){for(var t,n=[],r=0,i=0,o=" > ".length;e&&r++<5&&!("html"===(t=h(e))||r>1&&i+n.length*o+t.length>=80);)n.push(t),i+=t.length,e=e.parentNode;return n.reverse().join(" > ")},htmlElementAsString:h,isSameException:function(e,t){return!m(e,t)&&(e=e.values[0],t=t.values[0],e.type===t.type&&e.value===t.value&&(n=e.stacktrace,r=t.stacktrace,(!o(n)||!o(r))&&_(e.stacktrace,t.stacktrace)));var n,r},isSameStacktrace:_,parseUrl:function(e){if("string"!=typeof e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),n=t[6]||"",r=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+n+r}},fill:function(e,t,n,r){if(null!=e){var i=e[t];e[t]=n(i),e[t].__raven__=!0,e[t].__orig__=i,r&&r.push([e,t,i])}},safeJoin:function(e,t){if(!c(e))return"";for(var n=[],r=0;r<e.length;r++)try{n.push(String(e[r]))}catch(e){n.push("[value cannot be serialized]")}return n.join(t)},serializeException:function e(t,n,i){if(!a(t))return t;i="number"!=typeof(n="number"!=typeof n?g:n)?v:i;var o=function e(t,n){return 0===n?E(t):a(t)?Object.keys(t).reduce((function(r,i){return r[i]=e(t[i],n-1),r}),{}):Array.isArray(t)?t.map((function(t){return e(t,n-1)})):E(t)}(t,n);return w(r(o))>i?e(t,n-1):o},serializeKeysForMessage:function(e,t){if("number"==typeof e||"string"==typeof e)return e.toString();if(!Array.isArray(e))return"";if(0===(e=e.filter((function(e){return"string"==typeof e}))).length)return"[object has no keys]";if(t="number"!=typeof t?y:t,e[0].length>=t)return e[0];for(var n=e.length;n>0;n--){var r=e.slice(0,n).join(", ");if(!(r.length>t))return n===e.length?r:r+"…"}return""},sanitize:function(e,t){if(!c(t)||c(t)&&0===t.length)return e;var n,i=f(t),o="********";try{n=JSON.parse(r(e))}catch(t){return e}return function e(t){return c(t)?t.map((function(t){return e(t)})):a(t)?Object.keys(t).reduce((function(n,r){return i.test(r)?n[r]=o:n[r]=e(t[r]),n}),{}):t}(n)}}}).call(this,n(49))},,function(e,t,n){},function(e,t,n){},function(e,t,n){var r=n(120);function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}},function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(122),i=n(247);e.exports=n(42)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(75),i=n(40),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(249)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(51);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){"use strict";var r,i,o=n(282),a=RegExp.prototype.exec,s=String.prototype.replace,c=a,l=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),u=void 0!==/()??/.exec("")[1];(l||u)&&(c=function(e){var t,n,r,i,c=this;return u&&(n=new RegExp("^"+c.source+"$(?!\\s)",o.call(c))),l&&(t=c.lastIndex),r=a.call(c,e),l&&r&&(c.lastIndex=c.global?r.index+r[0].length:t),u&&r&&r.length>1&&s.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),e.exports=c},function(e,t,n){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0});var o,a,s=n(84);!function(e){e[e.VIP_NOT_BORROW=1]="VIP_NOT_BORROW",e[e.VIP_BORROWED=2]="VIP_BORROWED",e[e.NORMAL_NOT_BUY=3]="NORMAL_NOT_BUY",e[e.NORMAL_BUYED=4]="NORMAL_BUYED",e[e.AD_UNLOCKED=5]="AD_UNLOCKED"}(t.EUserPermType||(t.EUserPermType={})),function(e){e[e.FREE=0]="FREE",e[e.WEIXIN=1]="WEIXIN",e[e.PZ=2]="PZ",e[e.GONGZHONGHAO=3]="GONGZHONGHAO",e[e.MINIPROGRAM=4]="MINIPROGRAM",e[e.BALANCE=10]="BALANCE",e[e.PZ_AUTO=21]="PZ_AUTO",e[e.REWARD=40]="REWARD",e[e.CJPAY_IAP_AUTO=41]="CJPAY_IAP_AUTO",e[e.COMBINED_PAY=70]="COMBINED_PAY",e[e.APPLE_PAY=100]="APPLE_PAY"}(t.EPayWay||(t.EPayWay={})),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.WAITING_TO_PAY=1]="WAITING_TO_PAY",e[e.PAYING=2]="PAYING",e[e.CLOSED=3]="CLOSED",e[e.FAIL=4]="FAIL",e[e.REFUNDING=5]="REFUNDING",e[e.REFUNDED=6]="REFUNDED",e[e.UNKNOWN=99]="UNKNOWN"}(t.ETradeStatus||(t.ETradeStatus={})),function(e){e.ALBUM="album",e.BOOK="book",e.AUDIO_BOOK="audio_book",e.VIP="vip",e.SUBJECT="subject",e.EBOOK="ebook"}(o=t.EGoodsType||(t.EGoodsType={})),function(e){e.ALBUM="专辑",e.BOOK="书籍",e.AUDIO_BOOK="有声书",e.VIP="VIP",e.SUBJECT="专题",e.EBOOK="电子书"}(a=t.EGoodsTypeDesc||(t.EGoodsTypeDesc={})),t.goodsTypeMap=((r={})[o.ALBUM]=a.ALBUM,r[o.BOOK]=a.BOOK,r[o.EBOOK]=a.EBOOK,r[o.AUDIO_BOOK]=a.AUDIO_BOOK,r[o.VIP]=a.VIP,r[o.SUBJECT]=a.SUBJECT,r),t.contentTypeNumToGoodsTypeMap=((i={})[s.EContentTypeNum.ALBUM]=o.ALBUM,i[s.EContentTypeNum.BOOK]=o.BOOK,i[s.EContentTypeNum.AUDIO_BOOK]=o.AUDIO_BOOK,i[s.EContentTypeNum.EBOOK]=o.EBOOK,i)},function(e,t,n){"use strict";var r,i,o;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ALBUM="album",e.BOOK="book",e.AUDIO_BOOK="audio_book",e.EBOOK="ebook",e.MAGAZINE="journal",e.LIVE_COURSE="live_course"}(i=t.EContentType||(t.EContentType={})),function(e){e[e.ALBUM=1]="ALBUM",e[e.BOOK=2]="BOOK",e[e.AUDIO_BOOK=3]="AUDIO_BOOK",e[e.EBOOK=4]="EBOOK",e[e.MAGAZINE=5]="MAGAZINE",e[e.LIVE_COURSE=6]="LIVE_COURSE"}(o=t.EContentTypeNum||(t.EContentTypeNum={})),function(e){e[e.LEARNING_ADMIN=1]="LEARNING_ADMIN",e[e.PGC_MP=2]="PGC_MP",e[e.SCRIPT=3]="SCRIPT"}(t.EContentSource||(t.EContentSource={})),t.contentTypeMap=((r={})[i.ALBUM]=o.ALBUM,r[i.BOOK]=o.BOOK,r[i.AUDIO_BOOK]=o.AUDIO_BOOK,r[i.EBOOK]=o.EBOOK,r[i.MAGAZINE]=o.MAGAZINE,r[i.LIVE_COURSE]=o.LIVE_COURSE,r[o.ALBUM]=i.ALBUM,r[o.BOOK]=i.BOOK,r[o.AUDIO_BOOK]=i.AUDIO_BOOK,r[o.EBOOK]=i.EBOOK,r[o.MAGAZINE]=i.MAGAZINE,r[o.LIVE_COURSE]=i.LIVE_COURSE,r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.AUDIO=1]="AUDIO",e[e.VIDEO=2]="VIDEO",e[e.AUDIO_AND_VIDEO=3]="AUDIO_AND_VIDEO",e[e.TEXT=4]="TEXT",e[e.AUDIO_AND_TEXT=5]="AUDIO_AND_TEXT",e[e.VIDEO_AND_TEXT=6]="VIDEO_AND_TEXT",e[e.AUDIO_AND_VIDEO_AND_TEXT=7]="AUDIO_AND_VIDEO_AND_TEXT",e[e.LIVE_STREAM=8]="LIVE_STREAM"}(t.EItemType||(t.EItemType={})),function(e){e[e.AUDIO=1]="AUDIO",e[e.VIDEO=2]="VIDEO",e[e.AUDIO_AND_VIDEO=3]="AUDIO_AND_VIDEO",e[e.TEXT=4]="TEXT",e[e.AUDIO_AND_TEXT=5]="AUDIO_AND_TEXT",e[e.VIDEO_AND_TEXT=6]="VIDEO_AND_TEXT",e[e.AUDIO_AND_VIDEO_AND_TEXT=7]="AUDIO_AND_VIDEO_AND_TEXT",e[e.LIVE_STREAM=8]="LIVE_STREAM"}(t.EAllItemCommonType||(t.EAllItemCommonType={})),function(e){e[e.NEED_PAY=0]="NEED_PAY",e[e.FREE=1]="FREE"}(t.EItemFree||(t.EItemFree={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES"}(t.EIsFuture||(t.EIsFuture={})),function(e){e[e.NOT_FREE=0]="NOT_FREE",e[e.FREE=1]="FREE"}(t.EVIPFreeFlag||(t.EVIPFreeFlag={}))},function(e,t,n){"use strict";var r=n(46);function i(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},,,,function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&e.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},,,,function(e,t,n){e.exports={default:n(334),__esModule:!0}},,,,,,,,,,,,,,,,,,,,,,,,function(e,t){function n(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function r(e,t){var r=[],i=[];return null==t&&(t=function(e,t){return r[0]===t?"[Circular ~]":"[Circular ~."+i.slice(0,n(r,t)).join(".")+"]"}),function(o,a){if(r.length>0){var s=n(r,this);~s?r.splice(s+1):r.push(this),~s?i.splice(s,1/0,o):i.push(o),~n(r,a)&&(a=t.call(this,o,a))}else r.push(a);return null==e?a instanceof Error?function(e){var t={stack:e.stack,message:e.message,name:e.name};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(a):a:e.call(this,o,a)}}(e.exports=function(e,t,n,i){return JSON.stringify(e,r(t,i),n)}).getSerialize=r},function(e,t,n){},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){var r=n(41),i=n(244),o=n(246),a=Object.defineProperty;t.f=n(42)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(40),i=n(76),o=n(124),a=n(77)("src"),s=n(248),c=(""+s).split("toString");n(75).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(l&&(o(n,a)||i(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(79);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(52);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(80),i=n(52);e.exports=function(e){return r(i(e))}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(120),i=n(274);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var r=n(275);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){"use strict";var r=n(280)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){"use strict";var r=n(281),i=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},function(e,t,n){"use strict";n(283);var r=n(123),i=n(76),o=n(33),a=n(52),s=n(43),c=n(82),l=s("species"),u=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var p=s(e),f=!o((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),h=f?!o((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[l]=function(){return n}),n[p](""),!t})):void 0;if(!f||!h||"replace"===e&&!u||"split"===e&&!d){var m=/./[p],_=n(a,p,""[e],(function(e,t,n,r,i){return t.exec===c?f&&!i?{done:!0,value:m.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),g=_[0],v=_[1];r(String.prototype,e,g),i(RegExp.prototype,p,2==t?function(e,t){return v.call(e,this,t)}:function(e){return v.call(e,this)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=null;t.getBrowserVersions=function(){var e,t,n,i;return r||(e=navigator.userAgent,t=window.screen,n=t.width,i=t.height,r={wx:!!e.match(/MicroMessenger/i),trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1===e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1===e.indexOf("Safari"),webview:!!e.match(/Learning/gi),iPhoneX:e.indexOf("iPhone")>-1&&(375===n&&812===i||812===n&&375===i),iPhoneXSMax:/iphone/gi.test(window.navigator.userAgent)&&!!window.devicePixelRatio&&3===window.devicePixelRatio&&414===window.screen.width&&896===window.screen.height,iPhoneXR:/iphone/gi.test(window.navigator.userAgent)&&!!window.devicePixelRatio&&2===window.devicePixelRatio&&414===window.screen.width&&896===window.screen.height}),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.ERROR_NOT_LOGIN=100001]="ERROR_NOT_LOGIN",e[e.ERROR_LOGIN_IN_OTHER_DEVICE=100002]="ERROR_LOGIN_IN_OTHER_DEVICE",e[e.ERROR_EXPIRED=100003]="ERROR_EXPIRED",e[e.ERROR_OPEN_ID=600027]="ERROR_OPEN_ID",e[e.ERRNO_ITEM_DELETE_ERROR=300002]="ERRNO_ITEM_DELETE_ERROR",e[e.ERRNO_ITEM_NOT_FIND_ERROR=300003]="ERRNO_ITEM_NOT_FIND_ERROR",e[e.ERRNO_TRADE_VIP_AND_VIP_FLAG_IN_TOUTIAO=600005]="ERRNO_TRADE_VIP_AND_VIP_FLAG_IN_TOUTIAO"}(t.EResponseCode||(t.EResponseCode={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(83),i=n(85),o=n(84);t.hasArticle=function(e){return!!(4&e)},t.hasVideo=function(e){return!!(2&e)},t.hasAudio=function(e){return!!(1&e)},t.getThumbUri=function(e,t){return t===o.EContentType.ALBUM||t===o.EContentTypeNum.ALBUM?e.horizontal||"":t===o.EContentType.BOOK||t===o.EContentTypeNum.BOOK?e.vertical||"":t===o.EContentType.AUDIO_BOOK||t===o.EContentTypeNum.AUDIO_BOOK?e.square||"":e&&e.square||""},t.getThumbUriForTT=function(e,t){return t===o.EContentType.ALBUM||t===o.EContentTypeNum.ALBUM?e.square||"":t===o.EContentType.BOOK||t===o.EContentTypeNum.BOOK?e.vertical||"":t===o.EContentType.AUDIO_BOOK||t===o.EContentTypeNum.AUDIO_BOOK?e.vertical||"":e&&e.square||""},t.getThumbUriForLearning=function(e,t){return t===o.EContentType.ALBUM||t===o.EContentTypeNum.ALBUM?e.square||"":t===o.EContentType.BOOK||t===o.EContentTypeNum.BOOK?e.vertical||"":t===o.EContentType.AUDIO_BOOK||t===o.EContentTypeNum.AUDIO_BOOK?e.square||"":e&&e.square||""},t.contentPurchased=function(e){return[r.EUserPermType.VIP_BORROWED,r.EUserPermType.NORMAL_BUYED].indexOf(e)>-1},t.checkPlayPermission=function(e){return e!==r.EUserPermType.NORMAL_NOT_BUY},t.contentPurchasedForTT=function(e){return e===r.EUserPermType.NORMAL_BUYED},t.convertContentTypeEnumToContentType=function(e){return o.contentTypeMap[e]},t.convertContentTypeToContentTypeEnum=function(e){return o.contentTypeMap[e]},t.isVideo=function(e){return 1==(e>>1&1)},t.findFirstFree=function(e){return e.find((function(e){return e.item_base_info.item_free===i.EItemFree.FREE}))},t.formatScore=function(e){return(e/2).toFixed(1)},t.formatScoreWithRound=function(e){return(Math.round(e/2*10)/10).toFixed(1)},t.hasFreeItem=function(e){return(e.item||[]).some((function(e){return e.item_free===i.EItemFree.FREE}))},t.isVerticalContent=function(e){return e===o.EContentTypeNum.EBOOK||e===o.EContentTypeNum.BOOK||e===o.EContentTypeNum.MAGAZINE||e===o.EContentType.EBOOK||e===o.EContentType.BOOK||e===o.EContentType.MAGAZINE}},function(e,t,n){"use strict";var r,i,o;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.VALID=1]="VALID",e[e.FROZEN=2]="FROZEN",e[e.USED=3]="USED",e[e.EXPIRED=4]="EXPIRED",e[e.NOT_MEET=5]="NOT_MEET"}(t.ECouponStatus||(t.ECouponStatus={})),function(e){e[e.ALL=0]="ALL",e[e.ALBUM_ONLY=1]="ALBUM_ONLY",e[e.BOOK_ONLY=2]="BOOK_ONLY",e[e.SPECIFY=3]="SPECIFY",e[e.ALBUM_AND_BOOK=4]="ALBUM_AND_BOOK",e[e.VIP_MONTH=10]="VIP_MONTH",e[e.VIP_HALF_YEAR=11]="VIP_HALF_YEAR",e[e.VIP_YEAR=12]="VIP_YEAR"}(t.EGoodsRule||(t.EGoodsRule={})),function(e){e[e.NO_RESTRICTION=1]="NO_RESTRICTION",e[e.WITH_RESTRICTION=2]="WITH_RESTRICTION",e[e.DISCOUNT=3]="DISCOUNT"}(i=t.ECouponWay||(t.ECouponWay={})),function(e){e.NO_RESTRICTION="no-restriction",e.WITH_RESTRICTION="with-restriction",e.DISCOUNT="discount"}(o=t.ECouponWayDesc||(t.ECouponWayDesc={})),t.couponWayDescMap=((r={})[i.NO_RESTRICTION]=o.NO_RESTRICTION,r[i.WITH_RESTRICTION]=o.WITH_RESTRICTION,r[i.DISCOUNT]=o.DISCOUNT,r),function(e){e[e.COUPON_STATUS_DISABLED=0]="COUPON_STATUS_DISABLED",e[e.COUPON_STATUS_SELECTED=1]="COUPON_STATUS_SELECTED",e[e.COUPON_STATUS_AVAILABLE=2]="COUPON_STATUS_AVAILABLE"}(t.ECouponStatusForUse||(t.ECouponStatusForUse={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(26);r.__exportStar(n(83),t),r.__exportStar(n(137),t),r.__exportStar(n(141),t),r.__exportStar(n(141),t),r.__exportStar(n(84),t),r.__exportStar(n(85),t),r.__exportStar(n(316),t),r.__exportStar(n(317),t),r.__exportStar(n(318),t),r.__exportStar(n(319),t),r.__exportStar(n(139),t),r.__exportStar(n(320),t),r.__exportStar(n(321),t);var i=n(322);t.EBizId=i.EBizId},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.ANY=0]="ANY",e[e.VIP=1]="VIP",e[e.INVITE=2]="INVITE",e[e.VIP_AND_INVITE=3]="VIP_AND_INVITE",e[e.BUY=4]="BUY",e[e.INVITE_AND_BUY=6]="INVITE_AND_BUY"}(t.ECondition||(t.ECondition={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.BOUNDLESS=1]="BOUNDLESS"}(t.EChallengeMode||(t.EChallengeMode={})),function(e){e[e.Unfinished=0]="Unfinished",e[e.Finish=1]="Finish",e[e.DelayedFinish=2]="DelayedFinish"}(t.ETaskDoneStatus||(t.ETaskDoneStatus={})),function(e){e[e.COURSE=1]="COURSE",e[e.WRITE=2]="WRITE",e[e.CHOICE=4]="CHOICE"}(t.ESubTaskType||(t.ESubTaskType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=null;t.getBrowserVersions=function(){var e,t,n,r;return i||(e=navigator.userAgent,t=window.screen,n=t.width,r=t.height,i={wx:!!e.match(/MicroMessenger/i),trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1===e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1===e.indexOf("Safari"),webview:!!e.match(/Learning/gi),iPhoneX:e.indexOf("iPhone")>-1&&(375===n&&812===r||812===n&&375===r),iPhoneXSMax:/iphone/gi.test(window.navigator.userAgent)&&!!window.devicePixelRatio&&3===window.devicePixelRatio&&414===window.screen.width&&896===window.screen.height,iPhoneXR:/iphone/gi.test(window.navigator.userAgent)&&!!window.devicePixelRatio&&2===window.devicePixelRatio&&414===window.screen.width&&896===window.screen.height}),i},t.isAndroid=t.getBrowserVersions().android,t.getAppVersionByUa=function(e){var t=(e||navigator.userAgent).toLowerCase().match(/newsarticle\/\s*([0-9.]*)/);return t?t[1]:""},t.getLiteAppVersionByUa=function(e){var t=(e||navigator.userAgent).toLowerCase(),n=t.match(/newsarticle\/\s*([0-9.]*)/);return n&&/newslite/.test(t)?n[1]:""},t.getTTProAppVersionByUa=function(e){var t=(e||navigator.userAgent).toLowerCase(),n=t.match(/newsarticle\/\s*([0-9.]*)/);return n&&/newssocial/.test(t)?n[1]:""},t.getXiguaAppVersionByUa=function(e){var t=(e||navigator.userAgent).toLowerCase().match(/videoarticle\/\s*([0-9.]*)/);return t?t[1]:""},t.isInToutiao=function(){return/NewsArticle/.test(navigator.userAgent)&&!/NewsLite/.test(navigator.userAgent)&&!/NewsSocial/.test(navigator.userAgent)},t.isInToutiaoLite=function(){return/NewsArticle/.test(navigator.userAgent)&&/NewsLite/.test(navigator.userAgent)},t.isInXigua=function(){return/VideoArticle/.test(navigator.userAgent)},t.isInToutiaoPro=function(){return/NewsSocial/.test(navigator.userAgent)&&/NewsArticle/.test(navigator.userAgent)},t.isInApp=function(){return t.isInToutiao()||t.isInToutiaoLite()||t.isInXigua()||t.isInToutiaoPro()},t.getIOSVersionByUa=function(){var e=navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/);return e?{majorVersion:parseInt(e[1],10),minorVersion:parseInt(e[2],10),patchVersion:parseInt(e[3]||"0",10)}:{majorVersion:0,minorVersion:0,patchVersion:0}},function(e){e.ANDROID="android",e.IOS="ios",e.IPHONE="iphone",e.IPAD="ipad",e.UNKNOWN="unknown"}(r=t.EPlatform||(t.EPlatform={})),t.isPlatform=function(e){var n=t.getBrowserVersions();switch(e){case r.ANDROID:return n.android;case r.IOS:return n.ios;case r.IPAD:return n.iPad;case r.IPHONE:return n.iPhone;default:return!1}}},function(e,t,n){var r=n(19),i=n(46),o=n(14)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},function(e,t,n){var r,i,o,a=n(31),s=n(338),c=n(101),l=n(63),u=n(13),d=u.process,p=u.setImmediate,f=u.clearImmediate,h=u.MessageChannel,m=u.Dispatch,_=0,g={},v=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},y=function(e){v.call(e.data)};p&&f||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++_]=function(){s("function"==typeof e?e:Function(e),t)},r(_),_},f=function(e){delete g[e]},"process"==n(34)(d)?r=function(e){d.nextTick(a(v,e,1))}:m&&m.now?r=function(e){m.now(a(v,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=y,r=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",y,!1)):r="onreadystatechange"in l("script")?function(e){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),v.call(e)}}:function(e){setTimeout(a(v,e,1),0)}),e.exports={set:p,clear:f}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(19),i=n(20),o=n(86);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},,,,,,function(e,t,n){e.exports={default:n(241),__esModule:!0}},function(e,t,n){"use strict";var r=n(74),i=n(121);n(50),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(250),n(253);var o=i(n(259));n(260);var a=i(n(270)),s=i(n(128)),c=i(n(129)),l=i(n(130)),u=i(n(131)),d=i(n(132)),p=i(n(276)),f=i(n(90)),h=r(n(0)),m=i(n(285)),_=i(n(286)),g=function(e){function t(e){var n;(0,s.default)(this,t),(n=(0,l.default)(this,(0,u.default)(t).call(this,e))).handleMouseEnter=function(e){if(e&&"mouseenter"===e.type){var t=(0,p.default)(navigator.userAgent).os;if(t.android||t.ios)return}n.pause()},n.handleMouseLeave=function(){n.props.autoplay&&n.autoplay()};var r=e.children,i=e.infinite,o=e.size;return n.count=h.Children.count(r),i&&n.count>1?(n.children=[h.cloneElement(r[n.count-1],{key:-1})].concat((0,a.default)(r),[h.cloneElement(r[0],{key:n.count+1})]),n.state={selectedIndex:0,transition:!1,translate:-o}):(n.children=r,n.state={selectedIndex:0,transition:!1,translate:0}),n}return(0,d.default)(t,e),(0,c.default)(t,[{key:"autoplay",value:function(){var e=this,t=this.props.autoplayInterval;this.autoplayTimer||(this.autoplayTimer=window.setTimeout((function(){e.next(),e.autoplayTimer=0,e.autoplay()}),t))}},{key:"pause",value:function(){clearTimeout(this.autoplayTimer),this.autoplayTimer=0}},{key:"next",value:function(){this.count>1&&this.switchTo(this.state.selectedIndex+1)}},{key:"prev",value:function(){this.count>1&&this.switchTo(this.state.selectedIndex-1)}},{key:"afterChange",value:function(e){var t=this.props.afterChange;if(t){var n=e;n<0?n=this.count-1:n>=this.count&&(n=0),t(n)}}},{key:"switchTo",value:function(e){var t=this,n=this.props,r=n.size,i=n.transitionDuration,o=n.infinite,a=n.offset;if((o||!(e>=this.count||e<0))&&!this.isSwiping){var s=+(o&&this.count>1);if(this.isSwiping=!0,e>=this.count)this.setState({selectedIndex:0,transition:!0,translate:-(e+s)*r}),this.swipeTimer=window.setTimeout((function(){t.setState({transition:!1,translate:-r}),t.isSwiping=!1,t.afterChange(e)}),i);else if(e<0)this.setState({selectedIndex:this.count-1,transition:!0,translate:-(e+s)*r}),this.swipeTimer=window.setTimeout((function(){t.setState({transition:!1,translate:-t.count*r}),t.isSwiping=!1,t.afterChange(e)}),i);else{var c=-(e+s)*r;o||a&&(e===this.count-1?c+=2*a:0!==e&&(c+=a)),this.setState({selectedIndex:e,transition:!0,translate:c}),this.swipeTimer=window.setTimeout((function(){t.isSwiping=!1,t.afterChange(e)}),i)}}}},{key:"componentDidMount",value:function(){var e=this.props.autoplay;this.count>1&&e&&this.autoplay()}},{key:"componentWillUnmount",value:function(){this.pause(),clearTimeout(this.swipeTimer)}},{key:"renderList",value:function(){var e=this,t=this.props,n=t.onTouchStart,r=t.onTouchMove,i=t.onTouchEnd,o=t.size,a=t.sizeUnit,s=t.swipeable,c=t.transitionDuration,l=t.vertical,u=this.state,d=u.transition,p=u.translate,f=h.createElement(_.default,{vertical:l,translate:p,transitionDuration:c,size:o,sizeUnit:a,transition:d},this.children);return s&&this.count>1?h.createElement(m.default,{action:l?"Y":"X",onStart:function(){return n&&n(l),l?e.curY=e.state.translate:e.curX=e.state.translate,e.handleMouseEnter(),!1},onMoveX:l?void 0:function(t){var n=t.x,i=t.X;r&&r();var a=Math.max(Math.min(e.curX-n+i,0),-o*(e.children.length-1));return e.isSwiping||e.setState({transition:!1,translate:a}),!1},onMoveY:l?function(t){var n=t.y,r=t.Y,i=Math.max(Math.min(e.curY-n+r,0),-o*(e.children.length-1));return e.isSwiping||e.setState({transition:!1,translate:i}),!1}:void 0,onEndX:l?void 0:function(t){var n=t.x,r=t.X;return i&&i(),n>r?e.next():n<r&&e.prev(),e.handleMouseLeave(),!1},onEndY:l?function(t){var n=t.y,r=t.Y;return i&&i(),n>r?e.next():n<r&&e.prev(),e.handleMouseLeave(),!1}:void 0},f):f}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.children,i=n.className,a=n.dots,s=n.infinite,c=n.size,l=n.sizeUnit,u=n.vertical,d=this.props,p=d.offset,m=d.style,_=this.state.selectedIndex;s&&(p=0),m=Object.assign({},m,(0,o.default)({},u?"height":"width","".concat(c+2*p).concat(l)));return h.createElement("div",{className:(0,f.default)(i,"lego-carousel",(e={},(0,o.default)(e,"".concat("lego-carousel","-horizontal"),!u),(0,o.default)(e,"".concat("lego-carousel","-vertical"),u),e)),onMouseEnter:this.handleMouseEnter,onTouchStart:this.handleMouseEnter,onTouchEnd:this.handleMouseLeave,onTouchCancel:this.handleMouseLeave,onMouseLeave:this.handleMouseLeave,style:m},this.renderList(),!!a&&this.count>1&&h.createElement("div",{className:"".concat("lego-carousel","-dot-list")},h.Children.map(r,(function(e,n){return h.createElement("div",{className:(0,f.default)("".concat("lego-carousel","-dot-item"),(0,o.default)({},"".concat("lego-carousel","-dot-item-selected"),n===_)),key:n,onClick:t.switchTo.bind(t,n)})}))))}}]),t}(h.Component);g.defaultProps={autoplay:!1,autoplayInterval:3e3,dots:!0,infinite:!1,offset:0,sizeUnit:"px",transitionDuration:1e3,vertical:!1};var v=g;t.default=v,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(26);r.__exportStar(n(306),t),r.__exportStar(n(308),t),r.__exportStar(n(313),t),r.__exportStar(n(138),t),r.__exportStar(n(314),t),r.__exportStar(n(315),t),r.__exportStar(n(323),t),r.__exportStar(n(324),t),r.__exportStar(n(329),t),r.__exportStar(n(140),t)},function(e,t,n){e.exports=n(346)},,,,,function(e,t,n){var r=n(9),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},,,,,,,,,,,,,,,,,,,,,function(e,t){window.felog=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=performance.now(),i=window.feTemplateLastStepTime?r-window.feTemplateLastStepTime:r;"fe_template"===e?(console.log("bytedance://felog?type=fe_template&message="+t),console.log("bytedance://felog?type=fe_template_"+t+"_time&message="+i),window.feTemplateLastStepTime=performance.now()):console.log("bytedance://felog?type="+e+"&message="+t);var o=window.ttwebview&&window.ttwebview.onReportRenderMsg;try{o&&(n&&n.origin?o(e+"",t+"",""):(o(e+"_"+t,"","time_delta"),"fe_template"===e&&o(e+"_"+t+"_time",i+"","float_num")))}catch(e){console.error("logToTTWebview error:",e)}},window.felog("fe_template","start_import")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){(function(t){var r=n(212),i=n(118),o=n(213),a=n(214),s=n(70),c=s.isErrorEvent,l=s.isDOMError,u=s.isDOMException,d=s.isError,p=s.isObject,f=s.isPlainObject,h=s.isUndefined,m=s.isFunction,_=s.isString,g=s.isArray,v=s.isEmptyObject,y=s.each,w=s.objectMerge,E=s.truncate,b=s.objectFrozen,S=s.hasKey,x=s.joinRegExp,N=s.urlencode,O=s.uuid4,T=s.htmlTreeAsString,C=s.isSameException,A=s.isSameStacktrace,I=s.parseUrl,k=s.fill,D=s.supportsFetch,P=s.supportsReferrerPolicy,R=s.serializeKeysForMessage,L=s.serializeException,M=s.sanitize,j=n(215).wrapMethod,U="source protocol user pass host port path".split(" "),F=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;function H(){return+new Date}var B="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},V=B.document,q=B.navigator;function W(e,t){return m(t)?function(n){return t(n,e)}:t}function G(){for(var e in this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!h(V),this._hasNavigator=!h(q),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:B.SENTRY_RELEASE&&B.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this._fetchDefaults={method:"POST",referrerPolicy:P()?"origin":""},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=B.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=H(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=B.location,this._lastHref=this._location&&this._location.href,this._resetBackoff(),this._originalConsole)this._originalConsoleMethods[e]=this._originalConsole[e]}G.prototype={VERSION:"3.27.2",debug:!1,TraceKit:r,config:function(e,t){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!e)return n;var i=n._globalOptions;t&&y(t,(function(e,t){"tags"===e||"extra"===e||"user"===e?n._globalContext[e]=t:i[e]=t})),n.setDSN(e),i.ignoreErrors.push(/^Script error\.?$/),i.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),i.ignoreErrors=x(i.ignoreErrors),i.ignoreUrls=!!i.ignoreUrls.length&&x(i.ignoreUrls),i.whitelistUrls=!!i.whitelistUrls.length&&x(i.whitelistUrls),i.includePaths=x(i.includePaths),i.maxBreadcrumbs=Math.max(0,Math.min(i.maxBreadcrumbs||100,100));var o={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},a=i.autoBreadcrumbs;"[object Object]"==={}.toString.call(a)?a=w(o,a):!1!==a&&(a=o),i.autoBreadcrumbs=a;var s={tryCatch:!0},c=i.instrument;return"[object Object]"==={}.toString.call(c)?c=w(s,c):!1!==c&&(c=s),i.instrument=c,r.collectWindowErrors=!!i.collectWindowErrors,n},install:function(){var e=this;return e.isSetup()&&!e._isRavenInstalled&&(r.report.subscribe((function(){e._handleOnErrorStackInfo.apply(e,arguments)})),e._globalOptions.captureUnhandledRejections&&e._attachPromiseRejectionHandler(),e._patchFunctionToString(),e._globalOptions.instrument&&e._globalOptions.instrument.tryCatch&&e._instrumentTryCatch(),e._globalOptions.autoBreadcrumbs&&e._instrumentBreadcrumbs(),e._drainPlugins(),e._isRavenInstalled=!0),Error.stackTraceLimit=e._globalOptions.stackTraceLimit,this},setDSN:function(e){var t=this._parseDSN(e),n=t.path.lastIndexOf("/"),r=t.path.substr(1,n);this._dsn=e,this._globalKey=t.user,this._globalSecret=t.pass&&t.pass.substr(1),this._globalProject=t.path.substr(n+1),this._globalServer=this._getGlobalServer(t),this._globalEndpoint=this._globalServer+"/"+r+"api/"+this._globalProject+"/store/",this._resetBackoff()},context:function(e,t,n){return m(e)&&(n=t||[],t=e,e={}),this.wrap(e,t).apply(this,n)},wrap:function(e,t,n){var r=this;if(h(t)&&!m(e))return e;if(m(e)&&(t=e,e=void 0),!m(t))return t;try{if(t.__raven__)return t;if(t.__raven_wrapper__)return t.__raven_wrapper__}catch(e){return t}function i(){var i=[],o=arguments.length,a=!e||e&&!1!==e.deep;for(n&&m(n)&&n.apply(this,arguments);o--;)i[o]=a?r.wrap(e,arguments[o]):arguments[o];try{return t.apply(this,i)}catch(t){throw r._ignoreNextOnError(),r.captureException(t,e),t}}for(var o in t)S(t,o)&&(i[o]=t[o]);return i.prototype=t.prototype,t.__raven_wrapper__=i,i.__raven__=!0,i.__orig__=t,i},uninstall:function(){return r.report.uninstall(),this._detachPromiseRejectionHandler(),this._unpatchFunctionToString(),this._restoreBuiltIns(),this._restoreConsole(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},_promiseRejectionHandler:function(e){this._logDebug("debug","Raven caught unhandled promise rejection:",e),this.captureException(e.reason,{mechanism:{type:"onunhandledrejection",handled:!1}})},_attachPromiseRejectionHandler:function(){return this._promiseRejectionHandler=this._promiseRejectionHandler.bind(this),B.addEventListener&&B.addEventListener("unhandledrejection",this._promiseRejectionHandler),this},_detachPromiseRejectionHandler:function(){return B.removeEventListener&&B.removeEventListener("unhandledrejection",this._promiseRejectionHandler),this},captureException:function(e,t){if(t=w({trimHeadFrames:0},t||{}),c(e)&&e.error)e=e.error;else{if(l(e)||u(e)){var n=e.name||(l(e)?"DOMError":"DOMException"),i=e.message?n+": "+e.message:n;return this.captureMessage(i,w(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}))}if(d(e))e=e;else{if(!f(e))return this.captureMessage(e,w(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}));t=this._getCaptureExceptionOptionsFromPlainObject(t,e),e=new Error(t.message)}}this._lastCapturedException=e;try{var o=r.computeStackTrace(e);this._handleStackInfo(o,t)}catch(t){if(e!==t)throw t}return this},_getCaptureExceptionOptionsFromPlainObject:function(e,t){var n=Object.keys(t).sort(),r=w(e,{message:"Non-Error exception captured with keys: "+R(n),fingerprint:[o(n)],extra:e.extra||{}});return r.extra.__serialized__=L(t),r},captureMessage:function(e,t){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)){var n,i=w({message:e+=""},t=t||{});try{throw new Error(e)}catch(e){n=e}n.name=null;var o=r.computeStackTrace(n),a=g(o.stack)&&o.stack[1];a&&"Raven.captureException"===a.func&&(a=o.stack[2]);var s=a&&a.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(s))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(s))){if(this._globalOptions.stacktrace||t.stacktrace||""===i.message){i.fingerprint=null==i.fingerprint?e:i.fingerprint,(t=w({trimHeadFrames:0},t)).trimHeadFrames+=1;var c=this._prepareFrames(o,t);i.stacktrace={frames:c.reverse()}}return i.fingerprint&&(i.fingerprint=g(i.fingerprint)?i.fingerprint:[i.fingerprint]),this._send(i),this}}},captureBreadcrumb:function(e){var t=w({timestamp:H()/1e3},e);if(m(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(t);if(p(n)&&!v(n))t=n;else if(!1===n)return this}return this._breadcrumbs.push(t),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(e){var t=[].slice.call(arguments,1);return this._plugins.push([e,t]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(e){return this._globalContext.user=e,this},setExtraContext:function(e){return this._mergeContext("extra",e),this},setTagsContext:function(e){return this._mergeContext("tags",e),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(i(this._globalContext))},setEnvironment:function(e){return this._globalOptions.environment=e,this},setRelease:function(e){return this._globalOptions.release=e,this},setDataCallback:function(e){var t=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=W(t,e),this},setBreadcrumbCallback:function(e){var t=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=W(t,e),this},setShouldSendCallback:function(e){var t=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=W(t,e),this},setTransport:function(e){return this._globalOptions.transport=e,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var e=B.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(V){if(!(e=w({eventId:this.lastEventId(),dsn:this._dsn,user:this._globalContext.user||{}},e)).eventId)throw new a("Missing eventId");if(!e.dsn)throw new a("Missing DSN");var t=encodeURIComponent,n=[];for(var r in e)if("user"===r){var i=e.user;i.name&&n.push("name="+t(i.name)),i.email&&n.push("email="+t(i.email))}else n.push(t(r)+"="+t(e[r]));var o=this._getGlobalServer(this._parseDSN(e.dsn)),s=V.createElement("script");s.async=!0,s.src=o+"/api/embed/error-page/?"+n.join("&"),(V.head||V.body).appendChild(s)}},_ignoreNextOnError:function(){var e=this;this._ignoreOnError+=1,setTimeout((function(){e._ignoreOnError-=1}))},_triggerEvent:function(e,t){var n,r;if(this._hasDocument){for(r in t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),V.createEvent?(n=V.createEvent("HTMLEvents")).initEvent(e,!0,!0):(n=V.createEventObject()).eventType=e,t)S(t,r)&&(n[r]=t[r]);if(V.createEvent)V.dispatchEvent(n);else try{V.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(e){}}},_breadcrumbEventHandler:function(e){var t=this;return function(n){if(t._keypressTimeout=null,t._lastCapturedEvent!==n){var r;t._lastCapturedEvent=n;try{r=T(n.target)}catch(e){r="<unknown>"}t.captureBreadcrumb({category:"ui."+e,message:r})}}},_keypressEventHandler:function(){var e=this;return function(t){var n;try{n=t.target}catch(e){return}var r=n&&n.tagName;if(r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)){var i=e._keypressTimeout;i||e._breadcrumbEventHandler("input")(t),clearTimeout(i),e._keypressTimeout=setTimeout((function(){e._keypressTimeout=null}),1e3)}}},_captureUrlChange:function(e,t){var n=I(this._location.href),r=I(t),i=I(e);this._lastHref=t,n.protocol===r.protocol&&n.host===r.host&&(t=r.relative),n.protocol===i.protocol&&n.host===i.host&&(e=i.relative),this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},_patchFunctionToString:function(){var e=this;e._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return"function"==typeof this&&this.__raven__?e._originalFunctionToString.apply(this.__orig__,arguments):e._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){var e=this,t=e._wrappedBuiltIns;function n(t){return function(n,r){for(var i=new Array(arguments.length),o=0;o<i.length;++o)i[o]=arguments[o];var a=i[0];return m(a)&&(i[0]=e.wrap({mechanism:{type:"instrument",data:{function:t.name||"<anonymous>"}}},a)),t.apply?t.apply(this,i):t(i[0],i[1])}}var r=this._globalOptions.autoBreadcrumbs;function i(n){var i=B[n]&&B[n].prototype;i&&i.hasOwnProperty&&i.hasOwnProperty("addEventListener")&&(k(i,"addEventListener",(function(t){return function(i,o,a,s){try{o&&o.handleEvent&&(o.handleEvent=e.wrap({mechanism:{type:"instrument",data:{target:n,function:"handleEvent",handler:o&&o.name||"<anonymous>"}}},o.handleEvent))}catch(e){}var c,l,u;return r&&r.dom&&("EventTarget"===n||"Node"===n)&&(l=e._breadcrumbEventHandler("click"),u=e._keypressEventHandler(),c=function(e){if(e){var t;try{t=e.type}catch(e){return}return"click"===t?l(e):"keypress"===t?u(e):void 0}}),t.call(this,i,e.wrap({mechanism:{type:"instrument",data:{target:n,function:"addEventListener",handler:o&&o.name||"<anonymous>"}}},o,c),a,s)}}),t),k(i,"removeEventListener",(function(e){return function(t,n,r,i){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(e){}return e.call(this,t,n,r,i)}}),t))}k(B,"setTimeout",n,t),k(B,"setInterval",n,t),B.requestAnimationFrame&&k(B,"requestAnimationFrame",(function(t){return function(n){return t(e.wrap({mechanism:{type:"instrument",data:{function:"requestAnimationFrame",handler:t&&t.name||"<anonymous>"}}},n))}}),t);for(var o=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],a=0;a<o.length;a++)i(o[a])},_instrumentBreadcrumbs:function(){var e=this,t=this._globalOptions.autoBreadcrumbs,n=e._wrappedBuiltIns;function r(t,n){t in n&&m(n[t])&&k(n,t,(function(n){return e.wrap({mechanism:{type:"instrument",data:{function:t,handler:n&&n.name||"<anonymous>"}}},n)}))}if(t.xhr&&"XMLHttpRequest"in B){var i=B.XMLHttpRequest&&B.XMLHttpRequest.prototype;k(i,"open",(function(t){return function(n,r){return _(r)&&-1===r.indexOf(e._globalKey)&&(this.__raven_xhr={method:n,url:r,status_code:null}),t.apply(this,arguments)}}),n),k(i,"send",(function(t){return function(){var n=this;function i(){if(n.__raven_xhr&&4===n.readyState){try{n.__raven_xhr.status_code=n.status}catch(e){}e.captureBreadcrumb({type:"http",category:"xhr",data:n.__raven_xhr})}}for(var o=["onload","onerror","onprogress"],a=0;a<o.length;a++)r(o[a],n);return"onreadystatechange"in n&&m(n.onreadystatechange)?k(n,"onreadystatechange",(function(t){return e.wrap({mechanism:{type:"instrument",data:{function:"onreadystatechange",handler:t&&t.name||"<anonymous>"}}},t,i)})):n.onreadystatechange=i,t.apply(this,arguments)}}),n)}t.xhr&&D()&&k(B,"fetch",(function(t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;++r)n[r]=arguments[r];var i,o=n[0],a="GET";if("string"==typeof o?i=o:"Request"in B&&o instanceof B.Request?(i=o.url,o.method&&(a=o.method)):i=""+o,-1!==i.indexOf(e._globalKey))return t.apply(this,n);n[1]&&n[1].method&&(a=n[1].method);var s={method:a,url:i,status_code:null};return t.apply(this,n).then((function(t){return s.status_code=t.status,e.captureBreadcrumb({type:"http",category:"fetch",data:s}),t})).catch((function(t){throw e.captureBreadcrumb({type:"http",category:"fetch",data:s,level:"error"}),t}))}}),n),t.dom&&this._hasDocument&&(V.addEventListener?(V.addEventListener("click",e._breadcrumbEventHandler("click"),!1),V.addEventListener("keypress",e._keypressEventHandler(),!1)):V.attachEvent&&(V.attachEvent("onclick",e._breadcrumbEventHandler("click")),V.attachEvent("onkeypress",e._keypressEventHandler())));var o=B.chrome,a=!(o&&o.app&&o.app.runtime)&&B.history&&B.history.pushState&&B.history.replaceState;if(t.location&&a){var s=B.onpopstate;B.onpopstate=function(){var t=e._location.href;if(e._captureUrlChange(e._lastHref,t),s)return s.apply(this,arguments)};var c=function(t){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&e._captureUrlChange(e._lastHref,n+""),t.apply(this,arguments)}};k(B.history,"pushState",c,n),k(B.history,"replaceState",c,n)}if(t.console&&"console"in B&&console.log){var l=function(t,n){e.captureBreadcrumb({message:t,level:n.level,category:"console"})};y(["debug","info","warn","error","log"],(function(e,t){j(console,t,l)}))}},_restoreBuiltIns:function(){for(var e;this._wrappedBuiltIns.length;){var t=(e=this._wrappedBuiltIns.shift())[0],n=e[1],r=e[2];t[n]=r}},_restoreConsole:function(){for(var e in this._originalConsoleMethods)this._originalConsole[e]=this._originalConsoleMethods[e]},_drainPlugins:function(){var e=this;y(this._plugins,(function(t,n){var r=n[0],i=n[1];r.apply(e,[e].concat(i))}))},_parseDSN:function(e){var t=F.exec(e),n={},r=7;try{for(;r--;)n[U[r]]=t[r]||""}catch(t){throw new a("Invalid DSN: "+e)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new a("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},_handleOnErrorStackInfo:function(e,t){(t=t||{}).mechanism=t.mechanism||{type:"onerror",handled:!1},this._ignoreOnError||this._handleStackInfo(e,t)},_handleStackInfo:function(e,t){var n=this._prepareFrames(e,t);this._triggerEvent("handle",{stackInfo:e,options:t}),this._processException(e.name,e.message,e.url,e.lineno,n,t)},_prepareFrames:function(e,t){var n=this,r=[];if(e.stack&&e.stack.length&&(y(e.stack,(function(t,i){var o=n._normalizeFrame(i,e.url);o&&r.push(o)})),t&&t.trimHeadFrames))for(var i=0;i<t.trimHeadFrames&&i<r.length;i++)r[i].in_app=!1;return r=r.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(e,t){var n={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"};return e.url||(n.filename=t),n.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n.function)||/raven\.(min\.)?js$/.test(n.filename)),n},_processException:function(e,t,n,r,i,o){var a,s=(e?e+": ":"")+(t||"");if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)&&!this._globalOptions.ignoreErrors.test(s))&&(i&&i.length?(n=i[0].filename||n,i.reverse(),a={frames:i}):n&&(a={frames:[{filename:n,lineno:r,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n)))){var c=w({exception:{values:[{type:e,value:t,stacktrace:a}]},transaction:n},o),l=c.exception.values[0];null==l.type&&""===l.value&&(l.value="Unrecoverable error caught"),!c.exception.mechanism&&c.mechanism&&(c.exception.mechanism=c.mechanism,delete c.mechanism),c.exception.mechanism=w({type:"generic",handled:!0},c.exception.mechanism||{}),this._send(c)}},_trimPacket:function(e){var t=this._globalOptions.maxMessageLength;if(e.message&&(e.message=E(e.message,t)),e.exception){var n=e.exception.values[0];n.value=E(n.value,t)}var r=e.request;return r&&(r.url&&(r.url=E(r.url,this._globalOptions.maxUrlLength)),r.Referer&&(r.Referer=E(r.Referer,this._globalOptions.maxUrlLength))),e.breadcrumbs&&e.breadcrumbs.values&&this._trimBreadcrumbs(e.breadcrumbs),e},_trimBreadcrumbs:function(e){for(var t,n,r,i=["to","from","url"],o=0;o<e.values.length;++o)if((n=e.values[o]).hasOwnProperty("data")&&p(n.data)&&!b(n.data)){r=w({},n.data);for(var a=0;a<i.length;++a)t=i[a],r.hasOwnProperty(t)&&r[t]&&(r[t]=E(r[t],this._globalOptions.maxUrlLength));e.values[o].data=r}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var e={};return this._hasNavigator&&q.userAgent&&(e.headers={"User-Agent":q.userAgent}),B.location&&B.location.href&&(e.url=B.location.href),this._hasDocument&&V.referrer&&(e.headers||(e.headers={}),e.headers.Referer=V.referrer),e}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&H()-this._backoffStart<this._backoffDuration},_isRepeatData:function(e){var t=this._lastData;return!(!t||e.message!==t.message||e.transaction!==t.transaction)&&(e.stacktrace||t.stacktrace?A(e.stacktrace,t.stacktrace):e.exception||t.exception?C(e.exception,t.exception):!e.fingerprint&&!t.fingerprint||Boolean(e.fingerprint&&t.fingerprint)&&JSON.stringify(e.fingerprint)===JSON.stringify(t.fingerprint))},_setBackoffState:function(e){if(!this._shouldBackoff()){var t=e.status;if(400===t||401===t||429===t){var n;try{n=D()?e.headers.get("Retry-After"):e.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(e){}this._backoffDuration=n||(2*this._backoffDuration||1e3),this._backoffStart=H()}}},_send:function(e){var t=this._globalOptions,n={project:this._globalProject,logger:t.logger,platform:"javascript"},r=this._getHttpData();r&&(n.request=r),e.trimHeadFrames&&delete e.trimHeadFrames,(e=w(n,e)).tags=w(w({},this._globalContext.tags),e.tags),e.extra=w(w({},this._globalContext.extra),e.extra),e.extra["session:duration"]=H()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(e.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(e.user=this._globalContext.user),t.environment&&(e.environment=t.environment),t.release&&(e.release=t.release),t.serverName&&(e.server_name=t.serverName),e=this._sanitizeData(e),Object.keys(e).forEach((function(t){(null==e[t]||""===e[t]||v(e[t]))&&delete e[t]})),m(t.dataCallback)&&(e=t.dataCallback(e)||e),e&&!v(e)&&(m(t.shouldSendCallback)&&!t.shouldSendCallback(e)||(this._shouldBackoff()?this._logDebug("warn","Raven dropped error due to backoff: ",e):"number"==typeof t.sampleRate?Math.random()<t.sampleRate&&this._sendProcessedPayload(e):this._sendProcessedPayload(e)))},_sanitizeData:function(e){return M(e,this._globalOptions.sanitizeKeys)},_getUuid:function(){return O()},_sendProcessedPayload:function(e,t){var n=this,r=this._globalOptions;if(this.isSetup())if(e=this._trimPacket(e),this._globalOptions.allowDuplicates||!this._isRepeatData(e)){this._lastEventId=e.event_id||(e.event_id=this._getUuid()),this._lastData=e,this._logDebug("debug","Raven about to send:",e);var i={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(i.sentry_secret=this._globalSecret);var o=e.exception&&e.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:o?(o.type?o.type+": ":"")+o.value:e.message,event_id:e.event_id,level:e.level||"error"});var a=this._globalEndpoint;(r.transport||this._makeRequest).call(this,{url:a,auth:i,data:e,options:r,onSuccess:function(){n._resetBackoff(),n._triggerEvent("success",{data:e,src:a}),t&&t()},onError:function(r){n._logDebug("error","Raven transport failed to send: ",r),r.request&&n._setBackoffState(r.request),n._triggerEvent("failure",{data:e,src:a}),r=r||new Error("Raven send failed (no additional details provided)"),t&&t(r)}})}else this._logDebug("warn","Raven dropped repeat event: ",e)},_makeRequest:function(e){var t=e.url+"?"+N(e.auth),n=null,r={};if(e.options.headers&&(n=this._evaluateHash(e.options.headers)),e.options.fetchParameters&&(r=this._evaluateHash(e.options.fetchParameters)),D()){r.body=i(e.data);var o=w({},this._fetchDefaults),a=w(o,r);return n&&(a.headers=n),B.fetch(t,a).then((function(t){if(t.ok)e.onSuccess&&e.onSuccess();else{var n=new Error("Sentry error code: "+t.status);n.request=t,e.onError&&e.onError(n)}})).catch((function(){e.onError&&e.onError(new Error("Sentry error code: network unavailable"))}))}var s=B.XMLHttpRequest&&new B.XMLHttpRequest;s&&(("withCredentials"in s||"undefined"!=typeof XDomainRequest)&&("withCredentials"in s?s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)e.onSuccess&&e.onSuccess();else if(e.onError){var t=new Error("Sentry error code: "+s.status);t.request=s,e.onError(t)}}:(s=new XDomainRequest,t=t.replace(/^https?:/,""),e.onSuccess&&(s.onload=e.onSuccess),e.onError&&(s.onerror=function(){var t=new Error("Sentry error code: XDomainRequest");t.request=s,e.onError(t)})),s.open("POST",t),n&&y(n,(function(e,t){s.setRequestHeader(e,t)})),s.send(i(e.data))))},_evaluateHash:function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t[n]="function"==typeof r?r():r}return t},_logDebug:function(e){this._originalConsoleMethods[e]&&(this.debug||this._globalOptions.debug)&&Function.prototype.apply.call(this._originalConsoleMethods[e],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(e,t){h(t)?delete this._globalContext[e]:this._globalContext[e]=w(this._globalContext[e]||{},t)}},G.prototype.setUser=G.prototype.setUserContext,G.prototype.setReleaseContext=G.prototype.setRelease,e.exports=G}).call(this,n(49))},function(e,t,n){(function(t){var r=n(70),i={collectWindowErrors:!0,debug:!1},o="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},a=[].slice,s="?",c=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function l(){return"undefined"==typeof document||null==document.location?"":document.location.href}i.report=function(){var e,t,n=[],u=null,d=null,p=null;function f(e,t){var r=null;if(!t||i.collectWindowErrors){for(var o in n)if(n.hasOwnProperty(o))try{n[o].apply(null,[e].concat(a.call(arguments,2)))}catch(e){r=e}if(r)throw r}}function h(t,n,o,a,u){var d=r.isErrorEvent(u)?u.error:u,h=r.isErrorEvent(t)?t.message:t;if(p)i.computeStackTrace.augmentStackTraceWithInitialElement(p,n,o,h),m();else if(d&&r.isError(d))f(i.computeStackTrace(d),!0);else{var _,g={url:n,line:o,column:a},v=void 0;if("[object String]"==={}.toString.call(h))(_=h.match(c))&&(v=_[1],h=_[2]);g.func=s,f({name:v,message:h,url:l(),stack:[g]},!0)}return!!e&&e.apply(this,arguments)}function m(){var e=p,t=u;u=null,p=null,d=null,f.apply(null,[e,!1].concat(t))}function _(e,t){var n=a.call(arguments,1);if(p){if(d===e)return;m()}var r=i.computeStackTrace(e);if(p=r,d=e,u=n,setTimeout((function(){d===e&&m()}),r.incomplete?2e3:0),!1!==t)throw e}return _.subscribe=function(r){!function(){if(t)return;e=o.onerror,o.onerror=h,t=!0}(),n.push(r)},_.unsubscribe=function(e){for(var t=n.length-1;t>=0;--t)n[t]===e&&n.splice(t,1)},_.uninstall=function(){!function(){if(!t)return;o.onerror=e,t=!1,e=void 0}(),n=[]},_}(),i.computeStackTrace=function(){function e(e){if(void 0!==e.stack&&e.stack){for(var t,n,r,i=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,c=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,u=/\((\S*)(?::(\d+))(?::(\d+))\)/,d=e.stack.split("\n"),p=[],f=(/^(.*) is undefined$/.exec(e.message),0),h=d.length;f<h;++f){if(n=i.exec(d[f])){var m=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=u.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:m?null:n[2],func:n[1]||s,args:m?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=o.exec(d[f]))r={url:n[2],func:n[1]||s,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=a.exec(d[f])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=c.exec(n[3]))?(n[3]=t[1],n[4]=t[2],n[5]=null):0!==f||n[5]||void 0===e.columnNumber||(p[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||s,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}if(!r.func&&r.line&&(r.func=s),r.url&&"blob:"===r.url.substr(0,5)){var _=new XMLHttpRequest;if(_.open("GET",r.url,!1),_.send(null),200===_.status){var g=_.responseText||"",v=(g=g.slice(-300)).match(/\/\/# sourceMappingURL=(.*)$/);if(v){var y=v[1];"~"===y.charAt(0)&&(y=("undefined"==typeof document||null==document.location?"":document.location.origin?document.location.origin:document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:""))+y.slice(1)),r.url=y.slice(0,-4)}}}p.push(r)}return p.length?{name:e.name,message:e.message,url:l(),stack:p}:null}}function t(e,t,n,r){var i={url:t,line:n};if(i.url&&i.line){if(e.incomplete=!1,i.func||(i.func=s),e.stack.length>0&&e.stack[0].url===i.url){if(e.stack[0].line===i.line)return!1;if(!e.stack[0].line&&e.stack[0].func===i.func)return e.stack[0].line=i.line,!1}return e.stack.unshift(i),e.partial=!0,!0}return e.incomplete=!0,!1}function n(e,o){for(var a,c,u=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,d=[],p={},f=!1,h=n.caller;h&&!f;h=h.caller)if(h!==r&&h!==i.report){if(c={url:null,func:s,line:null,column:null},h.name?c.func=h.name:(a=u.exec(h.toString()))&&(c.func=a[1]),void 0===c.func)try{c.func=a.input.substring(0,a.input.indexOf("{"))}catch(e){}p[""+h]?f=!0:p[""+h]=!0,d.push(c)}o&&d.splice(0,o);var m={name:e.name,message:e.message,url:l(),stack:d};return t(m,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),m}function r(t,r){var o=null;r=null==r?0:+r;try{if(o=e(t))return o}catch(e){if(i.debug)throw e}try{if(o=n(t,r+1))return o}catch(e){if(i.debug)throw e}return{name:t.name,message:t.message,url:l()}}return r.augmentStackTraceWithInitialElement=t,r.computeStackTraceFromStackProp=e,r}(),e.exports=i}).call(this,n(49))},function(e,t){function n(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function r(e,t,r,i,o,a){return n((s=n(n(t,e),n(i,a)))<<(c=o)|s>>>32-c,r);var s,c}function i(e,t,n,i,o,a,s){return r(t&n|~t&i,e,t,o,a,s)}function o(e,t,n,i,o,a,s){return r(t&i|n&~i,e,t,o,a,s)}function a(e,t,n,i,o,a,s){return r(t^n^i,e,t,o,a,s)}function s(e,t,n,i,o,a,s){return r(n^(t|~i),e,t,o,a,s)}function c(e,t){var r,c,l,u,d;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var p=1732584193,f=-271733879,h=-1732584194,m=271733878;for(r=0;r<e.length;r+=16)c=p,l=f,u=h,d=m,p=i(p,f,h,m,e[r],7,-680876936),m=i(m,p,f,h,e[r+1],12,-389564586),h=i(h,m,p,f,e[r+2],17,606105819),f=i(f,h,m,p,e[r+3],22,-1044525330),p=i(p,f,h,m,e[r+4],7,-176418897),m=i(m,p,f,h,e[r+5],12,1200080426),h=i(h,m,p,f,e[r+6],17,-1473231341),f=i(f,h,m,p,e[r+7],22,-45705983),p=i(p,f,h,m,e[r+8],7,1770035416),m=i(m,p,f,h,e[r+9],12,-1958414417),h=i(h,m,p,f,e[r+10],17,-42063),f=i(f,h,m,p,e[r+11],22,-1990404162),p=i(p,f,h,m,e[r+12],7,1804603682),m=i(m,p,f,h,e[r+13],12,-40341101),h=i(h,m,p,f,e[r+14],17,-1502002290),p=o(p,f=i(f,h,m,p,e[r+15],22,1236535329),h,m,e[r+1],5,-165796510),m=o(m,p,f,h,e[r+6],9,-1069501632),h=o(h,m,p,f,e[r+11],14,643717713),f=o(f,h,m,p,e[r],20,-373897302),p=o(p,f,h,m,e[r+5],5,-701558691),m=o(m,p,f,h,e[r+10],9,38016083),h=o(h,m,p,f,e[r+15],14,-660478335),f=o(f,h,m,p,e[r+4],20,-405537848),p=o(p,f,h,m,e[r+9],5,568446438),m=o(m,p,f,h,e[r+14],9,-1019803690),h=o(h,m,p,f,e[r+3],14,-187363961),f=o(f,h,m,p,e[r+8],20,1163531501),p=o(p,f,h,m,e[r+13],5,-1444681467),m=o(m,p,f,h,e[r+2],9,-51403784),h=o(h,m,p,f,e[r+7],14,1735328473),p=a(p,f=o(f,h,m,p,e[r+12],20,-1926607734),h,m,e[r+5],4,-378558),m=a(m,p,f,h,e[r+8],11,-2022574463),h=a(h,m,p,f,e[r+11],16,1839030562),f=a(f,h,m,p,e[r+14],23,-35309556),p=a(p,f,h,m,e[r+1],4,-1530992060),m=a(m,p,f,h,e[r+4],11,1272893353),h=a(h,m,p,f,e[r+7],16,-155497632),f=a(f,h,m,p,e[r+10],23,-1094730640),p=a(p,f,h,m,e[r+13],4,681279174),m=a(m,p,f,h,e[r],11,-358537222),h=a(h,m,p,f,e[r+3],16,-722521979),f=a(f,h,m,p,e[r+6],23,76029189),p=a(p,f,h,m,e[r+9],4,-640364487),m=a(m,p,f,h,e[r+12],11,-421815835),h=a(h,m,p,f,e[r+15],16,530742520),p=s(p,f=a(f,h,m,p,e[r+2],23,-995338651),h,m,e[r],6,-198630844),m=s(m,p,f,h,e[r+7],10,1126891415),h=s(h,m,p,f,e[r+14],15,-1416354905),f=s(f,h,m,p,e[r+5],21,-57434055),p=s(p,f,h,m,e[r+12],6,1700485571),m=s(m,p,f,h,e[r+3],10,-1894986606),h=s(h,m,p,f,e[r+10],15,-1051523),f=s(f,h,m,p,e[r+1],21,-2054922799),p=s(p,f,h,m,e[r+8],6,1873313359),m=s(m,p,f,h,e[r+15],10,-30611744),h=s(h,m,p,f,e[r+6],15,-1560198380),f=s(f,h,m,p,e[r+13],21,1309151649),p=s(p,f,h,m,e[r+4],6,-145523070),m=s(m,p,f,h,e[r+11],10,-1120210379),h=s(h,m,p,f,e[r+2],15,718787259),f=s(f,h,m,p,e[r+9],21,-343485551),p=n(p,c),f=n(f,l),h=n(h,u),m=n(m,d);return[p,f,h,m]}function l(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function u(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function d(e){var t,n,r="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),r+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return r}function p(e){return unescape(encodeURIComponent(e))}function f(e){return function(e){return l(c(u(e),8*e.length))}(p(e))}function h(e,t){return function(e,t){var n,r,i=u(e),o=[],a=[];for(o[15]=a[15]=void 0,i.length>16&&(i=c(i,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],a[n]=1549556828^i[n];return r=c(o.concat(u(t)),512+8*t.length),l(c(a.concat(r),640))}(p(e),p(t))}e.exports=function(e,t,n){return t?n?h(t,e):d(h(t,e)):n?f(e):d(f(e))}},function(e,t){function n(e){this.name="RavenConfigError",this.message=e}n.prototype=new Error,n.prototype.constructor=n,e.exports=n},function(e,t,n){var r=n(70);e.exports={wrapMethod:function(e,t,n){var i=e[t],o=e;if(t in e){var a="warn"===t?"warning":t;e[t]=function(){var e=[].slice.call(arguments),s=r.safeJoin(e," "),c={level:a,logger:"console",extra:{arguments:e}};"assert"===t?!1===e[0]&&(s="Assertion failed: "+(r.safeJoin(e.slice(1)," ")||"console.assert"),c.extra.arguments=e.slice(1),n&&n(s,c)):n&&n(s,c),i&&Function.prototype.apply.call(i,o,e)}}}}},function(e,t,n){"use strict";function r(e,t){return e(t={exports:{}},t.exports),t.exports}var i=r((function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)})),o=r((function(e){var t=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=t)})),a=(o.version,"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},u=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},d=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},p=function(e){return"object"===(void 0===e?"undefined":a(e))?null!==e:"function"==typeof e},f=function(e){if(!p(e))throw TypeError(e+" is not an object!");return e},h=function(e){try{return!!e()}catch(e){return!0}},m=!h((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),_=i.document,g=p(_)&&p(_.createElement),v=function(e){return g?_.createElement(e):{}},y=!m&&!h((function(){return 7!=Object.defineProperty(v("div"),"a",{get:function(){return 7}}).a})),w=Object.defineProperty,E={f:m?Object.defineProperty:function(e,t,n){if(f(e),t=function(e,t){if(!p(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!p(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!p(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!p(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}(t,!0),f(n),y)try{return w(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},b=m?function(e,t,n){return E.f(e,t,function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}(1,n))}:function(e,t,n){return e[t]=n,e},S={}.hasOwnProperty,x=function(e,t){return S.call(e,t)},N=0,O=Math.random(),T=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++N+O).toString(36))},C=r((function(e){var t=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,n){return t[e]||(t[e]=void 0!==n?n:{})})("versions",[]).push({version:o.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})})),A=C("native-function-to-string",Function.toString),I=r((function(e){var t=T("src"),n=(""+A).split("toString");o.inspectSource=function(e){return A.call(e)},(e.exports=function(e,r,o,a){var s="function"==typeof o;s&&(x(o,"name")||b(o,"name",r)),e[r]!==o&&(s&&(x(o,t)||b(o,t,e[r]?""+e[r]:n.join(String(r)))),e===i?e[r]=o:a?e[r]?e[r]=o:b(e,r,o):(delete e[r],b(e,r,o)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[t]||A.call(this)}))})),k=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},D=function(e,t,n){if(k(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},P=function e(t,n,r){var a,s,c,l,u=t&e.F,d=t&e.G,p=t&e.P,f=t&e.B,h=d?i:t&e.S?i[n]||(i[n]={}):(i[n]||{}).prototype,m=d?o:o[n]||(o[n]={}),_=m.prototype||(m.prototype={});for(a in d&&(r=n),r)c=((s=!u&&h&&void 0!==h[a])?h:r)[a],l=f&&s?D(c,i):p&&"function"==typeof c?D(Function.call,c):c,h&&I(h,a,c,t&e.U),m[a]!=c&&b(m,a,l),p&&_[a]!=c&&(_[a]=c)};i.core=o,P.F=1,P.G=2,P.S=4,P.P=8,P.B=16,P.W=32,P.U=64,P.R=128;var R,L=P,M={}.toString,j=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==function(e){return M.call(e).slice(8,-1)}(e)?e.split(""):Object(e)},U=function(e){return j(function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}(e))},F=Math.ceil,H=Math.floor,B=function(e){return isNaN(e=+e)?0:(e>0?H:F)(e)},V=Math.min,q=Math.max,W=Math.min,G=C("keys"),z=function(e){return G[e]||(G[e]=T(e))},Y=(R=!1,function(e,t,n){var r,i,o=U(e),a=(r=o.length)>0?V(B(r),9007199254740991):0,s=function(e,t){return(e=B(e))<0?q(e+t,0):W(e,t)}(n,a);if(R&&t!=t){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((R||s in o)&&o[s]===t)return R||s||0;return!R&&-1}),X=z("IE_PROTO"),K="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),J=Object.keys||function(e){return function(e,t){var n,r=U(e),i=0,o=[];for(n in r)n!=X&&x(r,n)&&o.push(n);for(;t.length>i;)x(r,n=t[i++])&&(~Y(o,n)||o.push(n));return o}(e,K)},$=m?Object.defineProperties:function(e,t){f(e);for(var n,r=J(t),i=r.length,o=0;i>o;)E.f(e,n=r[o++],t[n]);return e},Z=i.document,Q=Z&&Z.documentElement,ee=z("IE_PROTO"),te=function(){},ne=function(){var e,t=v("iframe"),n=K.length;for(t.style.display="none",Q.appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),ne=e.F;n--;)delete ne.prototype[K[n]];return ne()},re=Object.create||function(e,t){var n;return null!==e?(te.prototype=f(e),n=new te,te.prototype=null,n[ee]=e):n=ne(),void 0===t?n:$(n,t)},ie=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)},oe=[].slice,ae={},se=function(e,t,n){if(!(t in ae)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";ae[t]=Function("F,a","return new F("+r.join(",")+")")}return ae[t](e,n)},ce=Function.bind||function(e){var t=k(this),n=oe.call(arguments,1),r=function r(){var i=n.concat(oe.call(arguments));return this instanceof r?se(t,i.length,i):ie(t,i,e)};return p(t.prototype)&&(r.prototype=t.prototype),r},le=(i.Reflect||{}).construct,ue=h((function(){function e(){}return!(le((function(){}),[],e)instanceof e)})),de=!h((function(){le((function(){}))}));L(L.S+L.F*(ue||de),"Reflect",{construct:function(e,t){k(e),f(t);var n=arguments.length<3?e:k(arguments[2]);if(de&&!ue)return le(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(ce.apply(e,r))}var i=n.prototype,o=re(p(i)?i:Object.prototype),a=Function.apply.call(e,o,t);return p(a)?a:o}});o.Reflect.construct;
/**
@license @nocompile
Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/(function(){var e=new Set("annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" "));function t(t){var n=e.has(t);return t=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(t),!n&&t}function n(e){var t=e.isConnected;if(void 0!==t)return t;for(;e&&!(e.__CE_isImportDocument||e instanceof Document);)e=e.parentNode||(window.ShadowRoot&&e instanceof ShadowRoot?e.host:void 0);return!(!e||!(e.__CE_isImportDocument||e instanceof Document))}function r(e,t){for(;t&&t!==e&&!t.nextSibling;)t=t.parentNode;return t&&t!==e?t.nextSibling:null}function i(e,t,n){n=void 0===n?new Set:n;for(var o=e;o;){if(o.nodeType===Node.ELEMENT_NODE){var a=o;t(a);var s=a.localName;if("link"===s&&"import"===a.getAttribute("rel")){if((o=a.import)instanceof Node&&!n.has(o))for(n.add(o),o=o.firstChild;o;o=o.nextSibling)i(o,t,n);o=r(e,a);continue}if("template"===s){o=r(e,a);continue}if(a=a.__CE_shadowRoot)for(a=a.firstChild;a;a=a.nextSibling)i(a,t,n)}o=o.firstChild?o.firstChild:r(e,o)}}function o(e,t,n){e[t]=n}function a(){this.a=new Map,this.g=new Map,this.c=[],this.f=[],this.b=!1}function s(e,t){e.b&&i(t,(function(t){return c(e,t)}))}function c(e,t){if(e.b&&!t.__CE_patched){t.__CE_patched=!0;for(var n=0;n<e.c.length;n++)e.c[n](t);for(n=0;n<e.f.length;n++)e.f[n](t)}}function l(e,t){var n=[];for(i(t,(function(e){return n.push(e)})),t=0;t<n.length;t++){var r=n[t];1===r.__CE_state?e.connectedCallback(r):p(e,r)}}function u(e,t){var n=[];for(i(t,(function(e){return n.push(e)})),t=0;t<n.length;t++){var r=n[t];1===r.__CE_state&&e.disconnectedCallback(r)}}function d(e,t,n){var r=(n=void 0===n?{}:n).u||new Set,o=n.i||function(t){return p(e,t)},a=[];if(i(t,(function(t){if("link"===t.localName&&"import"===t.getAttribute("rel")){var n=t.import;n instanceof Node&&(n.__CE_isImportDocument=!0,n.__CE_hasRegistry=!0),n&&"complete"===n.readyState?n.__CE_documentLoadHandled=!0:t.addEventListener("load",(function(){var n=t.import;if(!n.__CE_documentLoadHandled){n.__CE_documentLoadHandled=!0;var i=new Set(r);i.delete(n),d(e,n,{u:i,i:o})}}))}else a.push(t)}),r),e.b)for(t=0;t<a.length;t++)c(e,a[t]);for(t=0;t<a.length;t++)o(a[t])}function p(e,t){if(void 0===t.__CE_state){var r=t.ownerDocument;if((r.defaultView||r.__CE_isImportDocument&&r.__CE_hasRegistry)&&(r=e.a.get(t.localName))){r.constructionStack.push(t);var i=r.constructorFunction;try{try{if(new i!==t)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{r.constructionStack.pop()}}catch(e){throw t.__CE_state=2,e}if(t.__CE_state=1,t.__CE_definition=r,r.attributeChangedCallback)for(r=r.observedAttributes,i=0;i<r.length;i++){var o=r[i],a=t.getAttribute(o);null!==a&&e.attributeChangedCallback(t,o,null,a,null)}n(t)&&e.connectedCallback(t)}}}function f(e){var t=document;this.c=e,this.a=t,this.b=void 0,d(this.c,this.a),"loading"===this.a.readyState&&(this.b=new MutationObserver(this.f.bind(this)),this.b.observe(this.a,{childList:!0,subtree:!0}))}function h(e){e.b&&e.b.disconnect()}function m(){var e=this;this.b=this.a=void 0,this.c=new Promise((function(t){e.b=t,e.a&&t(e.a)}))}function _(e){if(e.a)throw Error("Already resolved.");e.a=void 0,e.b&&e.b(void 0)}function g(e){this.c=!1,this.a=e,this.j=new Map,this.f=function(e){return e()},this.b=!1,this.g=[],this.o=new f(e)}a.prototype.connectedCallback=function(e){var t=e.__CE_definition;t.connectedCallback&&t.connectedCallback.call(e)},a.prototype.disconnectedCallback=function(e){var t=e.__CE_definition;t.disconnectedCallback&&t.disconnectedCallback.call(e)},a.prototype.attributeChangedCallback=function(e,t,n,r,i){var o=e.__CE_definition;o.attributeChangedCallback&&-1<o.observedAttributes.indexOf(t)&&o.attributeChangedCallback.call(e,t,n,r,i)},f.prototype.f=function(e){var t=this.a.readyState;for("interactive"!==t&&"complete"!==t||h(this),t=0;t<e.length;t++)for(var n=e[t].addedNodes,r=0;r<n.length;r++)d(this.c,n[r])},g.prototype.l=function(e,n){var r=this;if(!(n instanceof Function))throw new TypeError("Custom element constructors must be functions.");if(!t(e))throw new SyntaxError("The element name '"+e+"' is not valid.");if(this.a.a.get(e))throw Error("A custom element with name '"+e+"' has already been defined.");if(this.c)throw Error("A custom element is already being defined.");this.c=!0;try{var i=function(e){var t=o[e];if(void 0!==t&&!(t instanceof Function))throw Error("The '"+e+"' callback must be a function.");return t},o=n.prototype;if(!(o instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var a=i("connectedCallback"),s=i("disconnectedCallback"),c=i("adoptedCallback"),l=i("attributeChangedCallback"),u=n.observedAttributes||[]}catch(e){return}finally{this.c=!1}n={localName:e,constructorFunction:n,connectedCallback:a,disconnectedCallback:s,adoptedCallback:c,attributeChangedCallback:l,observedAttributes:u,constructionStack:[]},function(e,t,n){e.a.set(t,n),e.g.set(n.constructorFunction,n)}(this.a,e,n),this.g.push(n),this.b||(this.b=!0,this.f((function(){return function(e){if(!1!==e.b){e.b=!1;for(var t=e.g,n=[],r=new Map,i=0;i<t.length;i++)r.set(t[i].localName,[]);for(d(e.a,document,{i:function(t){if(void 0===t.__CE_state){var i=t.localName,o=r.get(i);o?o.push(t):e.a.a.get(i)&&n.push(t)}}}),i=0;i<n.length;i++)p(e.a,n[i]);for(;0<t.length;){var o=t.shift();i=o.localName,o=r.get(o.localName);for(var a=0;a<o.length;a++)p(e.a,o[a]);(i=e.j.get(i))&&_(i)}}}(r)})))},g.prototype.i=function(e){d(this.a,e)},g.prototype.get=function(e){if(e=this.a.a.get(e))return e.constructorFunction},g.prototype.m=function(e){if(!t(e))return Promise.reject(new SyntaxError("'"+e+"' is not a valid custom element name."));var n=this.j.get(e);return n?n.c:(n=new m,this.j.set(e,n),this.a.a.get(e)&&!this.g.some((function(t){return t.localName===e}))&&_(n),n.c)},g.prototype.s=function(e){h(this.o);var t=this.f;this.f=function(n){return e((function(){return t(n)}))}},window.CustomElementRegistry=g,g.prototype.define=g.prototype.l,g.prototype.upgrade=g.prototype.i,g.prototype.get=g.prototype.get,g.prototype.whenDefined=g.prototype.m,g.prototype.polyfillWrapFlushCallback=g.prototype.s;var v=window.Document.prototype.createElement,y=window.Document.prototype.createElementNS,w=window.Document.prototype.importNode,E=window.Document.prototype.prepend,b=window.Document.prototype.append,S=window.DocumentFragment.prototype.prepend,x=window.DocumentFragment.prototype.append,N=window.Node.prototype.cloneNode,O=window.Node.prototype.appendChild,T=window.Node.prototype.insertBefore,C=window.Node.prototype.removeChild,A=window.Node.prototype.replaceChild,I=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),k=window.Element.prototype.attachShadow,D=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),P=window.Element.prototype.getAttribute,R=window.Element.prototype.setAttribute,L=window.Element.prototype.removeAttribute,M=window.Element.prototype.getAttributeNS,j=window.Element.prototype.setAttributeNS,U=window.Element.prototype.removeAttributeNS,F=window.Element.prototype.insertAdjacentElement,H=window.Element.prototype.insertAdjacentHTML,B=window.Element.prototype.prepend,V=window.Element.prototype.append,q=window.Element.prototype.before,W=window.Element.prototype.after,G=window.Element.prototype.replaceWith,z=window.Element.prototype.remove,Y=window.HTMLElement,X=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),K=window.HTMLElement.prototype.insertAdjacentElement,J=window.HTMLElement.prototype.insertAdjacentHTML,$=new function(){};function Z(e,t,r){function i(t){return function(r){for(var i=[],o=0;o<arguments.length;++o)i[o]=arguments[o];o=[];for(var a=[],s=0;s<i.length;s++){var c=i[s];if(c instanceof Element&&n(c)&&a.push(c),c instanceof DocumentFragment)for(c=c.firstChild;c;c=c.nextSibling)o.push(c);else o.push(c)}for(t.apply(this,i),i=0;i<a.length;i++)u(e,a[i]);if(n(this))for(i=0;i<o.length;i++)(a=o[i])instanceof Element&&l(e,a)}}void 0!==r.h&&(t.prepend=i(r.h)),void 0!==r.append&&(t.append=i(r.append))}var Q,ee=window.customElements;if(!ee||ee.forcePolyfill||"function"!=typeof ee.define||"function"!=typeof ee.get){var te=new a;Q=te,window.HTMLElement=function(){function e(){var e=this.constructor,t=Q.g.get(e);if(!t)throw Error("The custom element being constructed was not registered with `customElements`.");var n=t.constructionStack;if(0===n.length)return n=v.call(document,t.localName),Object.setPrototypeOf(n,e.prototype),n.__CE_state=1,n.__CE_definition=t,c(Q,n),n;var r=n[t=n.length-1];if(r===$)throw Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");return n[t]=$,Object.setPrototypeOf(r,e.prototype),c(Q,r),r}return e.prototype=Y.prototype,Object.defineProperty(e.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:e}),e}(),function(){var e=te;o(Document.prototype,"createElement",(function(t){if(this.__CE_hasRegistry){var n=e.a.get(t);if(n)return new n.constructorFunction}return t=v.call(this,t),c(e,t),t})),o(Document.prototype,"importNode",(function(t,n){return t=w.call(this,t,!!n),this.__CE_hasRegistry?d(e,t):s(e,t),t})),o(Document.prototype,"createElementNS",(function(t,n){if(this.__CE_hasRegistry&&(null===t||"http://www.w3.org/1999/xhtml"===t)){var r=e.a.get(n);if(r)return new r.constructorFunction}return t=y.call(this,t,n),c(e,t),t})),Z(e,Document.prototype,{h:E,append:b})}(),Z(te,DocumentFragment.prototype,{h:S,append:x}),function(){function e(e,r){Object.defineProperty(e,"textContent",{enumerable:r.enumerable,configurable:!0,get:r.get,set:function(e){if(this.nodeType===Node.TEXT_NODE)r.set.call(this,e);else{var i=void 0;if(this.firstChild){var o=this.childNodes,a=o.length;if(0<a&&n(this)){i=Array(a);for(var s=0;s<a;s++)i[s]=o[s]}}if(r.set.call(this,e),i)for(e=0;e<i.length;e++)u(t,i[e])}}})}var t=te;o(Node.prototype,"insertBefore",(function(e,r){if(e instanceof DocumentFragment){var i=Array.prototype.slice.apply(e.childNodes);if(e=T.call(this,e,r),n(this))for(r=0;r<i.length;r++)l(t,i[r]);return e}return i=n(e),r=T.call(this,e,r),i&&u(t,e),n(this)&&l(t,e),r})),o(Node.prototype,"appendChild",(function(e){if(e instanceof DocumentFragment){var r=Array.prototype.slice.apply(e.childNodes);if(e=O.call(this,e),n(this))for(var i=0;i<r.length;i++)l(t,r[i]);return e}return r=n(e),i=O.call(this,e),r&&u(t,e),n(this)&&l(t,e),i})),o(Node.prototype,"cloneNode",(function(e){return e=N.call(this,!!e),this.ownerDocument.__CE_hasRegistry?d(t,e):s(t,e),e})),o(Node.prototype,"removeChild",(function(e){var r=n(e),i=C.call(this,e);return r&&u(t,e),i})),o(Node.prototype,"replaceChild",(function(e,r){if(e instanceof DocumentFragment){var i=Array.prototype.slice.apply(e.childNodes);if(e=A.call(this,e,r),n(this))for(u(t,r),r=0;r<i.length;r++)l(t,i[r]);return e}i=n(e);var o=A.call(this,e,r),a=n(this);return a&&u(t,r),i&&u(t,e),a&&l(t,e),o})),I&&I.get?e(Node.prototype,I):function(e,t){e.b=!0,e.c.push(t)}(t,(function(t){e(t,{enumerable:!0,configurable:!0,get:function(){for(var e=[],t=0;t<this.childNodes.length;t++){var n=this.childNodes[t];n.nodeType!==Node.COMMENT_NODE&&e.push(n.textContent)}return e.join("")},set:function(e){for(;this.firstChild;)C.call(this,this.firstChild);null!=e&&""!==e&&O.call(this,document.createTextNode(e))}})}))}(),function(){function e(e,t){Object.defineProperty(e,"innerHTML",{enumerable:t.enumerable,configurable:!0,get:t.get,set:function(e){var r=this,o=void 0;if(n(this)&&(o=[],i(this,(function(e){e!==r&&o.push(e)}))),t.set.call(this,e),o)for(var c=0;c<o.length;c++){var l=o[c];1===l.__CE_state&&a.disconnectedCallback(l)}return this.ownerDocument.__CE_hasRegistry?d(a,this):s(a,this),e}})}function t(e,t){o(e,"insertAdjacentElement",(function(e,r){var i=n(r);return e=t.call(this,e,r),i&&u(a,r),n(e)&&l(a,r),e}))}function r(e,t){function n(e,t){for(var n=[];e!==t;e=e.nextSibling)n.push(e);for(t=0;t<n.length;t++)d(a,n[t])}o(e,"insertAdjacentHTML",(function(e,r){if("beforebegin"===(e=e.toLowerCase())){var i=this.previousSibling;t.call(this,e,r),n(i||this.parentNode.firstChild,this)}else if("afterbegin"===e)i=this.firstChild,t.call(this,e,r),n(this.firstChild,i);else if("beforeend"===e)i=this.lastChild,t.call(this,e,r),n(i||this.firstChild,null);else{if("afterend"!==e)throw new SyntaxError("The value provided ("+String(e)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");i=this.nextSibling,t.call(this,e,r),n(this.nextSibling,i)}}))}var a=te;k&&o(Element.prototype,"attachShadow",(function(e){e=k.call(this,e);var t=a;if(t.b&&!e.__CE_patched){e.__CE_patched=!0;for(var n=0;n<t.c.length;n++)t.c[n](e)}return this.__CE_shadowRoot=e})),D&&D.get?e(Element.prototype,D):X&&X.get?e(HTMLElement.prototype,X):function(e,t){e.b=!0,e.f.push(t)}(a,(function(t){e(t,{enumerable:!0,configurable:!0,get:function(){return N.call(this,!0).innerHTML},set:function(e){var t="template"===this.localName,n=t?this.content:this,r=y.call(document,this.namespaceURI,this.localName);for(r.innerHTML=e;0<n.childNodes.length;)C.call(n,n.childNodes[0]);for(e=t?r.content:r;0<e.childNodes.length;)O.call(n,e.childNodes[0])}})})),o(Element.prototype,"setAttribute",(function(e,t){if(1!==this.__CE_state)return R.call(this,e,t);var n=P.call(this,e);R.call(this,e,t),t=P.call(this,e),a.attributeChangedCallback(this,e,n,t,null)})),o(Element.prototype,"setAttributeNS",(function(e,t,n){if(1!==this.__CE_state)return j.call(this,e,t,n);var r=M.call(this,e,t);j.call(this,e,t,n),n=M.call(this,e,t),a.attributeChangedCallback(this,t,r,n,e)})),o(Element.prototype,"removeAttribute",(function(e){if(1!==this.__CE_state)return L.call(this,e);var t=P.call(this,e);L.call(this,e),null!==t&&a.attributeChangedCallback(this,e,t,null,null)})),o(Element.prototype,"removeAttributeNS",(function(e,t){if(1!==this.__CE_state)return U.call(this,e,t);var n=M.call(this,e,t);U.call(this,e,t);var r=M.call(this,e,t);n!==r&&a.attributeChangedCallback(this,t,n,r,e)})),K?t(HTMLElement.prototype,K):F?t(Element.prototype,F):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched."),J?r(HTMLElement.prototype,J):H?r(Element.prototype,H):console.warn("Custom Elements: `Element#insertAdjacentHTML` was not patched."),Z(a,Element.prototype,{h:B,append:V}),function(e){function t(t){return function(r){for(var i=[],o=0;o<arguments.length;++o)i[o]=arguments[o];o=[];for(var a=[],s=0;s<i.length;s++){var c=i[s];if(c instanceof Element&&n(c)&&a.push(c),c instanceof DocumentFragment)for(c=c.firstChild;c;c=c.nextSibling)o.push(c);else o.push(c)}for(t.apply(this,i),i=0;i<a.length;i++)u(e,a[i]);if(n(this))for(i=0;i<o.length;i++)(a=o[i])instanceof Element&&l(e,a)}}var r=Element.prototype;void 0!==q&&(r.before=t(q)),void 0!==q&&(r.after=t(W)),void 0!==G&&o(r,"replaceWith",(function(t){for(var r=[],i=0;i<arguments.length;++i)r[i]=arguments[i];i=[];for(var o=[],a=0;a<r.length;a++){var s=r[a];if(s instanceof Element&&n(s)&&o.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)i.push(s);else i.push(s)}for(a=n(this),G.apply(this,r),r=0;r<o.length;r++)u(e,o[r]);if(a)for(u(e,this),r=0;r<i.length;r++)(o=i[r])instanceof Element&&l(e,o)})),void 0!==z&&o(r,"remove",(function(){var t=n(this);z.call(this),t&&u(e,this)}))}(a)}(),document.__CE_hasRegistry=!0;var ne=new g(te);Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:ne})}}).call(window);var pe=navigator.userAgent,fe=/Android/.test(pe),he=/iPad|iPhone|iPod/.test(pe)&&!window.MSStream,me=window.enableBDNative||window.ttGlobalConfig&&ttGlobalConfig.isRenderInBrowser&&ttGlobalConfig.isRenderInBrowser();function _e(){return fe}function ge(){return he}function ve(){return me}var ye,we=(ye=[0,1],function e(t){return"number"==typeof ye[t]?ye[t]:ye[t]=e(t-1)+e(t-2)});function Ee(e,t,n){return me?ge?e:t:n}var be={},Se=1;window.NativeComponentsBridge=window.NativeComponentsBridge||{invoke:function(e,t,n){console.info(e,t),n||"function"!=typeof t||(n=t,t=null),function(e,t){var n=e.handlerName;if(t){var r="cb_"+Se+++"_"+(new Date).getTime();be[r]=t,e.callbackId=r}e=JSON.stringify(e),_e()?ttJSCore[n](e):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.nativeInvokeHandler&&window.webkit.messageHandlers.nativeInvokeHandler.postMessage(e)}({handlerName:e,data:t},n)},_handleMessageFromObjC:function(e){var t=JSON.parse(e);if(t.responseId){var n=be[t.responseId];n&&(n(t.responseData),delete be[t.responseId])}}};var xe=window.NativeComponentsBridge.invoke,Ne=function(){function e(){s(this,e),this.listeners={}}return c(e,[{key:"addEventListener",value:function(e,t){var n=this;return e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t),function(){return n.removeEventListener(e,t)}}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,i=n.length;r<i;r++)if(n[r]===t)return n.splice(r,1),this.removeEventListener(e,t)}},{key:"dispatchEvent",value:function(e){if(e.type in this.listeners){var t=this.listeners[e.type];e.target=this;for(var n=0,r=t.length;n<r;n++)t[n].call(this,e)}}}]),e}(),Oe=function e(t,n){s(this,e),this.type=t,this.target=null,Object.assign(this,n)},Te=new Ne,Ce=19,Ae={INIT:0,INSERTING:1,INSERT_FAIL:2},Ie=null;function ke(){Ie&&cancelAnimationFrame(Ie),Ie=requestAnimationFrame(je)}var De={},Pe={},Re={};function Le(e){De[e].element.dispatchEventInsertError(),delete De[e]}function Me(e){var t=e.tryTimes,n=void 0===t?1:t,r=e.nextTime;e.nextTime=r?we(n)+e.nextTime:we(n)+Date.now()}function je(){var e,t=Date.now(),n=[];(e=De,Object.keys(e).map((function(t){return e[t]}))).forEach((function(e){e.state!==Ae.INSERTING&&e.nextTime<=t&&(e.state=Ae.INSERTING,n.push(e))})),n.length&&xe("insertNativeTag",{data:n.map((function(e){return{type:e.type,id:e.id,data:e.data}}))},(function(e){var t=e.data;n.forEach((function(e){e.tryTimes=e.tryTimes?e.tryTimes+1:1})),t&&t.length?t.forEach((function(e){var t=e.id,n=e.result;De[t]&&(0===n?(De[t].element.dispatchEventInsertSuccess(),delete De[t]):De[t].tryTimes>=Ce?Le(t):(De[t].state=Ae.INSERT_FAIL,Me(De[t])))})):n.forEach((function(e){var t=e.id;De[t]&&(De[t].state=Ae.INSERT_FAIL,De[t].tryTimes>=Ce?Le(t):Me(De[t]))})),console.info("insertNativeTag callback",{data:t})})),Object.keys(De).length&&ke();var r=Object.keys(Pe).map((function(e){return Pe[e]}));r.length&&xe("updateNativeTag",{data:r},(function(e){console.info("updateNativeTag callback",e)})),Pe={};var i=Object.keys(Re).map((function(e){return Re[e]}));i.length&&xe("deleteNativeTag",{data:i},(function(e){console.info("deleteNativeTag callback",e)})),Re={}}function Ue(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}window.onBDNativeEvent=function(e,t){console.info(t),Te.dispatchEvent(new Oe(e,{data:t}))},Object.setPrototypeOf(Ue.prototype,HTMLElement.prototype),Object.setPrototypeOf(Ue,HTMLElement);var Fe=["class","style"];function He(e){return Fe.indexOf(e)>=0}var Be,Ve=(Be=1e7,function(){return++Be}),qe=function(e){function t(){var e,n,r;s(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._id=Ve(),r._data={},r.isInserted=!1,r._type=r.tagName.toLowerCase(),r._actionQuque=[],d(r,n)}return u(t,e),c(t,[{key:"connectedCallback",value:function(){var e,t=this,n=this._type,r=this._id;this.buildInnerHTML(),ve()?(e={type:n,id:r,data:this.getNativeAttributes(),element:this},De[e.id]=e,e.nextTime=Date.now(),ke(),this.removeNativeActionListener=Te.addEventListener("nativeTagAction",(function(e){var n,r=e.data,i=r.action,o=r.id,a="on"+("string"!=typeof(n=i)?"":n.charAt(0).toUpperCase()+n.slice(1));o===t._id&&("function"==typeof t[a]?t[a](e):t.dispatchEvent(new CustomEvent(i,{detail:e.data})))}))):this.copyAttributeToWebTag()}},{key:"disconnectedCallback",value:function(){var e;this.isInserted=!1,this.innerHTML="",ve()&&(e={id:this._id},Re[e.id]=e,delete De[e.id],ke(),this.removeNativeActionListener())}},{key:"attributeChangedCallback",value:function(e,t,n){this.firstChild&&(ve()?function(e){var t=e.id;Pe[t]?Object.assign(Pe[t],e):Pe[t]=e,ke()}({type:this._type,id:this._id,data:this.getNativeAttributes()}):He(e)||(null!=n?this.firstChild.setAttribute(e,this.getAttribute(e)):this.firstChild.removeAttribute(e)))}},{key:"getNativeAttributes",value:function(){var e=this,t={};this.constructor.observedAttributes.forEach((function(n){if(!He(n)){var r=n.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}));t[r]=e[r]}}));var n=getComputedStyle(this);return t.borderRadius=n.borderRadius,t.objectFit=n.objectFit,_e()&&(t.zIndex=n.zIndex,t.backgroundColor=n.backgroundColor),t}},{key:"copyAttributeToWebTag",value:function(){var e=this;this.constructor.observedAttributes.forEach((function(t){if(!He(t)){var n=e.getAttribute(t);null!=n?e.firstChild.setAttribute(t,n):e.firstChild.removeAttribute(t)}}))}},{key:"buildInnerHTML",value:function(){ge()?this.innerHTML=['<native-element-inner style="-webkit-overflow-scrolling:touch;overflow:scroll;width:100%;height:100%;display:block;">','<div style="width:100%;height:100%;"></div>','<div style="width:100%;height:'+this._id+'px;"></div>',"</native-element-inner>"].join(""):_e()&&(this.innerHTML='<div tt-render-in-browser="'+this._id+'" style="width:100%;height:100%;"></div>')}},{key:"dispatchAction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];this.isInserted||this._actionQuque.push([e,t,n]),xe("dispatchAction",{data:{id:this._id,methodName:e,data:t}},n)}}],[{key:"observedAttributes",get:function(){return Fe}}]),t}(Ue),We=function(e){function t(){return s(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"dispatchEventInsertError",value:function(){this.isInserted=!1,this.dispatchEvent(new Event("inserterror"))}},{key:"dispatchEventInsertSuccess",value:function(){this.isInserted=!0,this._actionQuque.length&&this._actionQuque.forEach((function(e){return xe.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e))})),this.dispatchEvent(new Event("insertsuccess"))}},{key:"src",get:function(){return this.getAttribute("src")},set:function(e){this.setAttribute("src",e)}},{key:"dataExtra",get:function(){return this.getAttribute("data-extra")},set:function(e){return this.setAttribute("data-extra",e)}}],[{key:"observedAttributes",get:function(){return qe.observedAttributes.concat(["src","data-extra"])}}]),t}(qe),Ge=function(e){function t(){var e,n,r;s(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.naturalWidth=0,r.naturalHeight=0,d(r,n)}return u(t,e),c(t,[{key:"dispatchEventLoad",value:function(){this.dispatchEvent(new Event("load"))}},{key:"dispatchEventError",value:function(){this.dispatchEvent(new Event("error"))}}]),t}(We),ze=function(e){function t(){return s(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"onImageLoadFinish",value:function(e){var t=e.data.params,n=void 0===t?{}:t;this.naturalWidth=n.width||0,this.naturalHeight=n.height||0,0===n.code?this.dispatchEventLoad():this.dispatchEventError()}}]),t}(Ge),Ye=function(e){function t(){return s(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"imageLoadFinish",value:function(e){var t=e.data.params,n=void 0===t?{}:t;this.naturalWidth=n.width||0,this.naturalHeight=n.height||0,0===n.code?this.dispatchEvent(new Event("load")):this.dispatchEvent(new Event("error"))}}]),t}(Ge),Xe={webp:"jpg",awebp:"gif",heic:"jpg"},Ke=Ee(ze,Ye,function(e){function t(){return s(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"buildInnerHTML",value:function(){this.innerHTML='<img style="width:100%;height:100%;"></img>'}},{key:"connectedCallback",value:function(){var e=this;l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this);var n=this.firstChild;n.addEventListener("load",(function(t){e.naturalHeight=n.naturalHeight,e.naturalWidth=n.naturalWidth,e.dispatchEventLoad()})),n.addEventListener("error",(function(t){return e.dispatchEventError()}))}},{key:"getAttribute",value:function(e){var n=l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getAttribute",this).call(this,e);return"src"===e&&ge()?n.replace(/\.(webp|heic|awebp)/i,(function(e,t){return"."+Xe[t]})):n}}]),t}(Ge)),Je=function(e){function t(){return s(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"play",value:function(){}},{key:"pause",value:function(){}},{key:"stop",value:function(){}},{key:"dispatchEventCanPlay",value:function(){this.dispatchEvent(new Event("canplay"))}},{key:"dispatchEventLoadedData",value:function(){this.dispatchEvent(new Event("loadeddata"))}},{key:"dispatchEventLoadStart",value:function(){this.dispatchEvent(new Event("loadstart"))}},{key:"dispatchEventEnded",value:function(){this.dispatchEvent(new Event("ended"))}},{key:"dispatchEventPause",value:function(){this.dispatchEvent(new Event("pause"))}},{key:"dispatchEventPlay",value:function(){this.dispatchEvent(new Event("play"))}},{key:"dispatchEventPlaying",value:function(){this.dispatchEvent(new Event("playing"))}},{key:"dispatchEventSeeked",value:function(){this.dispatchEvent(new Event("seeked"))}},{key:"dispatchEventSeeking",value:function(){this.dispatchEvent(new Event("seeking"))}},{key:"dispatchEventLoad",value:function(){this.dispatchEvent(new Event("load"))}},{key:"dispatchEventError",value:function(){this.dispatchEvent(new Event("error"))}},{key:"dispatchEventFullScreenChange",value:function(){this.dispatchEvent(new Event("fullscreenchange"))}},{key:"vid",get:function(){return this.getAttribute("vid")}},{key:"vertical",get:function(){return parseInt(this.getAttribute("vertical")||0,10)}},{key:"autoplay",get:function(){return null!=this.getAttribute("autoplay")}},{key:"controls",get:function(){return null!=this.getAttribute("controls")}},{key:"loop",get:function(){return null!=this.getAttribute("loop")}},{key:"muted",get:function(){return null!=this.getAttribute("muted")}},{key:"poster",get:function(){return this.getAttribute("poster")}},{key:"initialTime",get:function(){var e=this.getAttribute("initial-time");return null==e?0:parseInt(e,10)}}],[{key:"observedAttributes",get:function(){return We.observedAttributes.concat(["vid","vertical","autoplay","controls","loop","muted","poster","initial-time"])}}]),t}(We),$e=Ee(function(e){function t(){return s(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"play",value:function(){this.dispatchAction("play")}},{key:"pause",value:function(){this.dispatchAction("pause")}},{key:"stop",value:function(){this.dispatchAction("stop")}}]),t}(Je),function(e){function t(){return s(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"play",value:function(){this.dispatchAction("play")}},{key:"pause",value:function(){this.dispatchAction("pause")}},{key:"stop",value:function(){this.dispatchAction("stop")}}]),t}(Je),function(e){function t(){return s(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"buildInnerHTML",value:function(){this.innerHTML='<video style="width:100%;height:100%;"></video>'}},{key:"connectedCallback",value:function(){var e=this;l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this);var n=this.firstChild;Object.keys(this._data).forEach((function(t){var r=t.replace(/\B([A-Z])/g,"-$1").toLowerCase(),i=e._data[t];e.isBooleanAttribute(r)?i?n.setAttribute(r,r):n.removeAttribute(r):n.setAttribute(r,i)})),this.initiaTime&&(n.currentTime=this.initiaTime),n.addEventListener("canplay",(function(t){return e.dispatchEventCanPlay()})),n.addEventListener("loadeddata",(function(t){return e.dispatchEventLoadedData()})),n.addEventListener("loadstart",(function(t){return e.dispatchEventLoadStart()})),n.addEventListener("ended",(function(t){return e.dispatchEventEnded()})),n.addEventListener("error",(function(t){return e.dispatchEventError()})),n.addEventListener("pause",(function(t){return e.dispatchEventPause()})),n.addEventListener("play",(function(t){return e.dispatchEventPlay()})),n.addEventListener("playing",(function(t){return e.dispatchEventPlaying()})),n.addEventListener("seeked",(function(t){return e.dispatchEventSeeked()})),n.addEventListener("seeking",(function(t){return e.dispatchEventSeeking()}))}},{key:"play",value:function(){this.firstChild.play()}},{key:"pause",value:function(){this.firstChild.pause()}},{key:"stop",value:function(){this.firstChild.pause(),this.firstChild.currentTime=0}}]),t}(Je));function Ze(){customElements.define("native-image",Ke),customElements.define("native-video",$e)}/complete|interactive/.test(document.readyState)?Ze():document.addEventListener("DOMContentLoaded",Ze)},function(e,t){var n=document.body,r=document.createElement("div");r.id="empty",n.appendChild(r)},,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){n(242),e.exports=n(9).Object.entries},function(e,t,n){var r=n(12),i=n(243)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},function(e,t,n){var r=n(17),i=n(29),o=n(22),a=n(37).f;e.exports=function(e){return function(t){for(var n,s=o(t),c=i(s),l=c.length,u=0,d=[];l>u;)n=c[u++],r&&!a.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}}},function(e,t,n){e.exports=!n(42)&&!n(33)((function(){return 7!=Object.defineProperty(n(245)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(32),i=n(40).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(32);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){e.exports=n(78)("native-function-to-string",Function.toString)},function(e,t){e.exports=!1},function(e,t,n){var r=n(39);r(r.P,"Function",{bind:n(251)})},function(e,t,n){"use strict";var r=n(79),i=n(32),o=n(252),a=[].slice,s={},c=function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?c(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){"use strict";var r=n(39),i=n(254)(1);r(r.P+r.F*!n(258)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},function(e,t,n){var r=n(125),i=n(80),o=n(126),a=n(53),s=n(255);e.exports=function(e,t){var n=1==e,c=2==e,l=3==e,u=4==e,d=6==e,p=5==e||d,f=t||s;return function(t,s,h){for(var m,_,g=o(t),v=i(g),y=r(s,h,3),w=a(v.length),E=0,b=n?f(t,w):c?f(t,0):void 0;w>E;E++)if((p||E in v)&&(_=y(m=v[E],E,g),e))if(n)b[E]=_;else if(_)switch(e){case 3:return!0;case 5:return m;case 6:return E;case 2:b.push(m)}else if(u)return!1;return d?-1:l||u?u:b}}},function(e,t,n){var r=n(256);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(32),i=n(257),o=n(43)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(51);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){"use strict";var r=n(33);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var r=n(39);r(r.S+r.F,"Object",{assign:n(261)})},function(e,t,n){"use strict";var r=n(42),i=n(262),o=n(268),a=n(269),s=n(126),c=n(80),l=Object.assign;e.exports=!l||n(33)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r}))?function(e,t){for(var n=s(e),l=arguments.length,u=1,d=o.f,p=a.f;l>u;)for(var f,h=c(arguments[u++]),m=d?i(h).concat(d(h)):i(h),_=m.length,g=0;_>g;)f=m[g++],r&&!p.call(h,f)||(n[f]=h[f]);return n}:l},function(e,t,n){var r=n(263),i=n(267);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(124),i=n(127),o=n(264)(!1),a=n(266)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),c=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~o(l,n)||l.push(n));return l}},function(e,t,n){var r=n(127),i=n(53),o=n(265);e.exports=function(e){return function(t,n,a){var s,c=r(t),l=i(c.length),u=o(a,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(81),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(78)("keys"),i=n(77);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(271),i=n(272),o=n(273);e.exports=function(e){return r(e)||i(e)||o()}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){"use strict";n(50),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(277),n(284);var r=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n={},r={};return(e=(t=t.toLowerCase()).match(/android;?[\s/]+([\d.]+)?/))?(n.android=!0,e[1]&&(n.version=e[1])):((e=t.match(/ipod(?:.*os\s([\d_]+))?/))?(n.ipod=!0,e[1]&&(n.version=e[1].split("_").join("."))):(e=t.match(/ipad.*os\s([\d_]+)/))?(n.ipad=!0,n.version=e[1].split("_").join(".")):(e=t.match(/iphone\sos\s([\d_]+)/))&&(n.iphone=!0,n.version=e[1].split("_").join(".")),n.ios=n.ipad||n.iphone||n.ipod),(e=t.match(/micromessenger[\s/]+([\d.]+)/))?(r.weixin=!0,r.version=e[1]):(e=t.match(/\sqq[\s/]+([\d.]+)/))?(r.qq=!0,r.version=e[1]):(e=t.match(/weibo[\s_]+([\d.]+)/))&&(r.weibo=!0,r.version=e[1]),{browser:r,os:n}};t.default=r,e.exports=t.default},function(e,t,n){"use strict";var r=n(278),i=n(41),o=n(279),a=n(133),s=n(53),c=n(134),l=n(82),u=n(33),d=Math.min,p=[].push,f=!u((function(){RegExp(4294967295,"y")}));n(135)("split",2,(function(e,t,n,u){var h;return h="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(i,e,t);for(var o,a,s,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,f=void 0===t?4294967295:t>>>0,h=new RegExp(e.source,u+"g");(o=l.call(h,i))&&!((a=h.lastIndex)>d&&(c.push(i.slice(d,o.index)),o.length>1&&o.index<i.length&&p.apply(c,o.slice(1)),s=o[0].length,d=a,c.length>=f));)h.lastIndex===o.index&&h.lastIndex++;return d===i.length?!s&&h.test("")||c.push(""):c.push(i.slice(d)),c.length>f?c.slice(0,f):c}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var i=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):h.call(String(i),n,r)},function(e,t){var r=u(h,e,this,t,h!==n);if(r.done)return r.value;var l=i(e),p=String(this),m=o(l,RegExp),_=l.unicode,g=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(f?"y":"g"),v=new m(f?l:"^(?:"+l.source+")",g),y=void 0===t?4294967295:t>>>0;if(0===y)return[];if(0===p.length)return null===c(v,p)?[p]:[];for(var w=0,E=0,b=[];E<p.length;){v.lastIndex=f?E:0;var S,x=c(v,f?p:p.slice(E));if(null===x||(S=d(s(v.lastIndex+(f?0:E)),p.length))===w)E=a(p,E,_);else{if(b.push(p.slice(w,E)),b.length===y)return b;for(var N=1;N<=x.length-1;N++)if(b.push(x[N]),b.length===y)return b;E=w=S}}return b.push(p.slice(w)),b}]}))},function(e,t,n){var r=n(32),i=n(51),o=n(43)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(41),i=n(79),o=n(43)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},function(e,t,n){var r=n(81),i=n(52);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),c=r(n),l=s.length;return c<0||c>=l?e?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):o:e?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){var r=n(51),i=n(43)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){"use strict";var r=n(41);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(82);n(39)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(e,t,n){"use strict";var r=n(41),i=n(53),o=n(133),a=n(134);n(135)("match",1,(function(e,t,n,s){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var c=r(e),l=String(this);if(!c.global)return a(c,l);var u=c.unicode;c.lastIndex=0;for(var d,p=[],f=0;null!==(d=a(c,l));){var h=String(d[0]);p[f]=h,""===h&&(c.lastIndex=o(l,i(c.lastIndex),u)),f++}return 0===f?null:p}]}))},function(e,t,n){"use strict";var r=n(74),i=n(121);n(50),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(128)),a=i(n(129)),s=i(n(130)),c=i(n(131)),l=i(n(132)),u=r(n(0)),d=function(e){var t=e.touches[0];return t?{x:t.screenX,y:t.screenY}:{x:0,y:0}},p=function(e){function t(){var e;return(0,o.default)(this,t),(e=(0,s.default)(this,(0,c.default)(t).apply(this,arguments))).x=0,e.y=0,e.isSwipeX=!1,e.isSwipeY=!1,e.moveX=!1,e.moveY=!1,e.touchstartHandler=function(t){var n=d(t),r=n.x,i=n.y;if(e.currentTouches++,!(e.currentTouches>1)){var o=e.props,a=o.action,s=o.onStart;e.x=r,e.y=i,e.isSwipeX=!1,e.isSwipeY=!1,e.moveX=!0,e.moveY=!0,s&&s({x:r,y:i})&&("X"===a?e.moveX=!1:e.moveY=!1),window.__isTouchMove__=!1}},e.touchmoveHandler=function(t){if(!(e.currentTouches>1)){var n=d(t),r=n.x,i=n.y,o=e.props,a=o.onMoveX,s=o.onMoveY;if(window.__isTouchMove__=!1,e.isSwipeX||e.isSwipeY||(Math.abs(e.y-i)>5?(e.isSwipeY=!0,e.action=e.y-i>0?"up":"down"):Math.abs(e.x-r)>5&&(e.isSwipeX=!0,e.action=e.x-r>0?"left":"right")),e.isSwipeX&&!e.isSwipeY){if(e.endX=r,a&&a({X:r,action:e.action,moveX:e.moveX,x:e.x})&&(e.moveX=!1),e.moveX)return!1}else if(!e.isSwipeX&&e.isSwipeY&&(e.endY=i,s&&s({Y:i,action:e.action,moveY:e.moveY,y:e.y})&&(e.moveY=!1),e.moveY))return!1}},e.touchendHandler=function(){var t=e.props,n=t.onEndX,r=t.onEndY;e.currentTouches--,e.currentTouches>0||(e.currentTouches<0?e.currentTouches=0:e.moveX&&e.isSwipeX&&!e.isSwipeY?n&&n({X:e.endX,action:e.action,moveX:e.moveX,x:e.x}):e.moveY&&!e.isSwipeX&&e.isSwipeY&&r&&r({Y:e.endY,action:e.action,moveY:e.moveY,y:e.y}))},e}return(0,l.default)(t,e),(0,a.default)(t,[{key:"componentDidMount",value:function(){this.currentTouches=0,this.target&&(this.target.addEventListener("touchstart",this.touchstartHandler),this.target.addEventListener("touchmove",this.touchmoveHandler),this.target.addEventListener("touchend",this.touchendHandler),this.target.addEventListener("touchcancel",this.touchendHandler))}},{key:"componentWillUnmount",value:function(){this.target&&(this.target.removeEventListener("touchstart",this.touchstartHandler),this.target.removeEventListener("touchmove",this.touchmoveHandler),this.target.removeEventListener("touchend",this.touchendHandler),this.target.removeEventListener("touchcancel",this.touchendHandler))}},{key:"render",value:function(){var e=this,t=this.props.children;return u.createElement("div",null,u.cloneElement(t,{targetRef:function(t){e.target=t}}))}}]),t}(u.Component);p.defaultProps={onEndX:!1,onEndY:!1,onMoveX:!1,onMoveY:!1,onStart:!1};var f=p;t.default=f,e.exports=t.default},function(e,t,n){"use strict";var r=n(74);n(50),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=function(e){var t=e.children,n=e.size,r=e.targetRef,o=e.transitionDuration,a=e.vertical,s=e.transition,c=e.translate,l=e.sizeUnit,u={};return a?(u.transform="translateY(".concat(c).concat(l,")"),u.WebkitTransform="translateY(".concat(c).concat(l,")")):(u.width="".concat(t.length*n).concat(l),u.transform="translateX(".concat(c).concat(l,")"),u.WebkitTransform="translateX(".concat(c).concat(l,")")),s&&(u.transition="".concat(o,"ms")),i.createElement("div",{className:"lego-carousel-list",ref:function(e){r&&r(e)},style:u},t)};t.default=o,e.exports=t.default},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(26).__exportStar(n(307),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.CONTENT="content",e.ITEM="item"}(t.ECommentType||(t.ECommentType={})),function(e){e.SMART_HOT="smart_hot"}(t.ECommentSort||(t.ECommentSort={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(26);r.__exportStar(n(136),t),r.__exportStar(n(309),t),r.__exportStar(n(310),t),r.__exportStar(n(311),t),r.__exportStar(n(312),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatTime=function(e,t,n,r,i){var o;void 0===t&&(t=!0),void 0===n&&(n="-"),void 0===r&&(r=!0),void 0===i&&(i=!0);var a=(o="string"==typeof e?new Date(e.replace(/-/g,"/")):"number"==typeof e?new Date(1e3*e):e).getFullYear();if(isNaN(a))return"--";var s=o.getMonth()+1,c=o.getDate(),l=o.getHours(),u=o.getMinutes(),d=o.getSeconds(),p=s>9||"CN"===n?s:"0"+s,f=l>9||"CN"===n?l:"0"+l,h=c>9||"CN"===n?c:"0"+c,m=u>9?u:"0"+u,_=i?m+":"+(d>9?d:"0"+d):""+m;if("CN"===n){var g=r?a+"年":"";return t?""+g+p+"月"+h+"日 "+f+":"+_:""+g+p+"月"+h+"日"}var v=r?""+a+n:"";return t?""+v+p+n+h+" "+f+":"+_:""+v+p+n+h},t.formatDuration=function(e,t){void 0===t&&(t=!1);var n=e/60,r=Math.floor(n),i=""+r;r<10&&(i="0"+r);var o=e%60,a=Math.floor(o),s=""+a;return a<10&&(s="0"+a),t?i+"分"+s+"秒":i+":"+s},t.formatRelativeTime=function(e,n){var r;void 0===n&&(n="-"),r="string"==typeof e?new Date(e.replace(/-/g,"/")):"number"==typeof e?new Date(1e3*e):e;var i=new Date(r).getTime();if(i<=0)return"";var o=(new Date).getTime()-i,a=new Date(i).getFullYear();return o<864e5?o<6e4?"刚刚":o<36e5?Math.floor(o/6e4)+"分钟前":Math.floor(o/36e5)+"小时前":a===(new Date).getFullYear()?t.formatTime(i/1e3,!0,n,!1,!1):t.formatTime(i/1e3,!0,n,!0,!1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(136);t.formatImage=function(e,t,n,r,i,o){if(void 0===t&&(t="png"),!e)return"";if(!t)return"";if(!(n||r||i||o))return e+"~noop."+t;var a="";return n&&(a+=n),(r||i)&&(a=(a?a+"_":"")+(r&&Math.ceil(r)||0)+"x"+(i&&Math.ceil(i)||0)),o&&(a=(a?a+"_":"")+o),e+"~"+a+"."+t},t.formatMoney=function(e,t){void 0===t&&(t=2);var n=t;return t<0&&(n=0),((Number(e)||0)/100).toFixed(n)};var i="";t.parseUrlParam=function(e,t){void 0===t&&(t=i||window.location.href);var n=new RegExp("(\\?|&|#)"+e+"=([^#&]*)(#|&|$)"),r=t.match(n);return null!==r?decodeURIComponent(r[2]):null},t.setReplaceUrl=function(e){i=e},t.formatCount=function(e){if(!e)return 0;if(e<1e3)return e;if(e<1e4)return e.toString().replace(new RegExp("(\\d)(?=(\\d{3})+$)","ig"),"$1,");var t=(Math.floor(e/1e3)/10).toFixed(1).toString().split(".");return t[0]=t[0].replace(new RegExp("(\\d)(?=(\\d{3})+$)","ig"),"$1,"),t[1]=t[1].replace(/0+$/,""),t.join(".").replace(/\.+$/,"")+"万"},t.sliceCount=function(e){return e?e.toString().replace(new RegExp("(\\d)(?=(\\d{3})+$)","ig"),"$1,"):e},t.isPhoneNumber=function(e){return/^(13[0-9]|14[0-9]|15[0-9]|166|17[0-9]|18[0-9]|19[8|9])\d{8}$/.test(e)},t.formatPriceUnit=function(e,n,i){void 0===n&&(n=2);var o=r.getBrowserVersions().ios?"币":"元";return i?""+Number(e)/100+o:""+t.formatMoney(e,n)+o},t.parseJsonData=function(e){var t=null;if(e&&"string"==typeof e)try{t=JSON.parse(e)}catch(e){console.log("parse error",e)}return t},t.stringifyData=function(e){if(!e)return"";if("string"!=typeof e)try{return JSON.stringify(e)}catch(e){return""}return e},t.formatLearningPrice=function(e,t){void 0===t&&(t=!0);var n=r.getBrowserVersions().ios,i=Number(e/100).toFixed(2);return t?n?i+"币":"¥"+i:""+i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildOpenUrl=function(e){var t=e.path,n=e.params,r=e.schema,i=void 0===r?"sslocal":r,o=Object.keys(n),a="";return o.length>0&&(a="?"+o.map((function(e){return e+"="+encodeURIComponent(""+n[e])})).join("&")),i+"://"+t+a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compareVersions=function(e,t){for(var n=e.split("."),r=t.split("."),i=Math.max(n.length,r.length),o=0;o<i;o++){if(void 0===n[o])return-1;if(void 0===r[o])return 1;var a=Number(n[o]),s=Number(r[o]);if(a!==s)return a-s}return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(26),i=n(137);t.isRequestNeedLogin=function(e){return e===i.EResponseCode.ERROR_EXPIRED||e===i.EResponseCode.ERROR_LOGIN_IN_OTHER_DEVICE||e===i.EResponseCode.ERROR_NOT_LOGIN},t.delayPromise=function(e){return new Promise((function(t){setTimeout(t,e)}))},t.retry=function(e,n,i,o){return void 0===n&&(n=1),void 0===i&&(i=1e3),void 0===o&&(o=!1),r.__awaiter(void 0,void 0,void 0,(function(){var a,s,c;return r.__generator(this,(function(r){switch(r.label){case 0:a=0,r.label=1;case 1:if(!(a<n))return[3,7];a++,r.label=2;case 2:return r.trys.push([2,4,,5]),[4,e()];case 3:return(s=r.sent())?[2,s]:[3,5];case 4:if(c=r.sent(),o&&a===n)throw c;return[3,5];case 5:return[4,t.delayPromise(i)];case 6:return r.sent(),[3,1];case 7:return[2,!1]}}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(85),i=n(138);t.isItemFree=function(e){return"boolean"==typeof e?e:e===r.EItemFree.FREE},t.isItemHasMedia=function(e){return i.hasAudio(e)||i.hasVideo(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(139),i=n(140);t.convertCouponWayEnumToContentWayDesc=function(e){return i.couponWayDescMap[e]},t.isVipGoodsItem=function(e){return e===r.EGoodsRule.VIP_MONTH||e===r.EGoodsRule.VIP_HALF_YEAR||e===r.EGoodsRule.VIP_YEAR}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.PARAM_ERROR=1001]="PARAM_ERROR",e[e.TRANSACTION_TYPE_ERROR=1002]="TRANSACTION_TYPE_ERROR",e[e.CREATE_TRADE_ERROR=1003]="CREATE_TRADE_ERROR",e[e.TRADE_ORDER_NOT_EXIST=1004]="TRADE_ORDER_NOT_EXIST",e[e.IAP_RECEIPT_FAIL=1005]="IAP_RECEIPT_FAIL",e[e.THIRD_PARTY_PARAMS_ERROR=1006]="THIRD_PARTY_PARAMS_ERROR",e[e.THIRD_PARTY_USED=1007]="THIRD_PARTY_USED",e[e.TRADE_INFO_FAIL=1008]="TRADE_INFO_FAIL",e[e.NOT_SUFFICIENT_BALANCE=1009]="NOT_SUFFICIENT_BALANCE",e[e.REPEAT_PURCHASE=1010]="REPEAT_PURCHASE",e[e.INVALID_LIST_ERROR=1011]="INVALID_LIST_ERROR",e[e.SUCCESS=0]="SUCCESS"}(t.ETTIosPayCheckStatus||(t.ETTIosPayCheckStatus={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.DRAFT=5]="DRAFT",e[e.TO_VERIFY=10]="TO_VERIFY",e[e.PASSED=20]="PASSED",e[e.FAILED=25]="FAILED",e[e.DELETED=30]="DELETED",e[e.WAITING_TO_VERIFY=40]="WAITING_TO_VERIFY",e[e.VERIFIED_FAILED=45]="VERIFIED_FAILED",e[e.VERIFIED_PASSED=50]="VERIFIED_PASSED"}(t.EContentStatus||(t.EContentStatus={})),function(e){e[e.CASH=1]="CASH",e[e.PERCENTAGE=2]="PERCENTAGE",e[e.REACH=3]="REACH",e[e.NULL=-1]="NULL"}(t.ECouponDiscountType||(t.ECouponDiscountType={})),function(e){e.FINANCE="finance",e.HEALTH="health"}(t.ECategoryTypeTitle||(t.ECategoryTypeTitle={})),function(e){e.MENTAL_HEALTH="6658870735685026315",e.CHILD_HEALTH="6658871731886752269",e.MEDICAL="6659990922937238024",e.HEALTH_MAINTENANCE="6659990923587355143",e.NUTRITION="6595372294351094280"}(t.ECategoryLabelId||(t.ECategoryLabelId={})),function(e){e[e.NOT_RESERVED=0]="NOT_RESERVED",e[e.RESERVED=1]="RESERVED"}(t.ILiveItemReserveState||(t.ILiveItemReserveState={})),function(e){e.COMMON="0",e.SENIOR="1",e.ENTERPRISE="2"}(t.EAuthorAuthType||(t.EAuthorAuthType={})),function(e){e.COMMON="0",e.SENIOR="1",e.NoVerified="3"}(t.EUserVerified||(t.EUserVerified={})),function(e){e[e.EMPTY=0]="EMPTY",e[e.PREVIEW=1]="PREVIEW",e[e.PLAYING=2]="PLAYING",e[e.PAUSED=3]="PAUSED",e[e.FINISHED=4]="FINISHED",e[e.PLAY_BACK=5]="PLAY_BACK"}(t.ELiveBroadcastStatus||(t.ELiveBroadcastStatus={})),function(e){e[e.ORIGIN=0]="ORIGIN",e[e.TEST_A=1]="TEST_A",e[e.TEST_B=2]="TEST_B"}(t.ECashierType||(t.ECashierType={})),function(e){e[e.CATALOG=1]="CATALOG",e[e.INFO=2]="INFO"}(t.EContentDetailTabType||(t.EContentDetailTabType={})),function(e){e[e.EXPERIMENTAL_GROUP=1]="EXPERIMENTAL_GROUP",e[e.CONTRASTED_GROUP=0]="CONTRASTED_GROUP"}(t.EContentDetailAbTestVersion||(t.EContentDetailAbTestVersion={})),function(e){e[e.NOT_KNOW=-1]="NOT_KNOW",e[e.EXPERIMENTAL_GROUP=1]="EXPERIMENTAL_GROUP",e[e.CONTRASTED_GROUP=2]="CONTRASTED_GROUP"}(t.EContentBtnAbtestVersion||(t.EContentBtnAbtestVersion={})),function(e){e[e.EXPERIMENTAL_GROUP=1]="EXPERIMENTAL_GROUP",e[e.CONTRASTED_GROUP=0]="CONTRASTED_GROUP"}(t.ETTABTestVersion||(t.ETTABTestVersion={})),function(e){e[e.BIG_IMAGE=1]="BIG_IMAGE",e[e.SMALL_IMAGE_A=2]="SMALL_IMAGE_A",e[e.SMALL_IMAGE_B=3]="SMALL_IMAGE_B"}(t.EHeadABTestDisplayType||(t.EHeadABTestDisplayType={})),function(e){e[e.YEAR=1]="YEAR",e[e.MONTH=2]="MONTH",e[e.QUARTER=3]="QUARTER",e[e.FOREVER=10]="FOREVER"}(t.ECommunityPeriod||(t.ECommunityPeriod={})),function(e){e[e.CONNECTONLY=1]="CONNECTONLY",e[e.FREEGIFT=2]="FREEGIFT"}(t.EColumnAndCommunityBindType||(t.EColumnAndCommunityBindType={})),function(e){e[e.NOT_JOINED=0]="NOT_JOINED",e[e.HAS_JOINED=1]="HAS_JOINED",e[e.EXITED=2]="EXITED"}(t.ECommunityRight||(t.ECommunityRight={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.CONTENT=1]="CONTENT",e[e.ITEM_LIST=2]="ITEM_LIST",e[e.BANNER=3]="BANNER",e[e.CONTENT_CARD=4]="CONTENT_CARD",e[e.SMALL_BANNER=5]="SMALL_BANNER",e[e.UPGRADE_CONTENT_CARD=6]="UPGRADE_CONTENT_CARD",e[e.CHALLENGE=7]="CHALLENGE",e[e.MY_CHALLENGE=8]="MY_CHALLENGE",e[e.COMMON_CHALLENGE_CARD=9]="COMMON_CHALLENGE_CARD",e[e.COMMON_CONTENT_CARD=10]="COMMON_CONTENT_CARD",e[e.YOU_MAY_LIKE_CARD=11]="YOU_MAY_LIKE_CARD",e[e.BOOK_CARD=12]="BOOK_CARD",e[e.CONTENT_PLAN_B=10001]="CONTENT_PLAN_B",e[e.CHALLENGE_PLAN_B=70001]="CHALLENGE_PLAN_B"}(t.ECellType||(t.ECellType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.OLD_USER_VIP_DURATION_GIFT=1]="OLD_USER_VIP_DURATION_GIFT",e[e.HALF_YEAR_VIP_COUPON=2]="HALF_YEAR_VIP_COUPON"}(t.EPromotionType||(t.EPromotionType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.CAN_DRAW=0]="CAN_DRAW",e[e.ACTIVITY_NOT_BEGIN=1]="ACTIVITY_NOT_BEGIN",e[e.ACTIVITY_END=2]="ACTIVITY_END",e[e.EMPTY=3]="EMPTY",e[e.DRAWED=4]="DRAWED",e[e.NOT_LOGINED=5]="NOT_LOGINED",e[e.NOT_NEW=6]="NOT_NEW",e[e.NOT_VIP=7]="NOT_VIP",e[e.CAN_NOT_DRAW=8]="CAN_NOT_DRAW"}(t.EActivityCouponStatusNum||(t.EActivityCouponStatusNum={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.HIDDEN=0]="HIDDEN",e[e.SHOW_PURCHASE_ALL=1]="SHOW_PURCHASE_ALL",e[e.SHOW_PURCHASE_ALL_WITH_HINT=2]="SHOW_PURCHASE_ALL_WITH_HINT"}(t.ESubjectPurchaseStatus||(t.ESubjectPurchaseStatus={})),function(e){e[e.HIDDEN=0]="HIDDEN",e[e.SHOW_BORROW_ALL=1]="SHOW_BORROW_ALL",e[e.SHOW_OPEN_VIP=2]="SHOW_OPEN_VIP"}(t.ESubjectBorrowStatus||(t.ESubjectBorrowStatus={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.WALLET=12]="WALLET",e[e.LEARNING=7]="LEARNING",e[e.COLUMN=100]="COLUMN",e[e.NOVEL=110]="NOVEL",e[e.COMMUINITY=120]="COMMUINITY",e[e.DOUYIN_MP_LEARNIG=121]="DOUYIN_MP_LEARNIG",e[e.XIGUA=122]="XIGUA",e[e.CHECKIN=123]="CHECKIN",e[e.PAY_WENDA=124]="PAY_WENDA",e[e.PAY_LIVE=125]="PAY_LIVE",e[e.COMIC=140]="COMIC",e.NULL=""}(t.EBizId||(t.EBizId={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(83);t.convertGoodsTypeStringToGoodsTypeDesc=function(e){return r.goodsTypeMap[e]},t.convertContentTypeToGoodsType=function(e){return r.contentTypeNumToGoodsTypeMap[e]},t.hasPurchased=function(e){return e===r.EUserPermType.NORMAL_BUYED||e===r.EUserPermType.VIP_BORROWED}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(325);t.cavelPriceUnit="¥",t.unitTextForIOS=function(e){return void 0===e&&(e=!1),r.isInXigua()?"西瓜糖":e?"头条币":"币"},t.formatTTPrice=function(e,n){void 0===n&&(n=!0);var i=r.getBrowserVersions().ios,o=Number((e/100).toFixed(2));return n?i?""+o+t.unitTextForIOS():""+t.cavelPriceUnit+o:""+o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(26).__exportStar(n(326),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(26);r.__exportStar(n(142),t),r.__exportStar(n(327),t),r.__exportStar(n(328),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(142);t.isIOSFringeScreen=function(){return i.getBrowserVersions().iPhoneX||i.getBrowserVersions().iPhoneXSMax||i.getBrowserVersions().iPhoneXR},t.getAppVersion=function(){return i.isInToutiao()?i.getAppVersionByUa():i.isInToutiaoLite()?i.getLiteAppVersionByUa():i.isInXigua()?i.getXiguaAppVersionByUa():i.isInToutiaoPro()?i.getTTProAppVersionByUa():""},function(e){e.TOUTIAO="toutiao",e.TOUTIAO_LITE="lite",e.TOUTIAO_SOCIAL="pro",e.XIGUA="xigua",e.UNKNOWN="unknown"}(r=t.EAppName||(t.EAppName={})),function(e){e.TOUTIAO="13",e.TOUTIAO_LITE="35",e.TOUTIAO_SOCIAL="19",e.XIGUA="32",e.UNKNOWN=""}(t.EAppId||(t.EAppId={})),t.getAppName=function(){return i.isInToutiao()?r.TOUTIAO:i.isInToutiaoLite()?r.TOUTIAO_LITE:i.isInXigua()?r.XIGUA:i.isInToutiaoPro()?r.TOUTIAO_SOCIAL:r.UNKNOWN},t.getAppCNName=function(){return i.isInXigua()?"西瓜视频":i.isInToutiaoLite()?"今日头条极速版":"今日头条"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPageName=function(e){var t=e.match(/([^/]+?)\.html/);return t?(t[1]||"").replace(/-/g,"_"):""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelCaseToUnderscore=function(e){return e.replace(/([A-Z])/g,(function(e){return"_"+e.toLowerCase()}))},t.underscoreToCamelCase=function(e){return e.replace(/(_([a-z]))/g,(function(e){return e.toUpperCase()[1]}))},t.formatResponseData=function(e){var n=null;if("object"==typeof e&&null!==e)for(var r in n=(e.length&&e.length)>=0?[]:{},e)n["number"==typeof r?r:t.underscoreToCamelCase(r)]=t.formatResponseData(e[r]);else n=e;return n},t.formatRequestData=function(e){var n=null;if("object"==typeof e&&null!==e)for(var r in n=(e.length&&e.length)>=0?[]:{},e)n["number"==typeof r?r:t.camelCaseToUnderscore(r)]=t.formatRequestData(e[r]);else n=e;return n}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){n(108),n(65),n(103),n(335),n(343),n(344),e.exports=n(9).Promise},function(e,t,n){"use strict";var r,i,o,a,s=n(35),c=n(13),l=n(31),u=n(114),d=n(12),p=n(20),f=n(46),h=n(336),m=n(337),_=n(143),g=n(144).set,v=n(339)(),y=n(86),w=n(145),E=n(340),b=n(146),S=c.TypeError,x=c.process,N=x&&x.versions,O=N&&N.v8||"",T=c.Promise,C="process"==u(x),A=function(){},I=i=y.f,k=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[n(14)("species")]=function(e){e(A,A)};return(C||"function"==typeof PromiseRejectionEvent)&&e.then(A)instanceof t&&0!==O.indexOf("6.6")&&-1===E.indexOf("Chrome/66")}catch(e){}}(),D=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},P=function(e,t){if(!e._n){e._n=!0;var n=e._c;v((function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,s=i?t.ok:t.fail,c=t.resolve,l=t.reject,u=t.domain;try{s?(i||(2==e._h&&M(e),e._h=1),!0===s?n=r:(u&&u.enter(),n=s(r),u&&(u.exit(),a=!0)),n===t.promise?l(S("Promise-chain cycle")):(o=D(n))?o.call(n,c,l):c(n)):l(r)}catch(e){u&&!a&&u.exit(),l(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&R(e)}))}},R=function(e){g.call(c,(function(){var t,n,r,i=e._v,o=L(e);if(o&&(t=w((function(){C?x.emit("unhandledRejection",i,e):(n=c.onunhandledrejection)?n({promise:e,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=C||L(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},L=function(e){return 1!==e._h&&0===(e._a||e._c).length},M=function(e){g.call(c,(function(){var t;C?x.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})}))},j=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),P(t,!0))},U=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw S("Promise can't be resolved itself");(t=D(e))?v((function(){var r={_w:n,_d:!1};try{t.call(e,l(U,r,1),l(j,r,1))}catch(e){j.call(r,e)}})):(n._v=e,n._s=1,P(n,!1))}catch(e){j.call({_w:n,_d:!1},e)}}};k||(T=function(e){h(this,T,"Promise","_h"),f(e),r.call(this);try{e(l(U,this,1),l(j,this,1))}catch(e){j.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(341)(T.prototype,{then:function(e,t){var n=I(_(this,T));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=C?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=l(U,e,1),this.reject=l(j,e,1)},y.f=I=function(e){return e===T||e===a?new o(e):i(e)}),d(d.G+d.W+d.F*!k,{Promise:T}),n(48)(T,"Promise"),n(342)("Promise"),a=n(9).Promise,d(d.S+d.F*!k,"Promise",{reject:function(e){var t=I(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!k),"Promise",{resolve:function(e){return b(s&&this===a?T:this,e)}}),d(d.S+d.F*!(k&&n(115)((function(e){T.all(e).catch(A)}))),"Promise",{all:function(e){var t=this,n=I(t),r=n.resolve,i=n.reject,o=w((function(){var n=[],o=0,a=1;m(e,!1,(function(e){var s=o++,c=!1;n.push(void 0),a++,t.resolve(e).then((function(e){c||(c=!0,n[s]=e,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=I(t),r=n.reject,i=w((function(){m(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(31),i=n(111),o=n(112),a=n(19),s=n(58),c=n(113),l={},u={};(t=e.exports=function(e,t,n,d,p){var f,h,m,_,g=p?function(){return e}:c(e),v=r(n,d,t?2:1),y=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(o(g)){for(f=s(e.length);f>y;y++)if((_=t?v(a(h=e[y])[0],h[1]):v(e[y]))===l||_===u)return _}else for(m=g.call(e);!(h=m.next()).done;)if((_=i(m,v,h.value,t))===l||_===u)return _}).BREAK=l,t.RETURN=u},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(13),i=n(144).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==n(34)(a);e.exports=function(){var e,t,n,l=function(){var r,i;for(c&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(l)}}else n=function(){i.call(r,l)};else{var d=!0,p=document.createTextNode("");new o(l).observe(p,{characterData:!0}),n=function(){p.data=d=!d}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var r=n(13).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(25);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t,n){"use strict";var r=n(13),i=n(9),o=n(18),a=n(17),s=n(14)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(12),i=n(9),o=n(13),a=n(143),s=n(146);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},function(e,t,n){"use strict";var r=n(12),i=n(86),o=n(145);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){"use strict";n.r(t);var r,i,o=n(6),a=n.n(o),s=n(55),c=n.n(s);r=window,i=function(e){var t=function(){var t,n,r,i,o,s,l=[],u=l.concat,d=l.filter,p=l.slice,f=e.document,h={},m={},_={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},g=/^\s*<(\w+|!)[^>]*>/,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,w=/^(?:body|html)$/i,E=/([A-Z])/g,b=["val","css","html","text","data","width","height","offset"],S=f.createElement("table"),x=f.createElement("tr"),N={tr:f.createElement("tbody"),tbody:S,thead:S,tfoot:S,td:x,th:x,"*":f.createElement("div")},O=/complete|loaded|interactive/,T=/^[\w-]*$/,C={},A=C.toString,I={},k=f.createElement("div"),D={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},P=Array.isArray||function(e){return e instanceof Array};function R(e){return null==e?String(e):C[A.call(e)]||"object"}function L(e){return"function"==R(e)}function M(e){return null!=e&&e==e.window}function j(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function U(e){return"object"==R(e)}function F(e){return U(e)&&!M(e)&&c()(e)==Object.prototype}function H(e){var t=!!e&&"length"in e&&e.length,n=r.type(e);return"function"!=n&&!M(e)&&("array"==n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function B(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function V(e){return e in m?m[e]:m[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function q(e,t){return"number"!=typeof t||_[B(e)]?t:t+"px"}function W(e){return"children"in e?p.call(e.children):r.map(e.childNodes,(function(e){if(1==e.nodeType)return e}))}function G(e,t){var n,r=e?e.length:0;for(n=0;n<r;n++)this[n]=e[n];this.length=r,this.selector=t||""}function z(e,r,i){for(n in r)i&&(F(r[n])||P(r[n]))?(F(r[n])&&!F(e[n])&&(e[n]={}),P(r[n])&&!P(e[n])&&(e[n]=[]),z(e[n],r[n],i)):r[n]!==t&&(e[n]=r[n])}function Y(e,t){return null==t?r(e):r(e).filter(t)}function X(e,t,n,r){return L(t)?t.call(e,n,r):t}function K(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function J(e,n){var r=e.className||"",i=r&&r.baseVal!==t;if(n===t)return i?r.baseVal:r;i?r.baseVal=n:e.className=n}function $(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?r.parseJSON(e):e):e}catch(t){return e}}function Z(e,t){t(e);for(var n=0,r=e.childNodes.length;n<r;n++)Z(e.childNodes[n],t)}return I.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,i=e.parentNode,o=!i;return o&&(i=k).appendChild(e),r=~I.qsa(i,t).indexOf(e),o&&k.removeChild(e),r},o=function(e){return e.replace(/-+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))},s=function(e){return d.call(e,(function(t,n){return e.indexOf(t)==n}))},I.fragment=function(e,n,i){var o,a,s;return v.test(e)&&(o=r(f.createElement(RegExp.$1))),o||(e.replace&&(e=e.replace(y,"<$1></$2>")),n===t&&(n=g.test(e)&&RegExp.$1),n in N||(n="*"),(s=N[n]).innerHTML=""+e,o=r.each(p.call(s.childNodes),(function(){s.removeChild(this)}))),F(i)&&(a=r(o),r.each(i,(function(e,t){b.indexOf(e)>-1?a[e](t):a.attr(e,t)}))),o},I.Z=function(e,t){return new G(e,t)},I.isZ=function(e){return e instanceof I.Z},I.init=function(e,n){var i,o;if(!e)return I.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&g.test(e))i=I.fragment(e,RegExp.$1,n),e=null;else{if(n!==t)return r(n).find(e);i=I.qsa(f,e)}else{if(L(e))return r(f).ready(e);if(I.isZ(e))return e;if(P(e))o=e,i=d.call(o,(function(e){return null!=e}));else if(U(e))i=[e],e=null;else if(g.test(e))i=I.fragment(e.trim(),RegExp.$1,n),e=null;else{if(n!==t)return r(n).find(e);i=I.qsa(f,e)}}return I.Z(i,e)},(r=function(e,t){return I.init(e,t)}).extend=function(e){var t,n=p.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach((function(n){z(e,n,t)})),e},I.qsa=function(e,t){var n,r="#"==t[0],i=!r&&"."==t[0],o=r||i?t.slice(1):t,a=T.test(o);return e.getElementById&&a&&r?(n=e.getElementById(o))?[n]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:p.call(a&&!r&&e.getElementsByClassName?i?e.getElementsByClassName(o):e.getElementsByTagName(t):e.querySelectorAll(t))},r.contains=f.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},r.type=R,r.isFunction=L,r.isWindow=M,r.isArray=P,r.isPlainObject=F,r.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},r.isNumeric=function(e){var t=Number(e),n=void 0===e?"undefined":a()(e);return null!=e&&"boolean"!=n&&("string"!=n||e.length)&&!isNaN(t)&&isFinite(t)||!1},r.inArray=function(e,t,n){return l.indexOf.call(t,e,n)},r.camelCase=o,r.trim=function(e){return null==e?"":String.prototype.trim.call(e)},r.uuid=0,r.support={},r.expr={},r.noop=function(){},r.map=function(e,t){var n,i,o,a,s=[];if(H(e))for(i=0;i<e.length;i++)null!=(n=t(e[i],i))&&s.push(n);else for(o in e)null!=(n=t(e[o],o))&&s.push(n);return(a=s).length>0?r.fn.concat.apply([],a):a},r.each=function(e,t){var n,r;if(H(e)){for(n=0;n<e.length;n++)if(!1===t.call(e[n],n,e[n]))return e}else for(r in e)if(!1===t.call(e[r],r,e[r]))return e;return e},r.grep=function(e,t){return d.call(e,t)},e.JSON&&(r.parseJSON=JSON.parse),r.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){C["[object "+t+"]"]=t.toLowerCase()})),r.fn={constructor:I.Z,length:0,forEach:l.forEach,reduce:l.reduce,push:l.push,sort:l.sort,splice:l.splice,indexOf:l.indexOf,concat:function(){var e,t,n=[];for(e=0;e<arguments.length;e++)t=arguments[e],n[e]=I.isZ(t)?t.toArray():t;return u.apply(I.isZ(this)?this.toArray():this,n)},map:function(e){return r(r.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return r(p.apply(this,arguments))},ready:function(e){return O.test(f.readyState)&&f.body?e(r):f.addEventListener("DOMContentLoaded",(function(){e(r)}),!1),this},get:function(e){return e===t?p.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each((function(){null!=this.parentNode&&this.parentNode.removeChild(this)}))},each:function(e){return l.every.call(this,(function(t,n){return!1!==e.call(t,n,t)})),this},filter:function(e){return L(e)?this.not(this.not(e)):r(d.call(this,(function(t){return I.matches(t,e)})))},add:function(e,t){return r(s(this.concat(r(e,t))))},is:function(e){return this.length>0&&I.matches(this[0],e)},not:function(e){var n=[];if(L(e)&&e.call!==t)this.each((function(t){e.call(this,t)||n.push(this)}));else{var i="string"==typeof e?this.filter(e):H(e)&&L(e.item)?p.call(e):r(e);this.forEach((function(e){i.indexOf(e)<0&&n.push(e)}))}return r(n)},has:function(e){return this.filter((function(){return U(e)?r.contains(this,e):r(this).find(e).size()}))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!U(e)?e:r(e)},last:function(){var e=this[this.length-1];return e&&!U(e)?e:r(e)},find:function(e){var t=this;return e?"object"==(void 0===e?"undefined":a()(e))?r(e).filter((function(){var e=this;return l.some.call(t,(function(t){return r.contains(t,e)}))})):1==this.length?r(I.qsa(this[0],e)):this.map((function(){return I.qsa(this,e)})):r()},closest:function(e,t){var n=[],i="object"==(void 0===e?"undefined":a()(e))&&r(e);return this.each((function(r,o){for(;o&&!(i?i.indexOf(o)>=0:I.matches(o,e));)o=o!==t&&!j(o)&&o.parentNode;o&&n.indexOf(o)<0&&n.push(o)})),r(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=r.map(n,(function(e){if((e=e.parentNode)&&!j(e)&&t.indexOf(e)<0)return t.push(e),e}));return Y(t,e)},parent:function(e){return Y(s(this.pluck("parentNode")),e)},children:function(e){return Y(this.map((function(){return W(this)})),e)},contents:function(){return this.map((function(){return this.contentDocument||p.call(this.childNodes)}))},siblings:function(e){return Y(this.map((function(e,t){return d.call(W(t.parentNode),(function(e){return e!==t}))})),e)},empty:function(){return this.each((function(){this.innerHTML=""}))},pluck:function(e){return r.map(this,(function(t){return t[e]}))},show:function(){return this.each((function(){var e,t,n;"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=(e=this.nodeName,h[e]||(t=f.createElement(e),f.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),h[e]=n),h[e]))}))},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var t=L(e);if(this[0]&&!t)var n=r(e).get(0),i=n.parentNode||this.length>1;return this.each((function(o){r(this).wrapAll(t?e.call(this,o):i?n.cloneNode(!0):n)}))},wrapAll:function(e){if(this[0]){var t;for(r(this[0]).before(e=r(e));(t=e.children()).length;)e=t.first();r(e).append(this)}return this},wrapInner:function(e){var t=L(e);return this.each((function(n){var i=r(this),o=i.contents(),a=t?e.call(this,n):e;o.length?o.wrapAll(a):i.append(a)}))},unwrap:function(){return this.parent().each((function(){r(this).replaceWith(r(this).children())})),this},clone:function(){return this.map((function(){return this.cloneNode(!0)}))},hide:function(){return this.css("display","none")},toggle:function(e){return this.each((function(){var n=r(this);(e===t?"none"==n.css("display"):e)?n.show():n.hide()}))},prev:function(e){return r(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return r(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each((function(t){var n=this.innerHTML;r(this).empty().append(X(this,e,t,n))})):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each((function(t){var n=X(this,e,t,this.textContent);this.textContent=null==n?"":""+n})):0 in this?this.pluck("textContent").join(""):null},attr:function(e,r){var i;return"string"!=typeof e||1 in arguments?this.each((function(t){if(1===this.nodeType)if(U(e))for(n in e)K(this,n,e[n]);else K(this,e,X(this,r,t,this.getAttribute(e)))})):0 in this&&1==this[0].nodeType&&null!=(i=this[0].getAttribute(e))?i:t},removeAttr:function(e){return this.each((function(){1===this.nodeType&&e.split(" ").forEach((function(e){K(this,e)}),this)}))},prop:function(e,t){return e=D[e]||e,1 in arguments?this.each((function(n){this[e]=X(this,t,n,this[e])})):this[0]&&this[0][e]},removeProp:function(e){return e=D[e]||e,this.each((function(){delete this[e]}))},data:function(e,n){var r="data-"+e.replace(E,"-$1").toLowerCase(),i=1 in arguments?this.attr(r,n):this.attr(r);return null!==i?$(i):t},val:function(e){return 0 in arguments?(null==e&&(e=""),this.each((function(t){this.value=X(this,e,t,this.value)}))):this[0]&&(this[0].multiple?r(this[0]).find("option").filter((function(){return this.selected})).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each((function(e){var n=r(this),i=X(this,t,e,n.offset()),o=n.offsetParent().offset(),a={top:i.top-o.top,left:i.left-o.left};"static"==n.css("position")&&(a.position="relative"),n.css(a)}));if(!this.length)return null;if(f.documentElement!==this[0]&&!r.contains(f.documentElement,this[0]))return{top:0,left:0};var n=this[0].getBoundingClientRect();return{left:n.left+e.pageXOffset,top:n.top+e.pageYOffset,width:Math.round(n.width),height:Math.round(n.height)}},css:function(e,t){if(arguments.length<2){var i=this[0];if("string"==typeof e){if(!i)return;return i.style[o(e)]||getComputedStyle(i,"").getPropertyValue(e)}if(P(e)){if(!i)return;var a={},s=getComputedStyle(i,"");return r.each(e,(function(e,t){a[t]=i.style[o(t)]||s.getPropertyValue(t)})),a}}var c="";if("string"==R(e))t||0===t?c=B(e)+":"+q(e,t):this.each((function(){this.style.removeProperty(B(e))}));else for(n in e)e[n]||0===e[n]?c+=B(n)+":"+q(n,e[n])+";":this.each((function(){this.style.removeProperty(B(n))}));return this.each((function(){this.style.cssText+=";"+c}))},index:function(e){return e?this.indexOf(r(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&l.some.call(this,(function(e){return this.test(J(e))}),V(e))},addClass:function(e){return e?this.each((function(t){if("className"in this){i=[];var n=J(this);X(this,e,t,n).split(/\s+/g).forEach((function(e){r(this).hasClass(e)||i.push(e)}),this),i.length&&J(this,n+(n?" ":"")+i.join(" "))}})):this},removeClass:function(e){return this.each((function(n){if("className"in this){if(e===t)return J(this,"");i=J(this),X(this,e,n,i).split(/\s+/g).forEach((function(e){i=i.replace(V(e)," ")})),J(this,i.trim())}}))},toggleClass:function(e,n){return e?this.each((function(i){var o=r(this);X(this,e,i,J(this)).split(/\s+/g).forEach((function(e){(n===t?!o.hasClass(e):n)?o.addClass(e):o.removeClass(e)}))})):this},scrollTop:function(e){if(this.length){var n="scrollTop"in this[0];return e===t?n?this[0].scrollTop:this[0].pageYOffset:this.each(n?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var n="scrollLeft"in this[0];return e===t?n?this[0].scrollLeft:this[0].pageXOffset:this.each(n?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),i=w.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(r(e).css("margin-top"))||0,n.left-=parseFloat(r(e).css("margin-left"))||0,i.top+=parseFloat(r(t[0]).css("border-top-width"))||0,i.left+=parseFloat(r(t[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||f.body;e&&!w.test(e.nodeName)&&"static"==r(e).css("position");)e=e.offsetParent;return e}))}},r.fn.detach=r.fn.remove,["width","height"].forEach((function(e){var n=e.replace(/./,(function(e){return e[0].toUpperCase()}));r.fn[e]=function(i){var o,a=this[0];return i===t?M(a)?a["inner"+n]:j(a)?a.documentElement["scroll"+n]:(o=this.offset())&&o[e]:this.each((function(t){(a=r(this)).css(e,X(this,i,t,a[e]()))}))}})),["after","prepend","before","append"].forEach((function(n,i){var o=i%2;r.fn[n]=function(){var n,a,s=r.map(arguments,(function(e){var i=[];return"array"==(n=R(e))?(e.forEach((function(e){return e.nodeType!==t?i.push(e):r.zepto.isZ(e)?i=i.concat(e.get()):void(i=i.concat(I.fragment(e)))})),i):"object"==n||null==e?e:I.fragment(e)})),c=this.length>1;return s.length<1?this:this.each((function(t,n){a=o?n:n.parentNode,n=0==i?n.nextSibling:1==i?n.firstChild:2==i?n:null;var l=r.contains(f.documentElement,a);s.forEach((function(t){if(c)t=t.cloneNode(!0);else if(!a)return r(t).remove();a.insertBefore(t,n),l&&Z(t,(function(t){if(!(null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src)){var n=t.ownerDocument?t.ownerDocument.defaultView:e;n.eval.call(n,t.innerHTML)}}))}))}))},r.fn[o?n+"To":"insert"+(i?"Before":"After")]=function(e){return r(e)[n](this),this}})),I.Z.prototype=G.prototype=r.fn,I.uniq=s,I.deserializeValue=$,r.zepto=I,r}();return e.Zepto=t,void 0===e.$&&(e.$=t),function(t){var n,r=1,i=Array.prototype.slice,o=t.isFunction,a=function(e){return"string"==typeof e},s={},c={},l="onfocusin"in e,u={focus:"focusin",blur:"focusout"},d={mouseenter:"mouseover",mouseleave:"mouseout"};function p(e){return e._zid||(e._zid=r++)}function f(e,t,n,r){if((t=h(t)).ns)var i=(o=t.ns,new RegExp("(?:^| )"+o.replace(" "," .* ?")+"(?: |$)"));var o;return(s[p(e)]||[]).filter((function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||i.test(e.ns))&&(!n||p(e.fn)===p(n))&&(!r||e.sel==r)}))}function h(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function m(e,t){return e.del&&!l&&e.e in u||!!t}function _(e){return d[e]||l&&u[e]||e}function g(e,r,i,o,a,c,l){var u=p(e),f=s[u]||(s[u]=[]);r.split(/\s/).forEach((function(r){if("ready"==r)return t(document).ready(i);var s=h(r);s.fn=i,s.sel=a,s.e in d&&(i=function(e){var n=e.relatedTarget;if(!n||n!==this&&!t.contains(this,n))return s.fn.apply(this,arguments)}),s.del=c;var u=c||i;s.proxy=function(t){if(!(t=S(t)).isImmediatePropagationStopped()){t.data=o;var r=u.apply(e,t._args==n?[t]:[t].concat(t._args));return!1===r&&(t.preventDefault(),t.stopPropagation()),r}},s.i=f.length,f.push(s),"addEventListener"in e&&e.addEventListener(_(s.e),s.proxy,m(s,l))}))}function v(e,t,n,r,i){var o=p(e);(t||"").split(/\s/).forEach((function(t){f(e,t,n,r).forEach((function(t){delete s[o][t.i],"removeEventListener"in e&&e.removeEventListener(_(t.e),t.proxy,m(t,i))}))}))}c.click=c.mousedown=c.mouseup=c.mousemove="MouseEvents",t.event={add:g,remove:v},t.proxy=function(e,n){var r=2 in arguments&&i.call(arguments,2);if(o(e)){var s=function(){return e.apply(n,r?r.concat(i.call(arguments)):arguments)};return s._zid=p(e),s}if(a(n))return r?(r.unshift(e[n],e),t.proxy.apply(null,r)):t.proxy(e[n],e);throw new TypeError("expected function")},t.fn.bind=function(e,t,n){return this.on(e,t,n)},t.fn.unbind=function(e,t){return this.off(e,t)},t.fn.one=function(e,t,n,r){return this.on(e,t,n,r,1)};var y=function(){return!0},w=function(){return!1},E=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,b={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function S(e,r){if(r||!e.isDefaultPrevented){r||(r=e),t.each(b,(function(t,n){var i=r[t];e[t]=function(){return this[n]=y,i&&i.apply(r,arguments)},e[n]=w}));try{e.timeStamp||(e.timeStamp=Date.now())}catch(e){}(r.defaultPrevented!==n?r.defaultPrevented:"returnValue"in r?!1===r.returnValue:r.getPreventDefault&&r.getPreventDefault())&&(e.isDefaultPrevented=y)}return e}function x(e){var t,r={originalEvent:e};for(t in e)E.test(t)||e[t]===n||(r[t]=e[t]);return S(r,e)}t.fn.delegate=function(e,t,n){return this.on(t,e,n)},t.fn.undelegate=function(e,t,n){return this.off(t,e,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,r,s,c,l){var u,d,p=this;return e&&!a(e)?(t.each(e,(function(e,t){p.on(e,r,s,t,l)})),p):(a(r)||o(c)||!1===c||(c=s,s=r,r=n),c!==n&&!1!==s||(c=s,s=n),!1===c&&(c=w),p.each((function(n,o){l&&(u=function(e){return v(o,e.type,c),c.apply(this,arguments)}),r&&(d=function(e){var n,a=t(e.target).closest(r,o).get(0);if(a&&a!==o)return n=t.extend(x(e),{currentTarget:a,liveFired:o}),(u||c).apply(a,[n].concat(i.call(arguments,1)))}),g(o,e,c,s,r,d||u)})))},t.fn.off=function(e,r,i){var s=this;return e&&!a(e)?(t.each(e,(function(e,t){s.off(e,r,t)})),s):(a(r)||o(i)||!1===i||(i=r,r=n),!1===i&&(i=w),s.each((function(){v(this,e,i,r)})))},t.fn.trigger=function(e,n){return(e=a(e)||t.isPlainObject(e)?t.Event(e):S(e))._args=n,this.each((function(){e.type in u&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)}))},t.fn.triggerHandler=function(e,n){var r,i;return this.each((function(o,s){(r=x(a(e)?t.Event(e):e))._args=n,r.target=s,t.each(f(s,e.type||e),(function(e,t){if(i=t.proxy(r),r.isImmediatePropagationStopped())return!1}))})),i},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach((function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}})),t.Event=function(e,t){a(e)||(e=(t=e).type);var n=document.createEvent(c[e]||"Events"),r=!0;if(t)for(var i in t)"bubbles"==i?r=!!t[i]:n[i]=t[i];return n.initEvent(e,r,!0),S(n)}}(t),function(t){var n,r,i=+new Date,o=e.document,a=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,s=/^(?:text|application)\/javascript/i,c=/^(?:text|application)\/xml/i,l="application/json",u="text/html",d=/^\s*$/,p=o.createElement("a");function f(e,n,r,i){if(e.global)return function(e,n,r){var i=t.Event(n);return t(e).trigger(i,r),!i.isDefaultPrevented()}(n||o,r,i)}function h(e,t){var n=t.context;if(!1===t.beforeSend.call(n,e,t)||!1===f(t,n,"ajaxBeforeSend",[e,t]))return!1;f(t,n,"ajaxSend",[e,t])}function m(e,t,n,r){var i=n.context;n.success.call(i,e,"success",t),r&&r.resolveWith(i,[e,"success",t]),f(n,i,"ajaxSuccess",[t,n,e]),g("success",t,n)}function _(e,t,n,r,i){var o=r.context;r.error.call(o,n,t,e),i&&i.rejectWith(o,[n,t,e]),f(r,o,"ajaxError",[n,r,e||t]),g(t,n,r)}function g(e,n,r){var i=r.context;r.complete.call(i,n,e),f(r,i,"ajaxComplete",[n,r]),function(e){e.global&&!--t.active&&f(e,null,"ajaxStop")}(r)}function v(){}function y(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function w(e,n,r,i){return t.isFunction(n)&&(i=r,r=n,n=void 0),t.isFunction(r)||(i=r,r=void 0),{url:e,data:n,success:r,dataType:i}}p.href=e.location.href,t.active=0,t.ajaxJSONP=function(n,r){if(!("type"in n))return t.ajax(n);var a,s,c=n.jsonpCallback,l=(t.isFunction(c)?c():c)||"Zepto"+i++,u=o.createElement("script"),d=e[l],p=function(e){t(u).triggerHandler("error",e||"abort")},f={abort:p};return r&&r.promise(f),t(u).on("load error",(function(i,o){clearTimeout(s),t(u).off().remove(),"error"!=i.type&&a?m(a[0],f,n,r):_(null,o||"error",f,n,r),e[l]=d,a&&t.isFunction(d)&&d(a[0]),d=a=void 0})),!1===h(f,n)?(p("abort"),f):(e[l]=function(){a=arguments},u.src=n.url.replace(/\?(.+)=\?/,"?$1="+l),o.head.appendChild(u),n.timeout>0&&(s=setTimeout((function(){p("timeout")}),n.timeout)),f)},t.ajaxSettings={type:"GET",beforeSend:v,success:v,error:v,complete:v,context:null,global:!0,xhr:function(){return new e.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:l,xml:"application/xml, text/xml",html:u,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,dataFilter:v},t.ajax=function(i){var a,g,w=t.extend({},i||{}),E=t.Deferred&&t.Deferred();for(n in t.ajaxSettings)void 0===w[n]&&(w[n]=t.ajaxSettings[n]);!function(e){e.global&&0==t.active++&&f(e,null,"ajaxStart")}(w),w.crossDomain||((a=o.createElement("a")).href=w.url,a.href=a.href,w.crossDomain=p.protocol+"//"+p.host!=a.protocol+"//"+a.host),w.url||(w.url=e.location.toString()),(g=w.url.indexOf("#"))>-1&&(w.url=w.url.slice(0,g)),function(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()&&"jsonp"!=e.dataType||(e.url=y(e.url,e.data),e.data=void 0)}(w);var b=w.dataType,S=/\?.+=\?/.test(w.url);if(S&&(b="jsonp"),!1!==w.cache&&(i&&!0===i.cache||"script"!=b&&"jsonp"!=b)||(w.url=y(w.url,"_="+Date.now())),"jsonp"==b)return S||(w.url=y(w.url,w.jsonp?w.jsonp+"=?":!1===w.jsonp?"":"callback=?")),t.ajaxJSONP(w,E);var x,N=w.accepts[b],O={},T=function(e,t){O[e.toLowerCase()]=[e,t]},C=/^([\w-]+:)\/\//.test(w.url)?RegExp.$1:e.location.protocol,A=w.xhr(),I=A.setRequestHeader;if(E&&E.promise(A),w.crossDomain||T("X-Requested-With","XMLHttpRequest"),T("Accept",N||"*/*"),(N=w.mimeType||N)&&(N.indexOf(",")>-1&&(N=N.split(",",2)[0]),A.overrideMimeType&&A.overrideMimeType(N)),(w.contentType||!1!==w.contentType&&w.data&&"GET"!=w.type.toUpperCase())&&T("Content-Type",w.contentType||"application/x-www-form-urlencoded"),w.headers)for(r in w.headers)T(r,w.headers[r]);if(A.setRequestHeader=T,A.onreadystatechange=function(){if(4==A.readyState){A.onreadystatechange=v,clearTimeout(x);var e,n=!1;if(A.status>=200&&A.status<300||304==A.status||0==A.status&&"file:"==C){if(b=b||function(e){return e&&(e=e.split(";",2)[0]),e&&(e==u?"html":e==l?"json":s.test(e)?"script":c.test(e)&&"xml")||"text"}(w.mimeType||A.getResponseHeader("content-type")),"arraybuffer"==A.responseType||"blob"==A.responseType)e=A.response;else{e=A.responseText;try{e=function(e,t,n){if(n.dataFilter==v)return e;var r=n.context;return n.dataFilter.call(r,e,t)}(e,b,w),"script"==b?(0,eval)(e):"xml"==b?e=A.responseXML:"json"==b&&(e=d.test(e)?null:t.parseJSON(e))}catch(e){n=e}if(n)return _(n,"parsererror",A,w,E)}m(e,A,w,E)}else _(A.statusText||null,A.status?"error":"abort",A,w,E)}},!1===h(A,w))return A.abort(),_(null,"abort",A,w,E),A;var k=!("async"in w)||w.async;if(A.open(w.type,w.url,k,w.username,w.password),w.xhrFields)for(r in w.xhrFields)A[r]=w.xhrFields[r];for(r in O)I.apply(A,O[r]);return w.timeout>0&&(x=setTimeout((function(){A.onreadystatechange=v,A.abort(),_(null,"timeout",A,w,E)}),w.timeout)),A.send(w.data?w.data:null),A},t.get=function(){return t.ajax(w.apply(null,arguments))},t.post=function(){var e=w.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=w.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,r){if(!this.length)return this;var i,o=this,s=e.split(/\s/),c=w(e,n,r),l=c.success;return s.length>1&&(c.url=s[0],i=s[1]),c.success=function(e){o.html(i?t("<div>").html(e.replace(a,"")).find(i):e),l&&l.apply(o,arguments)},t.ajax(c),this};var E=encodeURIComponent;t.param=function(e,n){var r=[];return r.add=function(e,n){t.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(E(e)+"="+E(n))},function e(n,r,i,o){var a,s=t.isArray(r),c=t.isPlainObject(r);t.each(r,(function(r,l){a=t.type(l),o&&(r=i?o:o+"["+(c||"object"==a||"array"==a?r:"")+"]"),!o&&s?n.add(l.name,l.value):"array"==a||!i&&"object"==a?e(n,l,i,r):n.add(r,l)}))}(r,e,n),r.join("&").replace(/%20/g,"+")}}(t),function(e){e.fn.serializeArray=function(){var t,n,r=[];return this[0]&&e.each(this[0].elements,(function(i,o){n=o.type,(t=o.name)&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||o.checked)&&function e(n){if(n.forEach)return n.forEach(e);r.push({name:t,value:n})}(e(o).val())})),r},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach((function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))})),e.join("&")},e.fn.submit=function(t){if(0 in arguments)this.bind("submit",t);else if(this.length){var n=e.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(t),function(){try{getComputedStyle(void 0)}catch(n){var t=getComputedStyle;e.getComputedStyle=function(e,n){try{return t(e,n)}catch(e){return null}}}}(),t},"function"==typeof define&&n(116)?define((function(){return i(r)})):i(r)},function(e,t,n){"use strict";n.r(t);var r=n(15),i=n.n(r),o=n(8),a=n.n(o),s=n(7),c=n.n(s),l=n(2),u=n.n(l),d=n(3),p=n.n(d),f=n(4),h=n.n(f),m=(n(181),n(109),n(16)),_=n.n(m),g=n(0),v=n.n(g),y=n(10),w=n.n(y),E=n(11),b=n.n(E),S=(n(216),n(217),{empty:function(){S={}}});S.appVersion=window.APP_VERSION,S.system="android";var x=[],N="v55"===window.APP_VERSION&&!1,O=console.info;N&&(console.info=function(){x.push(arguments),O.apply(console,arguments)},S.init=!0),S.showConsoleInfo=function(){console.info=O,x.forEach((function(e,t){console.info.apply(console,e)})),x=[]},window.G=S;var T=S,C=n(6),A=n.n(C),I=function(e){var t={},n=[];return{getState:function(){return t},dispatch:function(r){t=e(t,r),n.forEach((function(e){return e()}))},subscribe:function(e){return n.push(e),function(){n=[],t={}}}}}((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if("object"===(void 0===t?"undefined":A()(t))){var n=t.type,r=t.data;e[n]=r}return e})),k=function(){return{width:document.body.offsetWidth||window.innerWidth,height:window.innerHeight}},D=function(e,t){var n=e.querySelectorAll(t);return n=Array.prototype.slice.call(n)},P=function(e,t){var n,r=[],i="?";for(n in t)t.hasOwnProperty(n)&&r.push(n+"="+encodeURIComponent(t[n]));return-1!==e.indexOf("?")&&(i="&"),[e,i,r.join("&")].join("")},R=(Array.prototype.slice,function(e,t,n){for(var r=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;e;){if(r.call(e,t))return e;if(n)return null;e=e.parentElement}return null}),L=n(1),M=n(5),j=n.n(M),U={},F=[],H=[],B=[],V={},q="undefined"!=typeof document&&(document.documentElement.clientHeight||document.body.clientHeight);function W(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=!1,i=0;i<t.length;i++){r=!1;for(var o=0;o<e.length;o++)if(t[i].imp_item_id===e[o].imp_item_id){r=!0;break}r||n.push(t[i])}return n}function z(){if(0!==B.length){for(var e=B.length-1;e>=0;e--){var t=B[e],n=t.el.getBoundingClientRect();n.bottom<=q&&!t.hasShow&&(a=t.id,V[a]||(t.hasShow=!0,V[t.id]=1,"function"==typeof t.callback&&t.callback()));for(var r=n.bottom<=q&&n.top>=0,i=!1,o=0;o<H.length;o++)if(H[o].imp_item_id===t.impressItemInfo.imp_item_id){i=!0;break}r&&!i&&H.push(t.impressItemInfo)}var a,s=W(F,H),l=W(H,F);(s.length||l.length)&&(j.a.invoke("impression",c()({},U,{impressions_in:s,impressions_out:l})),F=H,H=[])}}var Y={show:[],header:[]};G.scrollStore=Y;var X=function(e,t){var n=k(),r=n.height||window.innerHeight,i=n.width||window.innerWidth;try{var o=e.getBoundingClientRect();return o.bottom>0&&o.top<r&&o.right>0&&o.left<i}catch(e){return console.info(e,t,"判断DOM是否在屏幕之内出错, 并将这个展示埋点去除"),!0}},K=function(e,t){var n=k();try{var r=n.height||window.innerHeight,i=n.width||window.innerWidth,o=e.getBoundingClientRect();return o.height<r&&o.width<i?o.top>=0&&o.top<=r&&o.bottom>=0&&o.bottom<=r&&o.left>=0&&o.left<=i&&o.right>=0&&o.right<=i:o.height<r&&o.width>=i?o.top>=0&&o.top<=r&&o.bottom>=0&&o.bottom<=r&&o.left<=0&&o.right>=i:o.height>=r&&o.width<i?o.top<=0&&o.bottom>=r&&o.left>=0&&o.left<=i&&o.right>=0&&o.right<=i:o.top<=0&&o.bottom>=r&&o.left<=0&&o.right>=i}catch(e){return console.info(e,t,"判断DOM是否在屏幕之内出错, 并将这个展示埋点去除"),!0}},J=function(e){var t=e.dom?e.dom:document.querySelector(e.domSelector),n=(e.isTotallyShown?K:X)(t,e);return n&&(e.label?L.statistics.sendUmengEvent(e.tag,e.label,e.params):L.statistics.sendUmengEventV3(e.value,e.obj),"function"==typeof e.callback&&e.callback()),n},Z={onceShow:function(){var e=function(e){var t=Y[e];t.length>0&&(t=t.filter((function(t){switch(e){case"show":return!J(t);case"header":return function(e){var t,n=e.dom?e.dom:document.querySelector(e.domSelector);if(!n)return null;(t=n.getBoundingClientRect().bottom)<0&&!e.NativeShowHeader?(j.a.invoke(e.JsBridge,{show:!0}),e.NativeShowHeader=!0):t>0&&e.NativeShowHeader&&(j.a.invoke(e.JsBridge,{show:!1}),e.NativeShowHeader=!1)}(t),!0;default:return!0}}))),Y[e]=t};for(var t in Y)e(t);!function(){try{z()}catch(e){}}()},add:function(e,t){if("object"===(void 0===t?"undefined":A()(t)))if(Y[e])switch(e){case"show":J(t)||Y.show.push(t);break;case"header":Y.header.push(t);break;default:return}else console.error("scrollStore 不存在 "+e+" 这个属性");else console.error("data 不是一个对象")},empty:function(){Y={show:[],header:[]},G.scrollStore=Y}},Q=n(27),ee=n.n(Q),te=n(21),ne=n.n(te),re=n(54),ie=n.n(re).a,oe=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable;function se(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var ce=function(){try{if(!ne.a)return!1;var e=new String("abc");if(e[5]="de","5"===ee()(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==ee()(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===i()(ne()({},r)).join("")}catch(e){return!1}}()?ne.a:function(e,t){for(var n,r,i=se(e),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))oe.call(n,a)&&(i[a]=n[a]);if(ie){r=ie(n);for(var s=0;s<r.length;s++)ae.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i},le=function(e,t){var n=!1;return n=(n=(n=n||0==e.book_free_status||0==e.need_pay)||1==e.pay_status||3==e.pay_status)||1==e.recommend_limited_free&&["__all__","fake","ugc_fake"].indexOf(t.category_name)>-1&&!1!==t.isLogin&&!1!==window.isLogin},ue=function(e){var t="",n=0;for(var r in e)t+=(0===n?"":"&")+r+"="+("object"===A()(e[r])?a()(e[r]):e[r]),n++;return t},de={},pe={};function fe(e){var t=e.h5_extra||{};return{font_size:t.font_size||"m",image_type:t.image_type||"thumb",is_daymode:void 0===e.h5_extra||!!t.is_daymode,use_lazyload:!!t.use_lazyload,url_prefix:t.url_prefix||"content://com.ss.android.article.base.ImageProvider/"}}var he={v55:{android:function(){return{font_size:Object(L.getMeta)("font_size")||"m",image_type:Object(L.getMeta)("load_image")||"thumb",is_daymode:!Object(L.getMeta)("night_mode"),use_lazyload:void 0===window.close_lazyload,url_prefix:void 0===window.url_prefix?"content://com.ss.android.article.base.ImageProvider/":window.url_prefix}},iphone:function(){return{font_size:Object(L.hash)("tt_font")||"m",image_type:Object(L.hash)("tt_image")||"thumb",is_daymode:"1"==Object(L.hash)("tt_daymode"),use_lazyload:!!parseInt(Object(L.getMeta)("lazy_load")),url_prefix:""}}},v60:{iphone:fe,android:fe}};function me(e,t){var n={},r=e.h5_extra||{};try{"object"===A()(r.h5_settings)?n.h5_settings=r.h5_settings:n.h5_settings=JSON.parse(r.h5_settings)}catch(e){n.h5_settings={}}if(n.h5_settings.is_liteapp=!!r.is_lite,n.h5_settings.user_verify_info_conf){if("string"==typeof n.h5_settings.user_verify_info_conf)try{n.h5_settings.user_verify_info_conf=JSON.parse(n.h5_settings.user_verify_info_conf)}catch(e){n.h5_settings.user_verify_info_conf={}}n.h5_settings.user_verify_info_conf=function(e){var t={};if(Array.isArray(e.type_config))for(var n=0;n<e.type_config.length;n++){var r=e.type_config[n];t[r.type]=r}return t}(n.h5_settings.user_verify_info_conf),n.h5_settings.useServerV=!0,n.useServerV=!0}else n.h5_settings.useServerV=!1,n.useServerV=!1;try{n.isRedFocusButton="red"===n.h5_settings.tt_follow_button_template.color_style,n.h5_settings.isRedFocusButton=n.isRedFocusButton}catch(e){n.isRedFocusButton=!1,n.h5_settings.isRedFocusButton=!1}n.hasExtraSpace=!n.h5_settings.is_liteapp&&L.client.isSeniorAndroid,n.hideFollowButton=!!r.hideFollowButton,n.statistics={group_id:r.str_group_id||r.group_id||"",item_id:r.str_item_id||r.item_id||"",category_name:r.category_name||"",enter_from:r.enter_from||"",log_pb:r.log_pb||"",g_source:r.g_source||"",g_composition:r.g_composition||""};try{n.pageSettings=he[window.APP_VERSION].android(e)}catch(e){console.error("设置pageSettings报错",e),b.a.captureException(e)}return n.titleBarHeight=r.title_bar_height||0,n.foldArticle=r.article_fold||!1,n.articleWebContentUrl=r.article_web_content_url,n.ttImageList=r.tt_image_list,n.videoNativeEnable=r.video_native_enable&&window.ttGlobalConfig&&window.ttGlobalConfig.isRenderInBrowser&&window.ttGlobalConfig.isRenderInBrowser(),n}var _e={zhuanma:function(e,t){var n=e.h5_extra||{};t.article={title:n.title,publishTime:n.publish_time||"0000-00-00 00:00"},t.author.name=n.source,t.author.show=!0},wenda:function(e,t){var n=e.wenda_extra,r=n.user||{};e.wenda_extra.title=Object(L.escape)(e.wenda_extra.title),t.article={title:n.title,publishTime:n.publish_stamp?L.fmt.formatTime(1e3*n.publish_stamp):"",tagType:n.article_tag_type,showArticleTopTag:n.show_article_top_tag},t.author={userId:r.user_id,name:r.user_name,link:t.h5_settings.is_liteapp?"javascript:;":r.schema+"&from_page=answer_detail_top_card",intro:r.user_intro,avatar:r.user_profile_image_url,isAuthorSelf:!1,verifiedContent:r.is_verify?"PLACE_HOLDER":"",medals:r.medals,show:!0};var i={auth_type:"",auth_info:""};try{i=JSON.parse(r.user_auth_info)}catch(e){}if(t.author.auth_type=r.user_auth_info?i.auth_type||0:"",t.author.auth_info=i.auth_info,r.user_decoration){var o={};try{o=JSON.parse(r.user_decoration)}catch(e){}t.author.user_decoration=o}if("is_following"in n&&(t.author.followState=n.is_following?"following":""),t.hideFollowButton=!!n.hidden_follow_button,t.wenda_extra=n,t.wenda_extra.aniok=L.client.isSeniorAndroid,t.wenda_extra.headerFollowButtonStyle=n.question&&n.question.is_pay_wenda?"list":"",t.hasExtraSpace=t.hasExtraSpace&&!(n.question&&n.question.is_pay_wenda),n.question&&n.question.is_pay_wenda&&(4!=n.question.pay_status&&(t.author.show=!1),n.question.is_refuse&&(t.author.show=!1)),t.statistics.group_id=n.ansid,n.gd_ext_json)try{var a=JSON.parse(n.gd_ext_json);t.statistics.category_name=a.category_name,t.statistics.enter_from=a.enter_from}catch(e){console.error(e)}},pgc:function(e,t){var n=e.h5_extra,r=n.media||{},i={};try{i="object"===A()(n.h5_settings)?n.h5_settings:JSON.parse(n.h5_settings)}catch(e){i={}}var o={};n.bottom_banner_type&&i.bottom_banner_type&&(o=n.bottom_banner_link?ce(i.bottom_banner_type[n.bottom_banner_type],{link:n.bottom_banner_link}):i.bottom_banner_type[n.bottom_banner_type]),t.article={title:n.title,publishTime:n.publish_stamp?L.fmt.formatTime(1e3*n.publish_stamp):n.publish_time,showArticleTopTag:(void 0!==n.show_article_top_tag?n.show_article_top_tag:n.high_quality_flag)&&!n.is_lite,tagType:n.article_tag_type,tagServerLink:n.article_tag_link,showBottomBanner:n.show_bottom_banner||!1,bottomBanner:o},t.author={userId:n.media_user_id,mediaId:r.id,name:r.name,link:"sslocal://profile?refer=all&source=article_top_author&uid="+n.media_user_id+"&group_id="+t.statistics.group_id+"&from_page=detail_article"+(n.category_name?"&category_name="+n.category_name:""),intro:r.description,avatar:r.avatar_url,isAuthorSelf:!!n.is_author,show:!0},!t.h5_settings.is_liteapp&&n.media_user_id||(t.author.link="bytedance://media_account?refer=all&media_id="+r.id+"&loc=0&entry_id="+r.id+"&group_id="+t.statistics.group_id+"&from_page=detail_article"+(n.category_name?"&category_name="+n.category_name:""));var a={auth_type:"",auth_info:""};try{a=JSON.parse(r.user_auth_info)}catch(e){}if(t.author.auth_type=r.user_auth_info?a.auth_type||0:"",t.author.auth_info=a.auth_info,t.author.verifiedContent=r.user_verified&&t.author.auth_info||"",r.user_decoration){var s={};try{s=JSON.parse(r.user_decoration)}catch(e){}t.author.user_decoration=s}"is_subscribed"in n&&(t.author.followState=n.is_subscribed?"following":""),t.hideFollowButton=!!n.hideFollowButton,n.is_original&&(t.article.isOriginal=n.is_original),n.category_name&&(t.category_name=n.category_name),n.log_pb&&(t.log_pb=n.log_pb),n.enter_from&&(t.enter_from=n.enter_from),n.audio_info&&(t.audio_info=n.audio_info),t.styles={image_marginless:n.image_marginless||!1}},fiction:function(e,t){var n=e.h5_extra,r=n.media||{};t.article={title:n.title,publishTime:n.publish_stamp?L.fmt.formatTime(1e3*n.publish_stamp):n.publish_time,showArticleTopTag:(void 0!==n.show_article_top_tag?n.show_article_top_tag:n.high_quality_flag)&&!n.is_lite,tagType:n.article_tag_type},t.author={userId:n.media_user_id,mediaId:r.id,name:r.name,link:"sslocal://profile?refer=all&source=article_top_author&uid="+n.media_user_id+"&group_id="+t.statistics.group_id+"&from_page=detail_article"+(n.category_name?"&category_name="+n.category_name:""),intro:r.description,avatar:r.avatar_url,isAuthorSelf:!!n.is_author,show:!0},!t.h5_settings.is_liteapp&&n.media_user_id||(t.author.link="bytedance://media_account?refer=all&media_id="+r.id+"&loc=0&entry_id="+r.id+"&group_id="+t.statistics.group_id+"&from_page=detail_article"+(n.category_name?"&category_name="+n.category_name:""));var i={auth_type:"",auth_info:""};try{i=JSON.parse(r.user_auth_info)}catch(e){}if(t.author.auth_type=r.user_auth_info?i.auth_type||0:"",t.author.auth_info=i.auth_info,t.author.verifiedContent=r.user_verified&&t.author.auth_info||"",r.user_decoration){var o={};try{o=JSON.parse(r.user_decoration)}catch(e){}t.author.user_decoration=o}if("is_subscribed"in n&&(t.author.followState=n.is_subscribed?"following":""),t.hideFollowButton=!!n.hideFollowButton,n.is_original&&(t.article.isOriginal=n.is_original),"object"===A()(n.novel_data))t.novel_data=n.novel_data;else if("string"==typeof n.novel_data)try{t.novel_data=JSON.parse(n.novel_data)}catch(e){}"pay_status"in n&&(t.novel_data.pay_status=de&&de.pay_status&&-1!=de.pay_status&&-1==n.pay_status.status?de.pay_status:n.pay_status.status,t.novel_data.auto_pay_status=n.pay_status.auto_pay_status),t.novel_data.is_story=n.is_story,t.credible_content=n.credible_content,t.novel_data.can_read=le(t.novel_data,n),t.author.show=t.novel_data.can_read||t.novel_data.is_story,n.category_name&&(t.category_name=n.category_name),n.log_pb&&(t.log_pb=n.log_pb),n.enter_from&&(t.enter_from=n.enter_from)}};function ge(e){void 0===e?(e=window,pe=window,console.info("build,page,undefined")):"object"===A()(e.h5_extra)||"object"===A()(e.wenda_extra)?(pe=e,console.info("build,page,object")):(console.info("build,page,2cd"),L.client.isIOS?e.wenda_extra||e.h5_extra?(e.wenda_extra&&(pe.wenda_extra=e.wenda_extra),e.h5_extra&&(pe.h5_extra=e.h5_extra)):pe.h5_extra=e:L.client.isAndroid&&(e.wenda_extra||e.h5_extra?(e.wenda_extra&&(pe.wenda_extra=Object(L.extend)(!0,pe.wenda_extra,e.wenda_extra)),e.h5_extra&&(pe.h5_extra=Object(L.extend)(!0,pe.h5_extra,e.h5_extra))):pe.h5_extra=Object(L.extend)(!0,pe.h5_extra,e))),console.info("page",pe);var t={article:{},author:{},tags:""},n=function(e){var t="zhuanma";if("object"===A()(e.wenda_extra))t="wenda";else if("object"===A()(e.h5_extra)){var n=e.h5_extra.media;"object"===(void 0===n?"undefined":A()(n))&&null!==n&&0!==n.id&&(t=e.h5_extra.novel_data?"fiction":"pgc")}return t}(pe);t.article.type=n,t=ce("pageSettings"in de?de:me(pe),t),_e[n](pe,t),t.article.type=n,de=t,G.page=t}function ve(e,t){if("string"!=typeof e)return de;try{e=e.split(".");var n=de;return e.forEach((function(e){n=n[e]})),n||t||n}catch(e){return t}}function ye(e,t){if("string"!=typeof e)return!1;try{e=e.split(".");var n=de,r=e.length;return e.forEach((function(e,i){void 0===n[e]&&(n[e]=null),i===r-1&&(n[e]=t),n=n[e]})),!0}catch(e){return!1}}var we={},Ee={},be=document&&document.body;function Se(e){var t,n={originalEvent:e},r=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/;for(t in e)r.test(t)||void 0===e[t]||(n[t]=e[t]);return function(e,t){if(t||!e.isDefaultPrevented){t||(t=e);var n=function(n){var r=Oe[n],i=t[n];e[n]=function(){return this[r]=xe,i&&i.apply(t,arguments)},e[r]=Ne};for(var r in Oe)n(r);try{e.timeStamp||(e.timeStamp=Date.now())}catch(e){}(void 0!==t.defaultPrevented?t.defaultPrevented:"returnValue"in t?!1===t.returnValue:t.getPreventDefault&&t.getPreventDefault())&&(e.isDefaultPrevented=xe)}return e}(n,e)}var xe=function(){return!0},Ne=function(){return!1},Oe={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};var Te=function(e,t){var n=we[t],r=e.target,i=void 0;n.forEach((function(t){var n=t.selector,o=t.callback,a=function(e,t){for(var n=D(document,t),r=document.body,i=0;i<n.length;i++)for(var o=e,a=n[i];o&&o!==r;){if(a===o)return a;o=o.parentNode}return!1}(r,n);a&&r!==be&&((i=Se(e)).currentTarget=a,i.liveFired=be,o.call(r,i))}))},Ce=function(e,t,n){be=be||document&&document.body,e.split(/\s/).forEach((function(e){we[e]?we[e].push({selector:t,callback:n}):(we[e]=[{selector:t,callback:n}],Ee[e]=function(t){Te(t,e)},be.addEventListener(e,Ee[e]))}))},Ae=function(e,t){e.split(/\s/).forEach((function(e){we[e]&&(we[e]=we[e].filter((function(e){return e.selector!==t})))}))},Ie=function(){for(var e in we)be.removeEventListener(e,Ee[e]);we={},Ee={}},ke=n(44),De=n.n(ke);var Pe={config:function(e,t,n,r){De.a.config(e,t,r),j.a.invoke("TTNetwork.commonParams",{},(function(r){var i=r.data||r;i&&i.device_id&&b.a.config("http://key@m.toutiao.com/log/sentry/v2/183",{tags:{bid:"article_app",pid:"article_new",ac:i.ac,aid:i.aid,channel:i.channel,device_brand:i.device_brand,device_id:i.device_id,device_platform:i.device_platform,device_type:i.device_type,os_version:i.os_version,resolution:i.resolution,uuid:i.uuid,version_name:i.version_name||i.version_code,js_version:e,gid:"",service:t},ignoreErrors:["ReferenceError: Can't find variable: getElementPosition","Unexpected token ')'","Can't find variable: performance","null is not an object (evaluating 'el.tagName')","window._setbackXML_ is not a function"],dataCallback:function(t){window.globalErrors||(window.globalErrors=[]),window.globalErrors.push(t);var r=["lib.js","iphone.js","android.js"],i=["js"],o=["v55","v60","shared"],a="http://s3.pstatp.com/toutiao/app_web_article_online_updates/";return t&&t.exception&&Array.isArray(t.exception.values)&&t.exception.values.forEach((function(t){t&&t.stacktrace&&Array.isArray(t.stacktrace.frames)&&t.stacktrace.frames.forEach((function(t){var s=t.filename.split("/"),c=s.length;r.indexOf(s[c-1])>=0&&i.indexOf(s[c-2])>=0&&o.indexOf(s[c-3])>=0?t.filename=a+e+"/"+n+"/"+s[c-3]+"/"+s[c-2]+"/"+s[c-1]:r.indexOf(s[c-1])>=0&&i.indexOf(s[c-2])>=0&&(t.filename=a+e+"/"+n+"/"+s[c-2]+"/"+s[c-1])}))})),t.tags.gid=ve("statistics.group_id")||"",t}}).install()}))}},Re=(n(227),function(e){return function(t){function n(e){u()(this,n);var r=p()(this,t.call(this,e));return r.state={hasError:!1,error:null,errorInfo:null},r}return h()(n,t),n.prototype.componentDidCatch=function(e,t){this.setState({hasError:!0,error:e,errorInfo:t}),b.a.captureException(e,{extra:t}),console.error(e,t,this.props)},n.prototype.render=function(){return this.state.hasError?null:v.a.createElement(e,this.props)},n}(v.a.Component)}),Le=(n(228),function(e){function t(n){u()(this,t),console.info("wdtitle",n);var r=p()(this,e.call(this,n));return r.state={totalAnswerCount:"",displayTotalAnswerCount:!1},r.wendaStatisticsParams={value:n.wendaExtra.qid,ext_value:n.wendaExtra.nice_ans_count,extra:{enter_from:n.wendaExtra.enter_from,ansid:n.wendaExtra.ansid,parent_enterfrom:n.wendaExtra.parent_enterfrom||"",group_id:n.wendaExtra.ansid}},r}return h()(t,e),t.prototype.updateWendaInfoAction=function(e,t){"ans_count"in t&&this.setState({totalAnswerCount:t.ans_count+"个回答",displayTotalAnswerCount:!0}),"nice_ans_count"in t&&(this.wendaStatisticsParams.ext_value=t.nice_ans_count)},t.prototype.goToAnswerAction=function(e){L.statistics.sendUmengEvent("answer_detail",e,this.wendaStatisticsParams)},t.prototype.ruleTipClickAction=function(){var e=this.props,t=(e.statistic,e.author),n=e.wendaContext;L.statistics.sendUmengEventV3("answer_detail_guide_click",{group_id:L.statistics.group_id,user_id:t.userId,tips_from:n.tips_data.tips_from||"",tips_type:n.tips_data.tips_type||""})},t.prototype.urlAddQueryParams=function(e,t){var n,r=[],i="?";for(n in t)t.hasOwnProperty(n)&&r.push(n+"="+encodeURIComponent(t[n]));return-1!==e.indexOf("?")&&(i="&"),[e,i,r.join("&")].join("")},t.prototype.renderAnswer=function(){var e=this.props,t=e.wendaExtra,n=e.wendaContext,r=e.isLiteApp,i=t.show_post_answer_strategy||{},o="show_top"in i&&!r,a="show_default"in i&&!r,s=this.state,c=s.totalAnswerCount,l=s.displayTotalAnswerCount,u=(t.wd_version,"ft "+(n&&n.tips_data&&n.tips_data.show_tips&&n.tips_data.text&&n.tips_data.schema?"hide-border":""));return o?(L.statistics.sendUmengEvent("answer_detail","top_write_answer_show",this.wendaStatisticsParams),v.a.createElement("div",null,v.a.createElement("div",{className:u},l?v.a.createElement("span",{className:"see-all-answers",id:"total-answer-count"},c):null,v.a.createElement("span",{className:"hide-placeholder"}," ")),v.a.createElement("a",{className:"big-answer-buttoon go-to-answer",href:this.urlAddQueryParams(i.show_top.schema,{source:"answer_detail_top_write_answer"}),onClick:this.goToAnswerAction.bind(this,"top_write_answer")},i.show_top.text),v.a.createElement("div",{className:"big-answer-buttoon-gap"}))):a?v.a.createElement("div",{className:u},v.a.createElement("a",{className:"go-to-answer go-to-answer-small",href:this.urlAddQueryParams(i.show_default.schema,{source:"answer_detail_top_write_answer"}),onClick:this.goToAnswerAction.bind(this,"wirte_answer")},"回答"),l?v.a.createElement("span",{className:"see-all-answers",id:"total-answer-count"},c):null):v.a.createElement("div",{className:u},l?v.a.createElement("span",{className:"see-all-answers",id:"total-answer-count"},c):null,v.a.createElement("span",{className:"hide-placeholder"}," "),"s")},t.prototype.renderRuleTip=function(){var e=this.props,t=e.wendaContext,n=e.wendaExtra,r=e.statistic,i=e.author,o=t&&t.tips_data;return console.log("fhuh",t),o&&o.show_tips&&o.text&&o.schema?(L.statistics.sendUmengEventV3("answer_detail_guide_show",Object(L.extend)(!0,{group_id:r.group_id,user_id:i.userId,tips_from:t.tips_data.tips_from||"",tips_type:t.tips_data.tips_type||""},n.gd_ext_json)),v.a.createElement("div",{className:"answer-tips"},v.a.createElement("div",{className:"line-gap"}),v.a.createElement("p",{className:"tip-text"},v.a.createElement("a",{className:"tip-link",href:o.schema,onClick:this.ruleTipClickAction.bind(this)},o.text)),v.a.createElement("div",{className:"line-border"}))):null},t.prototype.titleClickAction=function(e){if(!(e.target.className.indexOf("go-to-answer")>-1)){var t=this.props.wendaExtra;"wenda_title_handle"in t&&t.wenda_title_handle?j.a.invoke("clickWendaDetailHeader"):"need_return"in t?t.need_return?j.a.invoke("close"):t.list_schema&&(window.location.href=t.list_schema):["click_answer","click_answer_fold"].indexOf(t.enter_from)>-1?j.a.invoke("close"):t.list_schema&&(window.location.href=t.list_schema)}},t.prototype.render=function(){this.props;var e=this.props,t=e.wendaExtra,n=(e.wendaContext,e.isLiteApp),r=t.wd_version||0,i=t.show_post_answer_strategy||{},o="show_top"in i&&!n?"bigans":"show_default"in i&&!n?"smlans":"noans";return r<1||r>=3&&1==t.showMode?null:v.a.createElement(g.Fragment,null,v.a.createElement("div",{className:"wenda-title "+o+" title-type"+(t.answer_detail_type||0),onClick:this.titleClickAction.bind(this)},v.a.createElement("div",{className:r>=13?"wt no-icon":"wt"},t.title),this.renderAnswer()),this.renderRuleTip())},t}(v.a.Component)),Me=(n(229),function(e){function t(){return u()(this,t),p()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.articleTopTagClickHandler=function(e){var t=this.props,n=t.statistic,r=t.articleType;L.statistics.sendUmengEventV3("click_icon",{group_id:n.group_id,icon_name:e,position:"detail",article_type:r})},t.prototype.renderRight=function(e){var t=this,n=e.right.text;return v.a.createElement("a",{className:"tag-right-content",href:e.link,onClick:function(){return t.articleTopTagClickHandler(e.icon_name)}},v.a.createElement("span",null,n),v.a.createElement("i",{className:"arrow-icon"}))},t.prototype.render=function(){var e=this,t=this.props,n=t.type,r=void 0===n?"1":n,i=t.tagSetting,o=void 0===i?{}:i,a=t.position,s=t.link;if(!r||!o||!o[r])return null;var c=o[r];return s&&(c=ce(o[r],{link:s})).right&&(c.right.link=s),v.a.createElement("span",{className:"high-quality "+a},v.a.createElement("a",{href:c.link,onClick:function(){return e.articleTopTagClickHandler(c.icon_name)}},v.a.createElement("i",{className:"icon",style:{background:'url("'+c.icon+'") center center no-repeat',backgroundSize:"contain"}}),v.a.createElement("span",null,c.text),v.a.createElement("i",{className:"split"}),v.a.createElement("span",{className:"sub-desc"},c.high_quality_text)),c.right?this.renderRight(c):null)},t}(v.a.PureComponent));n(230);var je=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.clickTitle=r.clickTitle.bind(r),r.isReportedAudioShow=!1,r}return h()(t,e),t.prototype.handleTitleHtml=function(e,t){var n,r,i=t.statistic,o=t.audioInfo,a=t.setting,s="",c=e;if(o&&L.client.isNewsArticleVersionNoLessThan("7.3.3")){var l=(n=a.audio_icon_type||2,r=a.audio_icon_conf,n&&r?r[n].icon:"");if(!l)return c;var u=e[e.length-1];s='<i class="audio-tag" style="background-image:url('+l+");margin-left:"+(!/。|！|？|》/.test(u)?"10px":0)+';"></i>',this.isReportedAudioShow||(L.statistics.sendUmengEventV3("show_play_toutiao",{is_audio:1,group_id:i.group_id,to_group_id:o.audio_id,category_name:i.category_name,enter_from:i.enter_from,log_pb:i.log_pb}),this.isReportedAudioShow=!0),c=e.slice(0,-1)+'<span style="white-space: nowrap; display: inline-block;">'+u+s+"</span>"}return c},t.prototype.clickTitle=function(e){var t=this.props,n=t.statistic,r=t.audioInfo;e.target.classList.contains("audio-tag")&&(j.a.invoke("playAudioByFloatView",{item_id:r.audio_id,query:"groupid="+r.audio_id+"&enter_from=click_tingtoutiao&parent_enterfrom="+n.enter_from+"&feed_group_id="+n.group_id+"&parent_gid="+n.group_id+"&category_name="+n.category_name,play_list_params:a()({category_name:n.category_name})}),L.statistics.sendUmengEventV3("click_play_toutiao",{is_audio:1,group_id:n.group_id,to_group_id:r.audio_id,category_name:n.category_name,enter_from:n.enter_from,log_pb:n.log_pb}))},t.prototype.render=function(){var e=this.props,t=e.article,n=e.setting,r=void 0===n?{}:n,i=e.statistic;switch(t.type){case"fiction":return v.a.createElement("div",{className:"tt-title",dangerouslySetInnerHTML:{__html:t.title}});case"pgc":return v.a.createElement(g.Fragment,null,t.showArticleTopTag?v.a.createElement(Me,{type:t.tagType,link:t.tagServerLink,tagSetting:r.article_tag_type,position:"before-title",statistic:i,articleType:t.type}):null,v.a.createElement("div",{className:"tt-title",onClick:this.clickTitle,dangerouslySetInnerHTML:{__html:this.handleTitleHtml(t.title,this.props)}}));case"wenda":return v.a.createElement(Le,this.props);case"zhuanma":return v.a.createElement("div",{className:"tt-title",onClick:this.clickTitle,dangerouslySetInnerHTML:{__html:this.handleTitleHtml(t.title,this.props)}});default:return null}},t}(v.a.Component),Ue=(n(231),function(e){function t(n){return u()(this,t),p()(this,e.call(this,n))}return h()(t,e),t.prototype.clickAvaterAction=function(){"pgc"===this.props.articleType&&L.statistics.sendUmengEvent("detail","click_pgc_header",{value:this.props.authorInfo.mediaId,extra:{item_id:this.props.statistic.item_id}})},t.prototype.renderVIcon=function(){if(this.props.useServerV&&this.props.authorInfo.auth_info&&null!=this.props.authorInfo.auth_type){var e=Object(L.buildServerVIcon)(this.props.authorInfo.auth_type,"avatar_icon",this.props.setting.user_verify_info_conf);if(e)return v.a.createElement("div",{dangerouslySetInnerHTML:{__html:e}})}return""},t.prototype.render=function(){var e=this.props;return v.a.createElement("div",{className:"avatar"},v.a.createElement("a",{className:"author-avatar-link",href:e.authorInfo.link,onClick:this.clickAvaterAction.bind(this),"aria-label":"个人主页"},v.a.createElement("div",{className:"author-avatar"},e.authorInfo.avatar?v.a.createElement("img",{className:"author-avatar-img",src:e.authorInfo.avatar,alt:""}):null),this.renderVIcon()),e.authorInfo.user_decoration&&e.authorInfo.user_decoration.url?v.a.createElement("div",{className:"avatar-decoration","aria-hidden":"true",style:{backgroundImage:"url("+e.authorInfo.user_decoration.url+")"}}):null,v.a.createElement("a",{className:"avatar-decoration avatar-night-mask pgc-link","aria-hidden":"true",href:e.authorInfo.link,onClick:this.clickAvaterAction.bind(this)}))},t}(v.a.Component));function Fe(e){this.id=e,this.eventMap={}}Fe.prototype.on=function(e,t){e&&"string"==typeof e&&"function"==typeof t&&(Array.isArray(this.eventMap[e])?-1===this.eventMap[e].indexOf(t)&&this.eventMap[e].push(t):this.eventMap[e]=[t])},Fe.prototype.off=function(e,t){if(e&&"string"==typeof e)if(t){if("function"==typeof t&&Array.isArray(this.eventMap[e])){var n=this.eventMap[e].indexOf(t);n>-1&&this.eventMap[e].splice(n,1)}}else delete this.eventMap[e]},Fe.prototype.broadcast=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];e&&"string"==typeof e&&Array.isArray(this.eventMap[e])&&this.eventMap[e].forEach((function(n){try{n.call.apply(n,[t].concat(r))}catch(t){console.error("event广播错误",e,t),b.a.captureException(t)}}))};var He=Fe,Be=new He("pgc"),Ve=new He("card"),qe=new He("page"),We=(n(232),function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.followDisabled=!1,r.followSource={pgc:30,wenda:28},r.followFrom={pgc:"article_detail",wenda:"answer_detail_top_card"},r}return h()(t,e),t.prototype.followActionHandler=function(e){if(!this.followDisabled){this.props.updateFollowDisabledState(!0),this.followDisabled=!0;var t=this,n=this.props,r=n.author,i=n.article,o=n.followState,a=n.statistic,s=n.wendaExtra,c=o,l={id:r.userId,action:c?"unfollow":"dofollow",source:this.followSource[i.type],from:this.followFrom[i.type]},u={to_user_id:r.userId,media_id:r.mediaId,follow_type:"from_group",group_id:a.group_id,item_id:a.item_id,category_name:a.category_name,enter_from:a.enter_from,log_pb:a.log_pb,source:"pgc"===i.type?"article_detail":"answer_detail_top_card",server_source:this.followSource[i.type],position:"pgc"===i.type?"title_below":"detail"};if(document.querySelector(".article-fold-wrap")&&!c){qe.broadcast("showArticleFoldWrap",null,!1),document.documentElement.classList.contains("noscroll")&&document.documentElement.classList.remove("noscroll");var d=document.documentElement.offsetHeight||document.body.offsetHeight||document.documentElement.scrollHeight;j.a.invoke("article_open",{height:d})}"wenda"==i.type&&(u=Object(L.extend)(!0,u,s.gd_ext_json||{})),j.a.invoke("user_follow_action",l,(function(e){t.followDisabled=!1,console.info("user_follow_action",c,e),e&&1==+e.code?t.props.updateFollowState(c?"":"following",!0):t.props.updateFollowState(c?"following":"",!0)})),L.statistics.sendUmengEventV3(c?"rt_unfollow":"rt_follow",u),c||t.props.initMediasugState&&t.props.initMediasugState()}},t.prototype.sugstateChangeAction=function(){L.statistics.sendUmengEvent("detail","click_arrow_down",{extra:{source:"article_detail"}}),this.props.updateSugstate&&this.props.updateSugstate()},t.prototype.componentDidMount=function(){var e=this;qe.on("pageStateChange",(function(t){switch(t.type){case"user_action":t.id==e.props.author.userId&&"status"in t&&(e.props.updateFollowState(t.status?"following":"",e.followDisabled),e.followDisabled=!1);break;case"pgc_action":t.id==e.props.author.mediaId&&"status"in t&&(e.props.updateFollowState(t.status?"following":"",e.followDisabled),e.followDisabled=!1)}}))},t.prototype.componentWillUnmount=function(){qe.off("pageStateChange")},t.prototype.render=function(){var e=this.props;console.info("followButton",e);var t=e.author.isAuthorSelf||e.wendaContext&&e.wendaContext.is_author,n=e.redPack&&e.redPack.token&&e.redPack.redpack_id>0,r=(e.setting.tt_follow_button_template&&e.setting.tt_follow_button_template.color_style,"subscribe-button follow-button "+e.followState+(this.props.followDisabled?" disabled ":" ")+e.followButtonStyle),i="open"!==e.sugState&&"close"!==e.sugState;return t||"wenda"===e.article.type&&e.setting.is_liteapp||e.hideFollowButton?null:v.a.createElement("div",{className:n?"author-function-buttons redpack-button-just-word follow-button-large":"author-function-buttons","extra-space":e.hasExtraSpace?"":"no"},v.a.createElement("button",{className:"mediasug-arrow-button iconfont","aria-hidden":i,onClick:this.sugstateChangeAction.bind(this)}),v.a.createElement("button",{className:r,id:"subscribe",onClick:this.followActionHandler.bind(this)},v.a.createElement("i",{className:"iconfont focusicon"}," ")))},t}(v.a.Component)),Ge=(n(233),function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={browCount:n.wendaContext.brow_count,diggCount:n.wendaContext.digg_count},r}return h()(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=(e.wendaContext,e.wendaExtra),n=this;qe.on("pageStateChange",(function(e){"wenda_digg"===e.type&&t&&e.id==t.ansid&&"status"in e&&(1==e.status?n.setState({diggCount:L.fmt.formatCount(parseInt(n.state.diggCount)+1,"0")}):n.state.diggCount>0&&n.setState({diggCount:L.fmt.formatCount(parseInt(n.state.diggCount)-1,"0")}))}))},t.prototype.componentWillUnmount=function(){qe.off("pageStateChange")},t.prototype.render=function(){var e=L.fmt.formatCount(this.state.browCount,"0"),t=L.fmt.formatCount(this.state.diggCount,"0");return v.a.createElement("div",{className:"wenda-info"},v.a.createElement("span",{className:"read-info brow-count"},e),v.a.createElement("span",{className:"like-info digg-count-special"},t))},t}(v.a.Component)),ze=(n(234),function(e){function t(n){return u()(this,t),p()(this,e.call(this,n))}return h()(t,e),t.prototype.renderMedals=function(){var e=this.props.authorInfo.medals,t=this.props.setting.ugc_user_medal;return e&&t?v.a.createElement("div",{className:"article-medal"},e.map((function(e){if(t[e])return v.a.createElement("img",{src:t[e]})}))):null},t.prototype.renderTags=function(){return this.props.article.isOriginal?v.a.createElement("div",{className:"article-tags"},v.a.createElement("div",{className:"article-tag-original"})):null},t.prototype.renderSubTitle=function(){var e=this.props,t=e.article,n=e.authorInfo;switch(t.type){case"pgc":case"wenda":return v.a.createElement("span",{className:"sub-title"},t.publishTime,t.publishTime&&n.auth_info?" · ":"",n.auth_info);default:return v.a.createElement("span",{className:"sub-title"},n.intro)}},t.prototype.render=function(){var e=this.props;return v.a.createElement("div",{className:"author-bar"},v.a.createElement("div",{className:"name-link-wrap"},v.a.createElement("div",{className:"wenda"!==e.article.type||e.authorInfo.intro||e.article.publishTime||e.article.isOriginal?"name-link-w":"name-link-w no-intro"},this.renderMedals(),v.a.createElement("a",{className:"author-name-link pgc-link",href:e.authorInfo.link},e.authorInfo.name))),v.a.createElement("a",{className:"sub-title-w",href:e.authorInfo.link},v.a.createElement("div",{className:"article-tags"},this.renderTags()),this.renderSubTitle()))},t}(v.a.Component)),Ye=0;function Xe(){return null}var Ke=function(e,t,n,r){"function"==typeof t&&(n=t,t={}),t||(t={});var i,o,s=t.prefix||"__jp",c=t.name||s+Ye++,l=t.param,u=t.timeout,d=encodeURIComponent,p=document.getElementsByTagName("script")[0]||document.head;function f(){i.parentNode&&i.parentNode.removeChild(i),window[c]=Xe,o&&clearTimeout(o)}return u&&(o=setTimeout((function(){f(),r&&r({error:"TIMEOUT"})}),u)),window[c]=function(e){f(),n&&n(null,e)},e=(e+=(~e.indexOf("?")?"&":"?")+function(e){if(!e)return"";var t=[];for(var n in e)if(e.hasOwnProperty(n)&&"function"!=typeof e[n]){var r=e[n];"[object Object]"==Object.prototype.toString.call(r)&&(r=a()(r)),n=encodeURIComponent(n),r=encodeURIComponent(r),t.push(n+"="+r)}return t.join("&")}(l)+"&callback="+d(c)).replace("?&","?"),(i=document.createElement("script")).src=e,p.parentNode.insertBefore(i,p),function(){window[c]&&f()}};var Je=(new(function(){function e(){u()(this,e),this.bridgeScheme="nativeapp://",this.dispatchMsgPath="dispatch_message/",this.setResultPath="private/setresult/",this.fetchQueue="SCENE_FETCHQUEUE",this.jsBridgeKey="JSBridge",this.callbackId=1e3,this.callbackMap={},this.eventHookMap={},this.sendMessageQueue=[],this.fallbackCheckFunction=null,this.jsbridge={}}return e.prototype._fetchQueue=function(){var e=a()(this.sendMessageQueue);return this.sendMessageQueue.length>0&&this._dispatchUrlMsg(""+this.bridgeScheme+this.setResultPath+this.fetchQueue+"&"+btoa(encodeURIComponent(e).replace(/%(..)/gi,(function(e,t){return String.fromCharCode(parseInt(t,16))})))),this.sendMessageQueue=[],e},e.prototype._dispatchUrlMsg=function(e){if("undefined"!=typeof document){var t=document.createElement("iframe");t.style.display="none",document.body.appendChild(t),t.src=e,setTimeout((function(){document.body.removeChild(t)}),300)}},e.prototype._handleMessageFromApp=function(e){var t=e.__params,n={__err_code:"cb404"},r=e.__callback_id;return"string"==typeof r&&"function"==typeof this.callbackMap[r]?(n=this.callbackMap[r](t),delete this.callbackMap[r]):"string"==typeof r&&Array.isArray(this.eventHookMap[r])&&this.eventHookMap[r].forEach((function(e){"function"==typeof e&&(n=e(t))})),a()(n)},e.prototype._call=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(e&&"string"==typeof e){var o=void 0;i?o=e:(this.callbackId+=1,o=this.callbackId.toString());var s=t&&t.jsb_sync,c=n;"function"==typeof c?this.callbackMap[o]=c:s||i||(this.callbackMap[o]=c);var l={JSSDK:r,func:e,params:t,__msg_type:i?"event":"call",__callback_id:o};s&&delete t.jsb_sync;var u=void 0;try{s&&window.JS2NativeBridge&&window.JS2NativeBridge.callSync?(l.currentUrl=window.location.href,u=window.JS2NativeBridge.callSync(e,a()(l))):window.JS2NativeBridge&&window.JS2NativeBridge.call?u=window.JS2NativeBridge.call(e,a()(l)):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.callMethodParams?u=window.webkit.messageHandlers.callMethodParams.postMessage(l):window.callMethodParams?u=window.callMethodParams(e,l):(this.sendMessageQueue.push(l),this._dispatchUrlMsg(""+this.bridgeScheme+this.dispatchMsgPath))}catch(e){console.error(e)}return c&&c.promise||u}},e.prototype._on=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(e&&"string"==typeof e&&"function"==typeof t){this.eventHookMap[e]?this.eventHookMap[e].push(t):this.eventHookMap[e]=[t];var r={JSSDK:n,__msg_type:"event",__callback_id:e,func:e};try{window.JS2NativeBridge&&window.JS2NativeBridge.on?window.JS2NativeBridge.on(e,a()(r)):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.onMethodParams?window.webkit.messageHandlers.onMethodParams.postMessage(r):window.onMethodParams?window.onMethodParams(e,r):window.JS2NativeBridge||this._call(e,{},null,n,1)}catch(e){console.error(e)}}},e.prototype._off=function(e,t){e&&"string"==typeof e&&"function"==typeof t&&this.eventHookMap[e]&&(this.eventHookMap[e]=this.eventHookMap[e].filter((function(e){return e!==t})))},e.prototype._trigger=function(e,t){var n=this.eventHookMap[e],r=!1;if(n)for(var i=0,o=n.length;i<o;i++){var a=n[i];"function"==typeof a&&(r=!0,a(t))}return r},e.prototype.init=function(){var e=this;return this.jsbridge={call:function(){return e._call.apply(e,arguments)},on:function(){return e._on.apply(e,arguments)},off:function(){return e._off.apply(e,arguments)},trigger:function(){return e._trigger.apply(e,arguments)}},window.Native2JSBridge={_fetchQueue:function(){return e._fetchQueue.apply(e,arguments)},_handleMessageFromApp:function(){return e._handleMessageFromApp.apply(e,arguments)}},window.JSBridge=this.jsbridge,this.jsbridge},e}())).init(),$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"TTNetwork.commonParams",t=void 0;function n(n){Je.call(e,{},(function(e){t=e.data.data||e.data||e,"function"==typeof n&&n(t)}))}return n(),function(e){t?"function"==typeof e&&e(t):e&&n(e)}},Ze=$e("TTNetwork.commonParams"),Qe=$e("appInfo"),et=Ze,tt=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.followSource={pgc_sug:34,pgc_sug_supplement:133,wenda_sug:71,wenda_sug_supplement:138},r.state={followDisabled:!1},r}return h()(t,e),t.prototype.handleFollowAction=function(e){e.stopPropagation(),this.state.followDisabled||this.props.followAction(this.props.item,this.followActionCallback.bind(this))},t.prototype.followActionCallback=function(e){var t=this.props,n=t.item,r=t.profileId,i=n.is_following;"pgc"===this.props.articleType&&"object"===(void 0===e?"undefined":A()(e))&&1===e.code&&L.statistics.sendUmengEvent("detail",i?"sub_rec_unsubscribe":"sub_rec_subscribe",{value:n.user_id,extra:{source:"article_detail",profile_user_id:r}})},t.prototype.cardClickAction=function(e){if("ms-subs"!==e.target.className){var t=this.props,n=t.item,r=t.statistic,i=t.articleType,o=t.profileId,a=n.is_following;L.statistics.sendUmengEventV3("follow_card",{action_type:"click_avatar",category_name:r.category_name,is_direct:0,is_follow:a,source:n.is_supplement?"detail_follow_card_related":"detail_follow_card",to_user_id:n.user_id,order:this.props.index,server_extra:n.server_extra}),window.location.href="sslocal://profile?uid="+n.user_id+("wenda"===i?"&refer=wenda":"")+"&group_id="+r.group_id+"&from_page="+r.from_page+"&profile_user_id="+o+(r.category_name?"&category_name="+r.category_name:"")}},t.prototype.dislikeItem=function(e){e.stopPropagation();var t=this.props,n=t.item,r=t.statistic,i=n.is_following;j.a.invoke("fetch",{url:"https://api.snssdk.com/user/relation/user_recommend/v1/dislike_user/",method:"POST",data:{dislike_user_id:n.user_id},needCommonParams:!0},(function(e){if(e.code&&e.response){try{JSON.parse(e.response)}catch(e){console.error(e)}}})),L.statistics.sendUmengEventV3("follow_card",{action_type:"delete",category_name:r.category_name,is_direct:0,is_follow:i,source:n.is_supplement?"detail_follow_card_related":"detail_follow_card",to_user_id:n.userId,order:this.props.index,server_extra:n.server_extra}),this.props.deleteItem(this.props.index)},t.prototype.renderVIcon=function(){var e=this.props,t=e.item,n=e.useServerV,r=e.setting;if(n&&t.user_verified&&t.user_auth_info&&t.user_auth_info.auth_type)return{__html:Object(L.buildServerVIcon)(t.user_auth_info.auth_type,"avatar_icon",r.user_verify_info_conf)}},t.prototype.render=function(){var e=this.props,t=e.item,n=e.setting,r="ms-subs ";r+=n.tt_follow_button_template&&"red"===n.tt_follow_button_template.color_style?" ms-red-btn ":"",r+=t.is_following?" isfollowing":"",r+=t.followDisabled?" disabled":"";var i="ms-item"+(t.is_supplement?" supplement":"");return v.a.createElement("div",{className:i,onClick:this.cardClickAction.bind(this)},v.a.createElement("div",{className:"ms-item-wrapper"},v.a.createElement("div",{className:"ms-close",onClick:this.dislikeItem.bind(this)}),v.a.createElement("div",{className:"ms-avatar"},v.a.createElement("div",{className:"ms-avatar-wrap"},v.a.createElement("img",{className:"ms-avatar-image",src:t.avatar_url,alt:"头像"})),v.a.createElement("div",{dangerouslySetInnerHTML:this.renderVIcon()})),t.user_decoration&&t.user_decoration.url?v.a.createElement("div",{className:"avatar-decoration","aria-hidden":"true",style:{backgroundImage:"url("+t.user_decoration.url+")"}}):null,v.a.createElement("div",{className:"avatar-decoration avatar-night-mask","aria-hidden":"true"}),v.a.createElement("div",{className:"ms-name-wrap"},v.a.createElement("div",{className:"ms-name"},t.name)),v.a.createElement("div",{className:"ms-desc"},t.reason_description),v.a.createElement("button",{className:r,onClick:this.handleFollowAction.bind(this)},v.a.createElement("span",{className:"focus-icon"}," "))))},t}(v.a.Component),nt=function(e){function t(n){return u()(this,t),p()(this,e.call(this,n))}return h()(t,e),t.prototype.cardClickAction=function(e){L.statistics.sendUmengEventV3("followcard_more_button",{action_type:"click",category_name:this.props.statistic.category_name,source:"detail_follow_card",server_extra:this.props.server_extra}),window.location.href=this.props.action_schema},t.prototype.render=function(){return v.a.createElement("div",{className:"ms-more",onClick:this.cardClickAction.bind(this)},v.a.createElement("div",{className:"ms-more-icon"}),v.a.createElement("div",{className:"ms-more-title"},this.props.action_card_title))},t}(v.a.Component),rt=[];G.imageStore=rt;var it=k(),ot=function(e){var t=function(e,t){it.height||(it.height=k().height);try{var n=e.getBoundingClientRect().top;return n<0||n<2*it.height}catch(e){return console.error("在函数名为belowNextScreen",e,t),!1}}(e.dom?e.dom:document.querySelectorAll(".image-wrap")[e.index],e);return t&&(console.info("第"+e.index+"个图片加载成功","imageLoad"),e.successFn()),t},at=function(){var e=0,t=rt.length,n=t;if(rt.length>0)for(;e<t;e++)ot(rt[e])||(n=e,e=t);rt=rt.slice(n)},st=function(){rt=[]};function ct(e,t){for(var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;e;){if(n.call(e,t))return e;e=e.parentElement}return null}function lt(e,t){for(var n in t)e[n]=t[n];return e}function ut(){var e;G.imgArr.every((function(e){return"origin"===e.params.state}))&&(e=document.getElementById("toggle-img"))&&(e.style.visibility="hidden")}function dt(e){return e?e.change_rate&&e.change_rate.indexOf("-")>-1?"#2FC94E":"#FF4442":""}function pt(e){return!e||"object"!==(void 0===e?"undefined":A()(e))||(!e.cur_price||!e.change_rate)}var ft=function(){function e(t,n,r){u()(this,e),this.setting=t,this.params=n,this.isNativeImage=r,this.reshapeImageWrapNodes(),this.appendImageRelatedNodes(),this.correctImgHolder()}return e.prototype.addIdentify=function(e){var t=document.createElement("div");t.innerHTML=e,t.style.cssText="\n            display: inline-block;\n            position: absolute;\n            top: 0px;\n            left: 0px;\n            padding: 0 12px 0 5px;\n            background: #eee;\n            border-radius: 0 0 10px 0;\n            opacity: 0.8;\n            color: #333;\n            font-size: 14px;\n        ",this.params.holder.appendChild(t)},e.prototype.reshapeImageWrapNodes=function(){var e=this.params,t=e.holder,n=e.index,r=t.parentNode,i=function(e,t,n){var r=document.createElement(n);return e.insertBefore(r,t),r.appendChild(t),r};(function(e,t){var r=void 0;return"P"===e.tagName?""!==e.textContent?(console.info("["+n+"]所在段落有文本，应当分割"),r=i(e,t,"span")):e.querySelectorAll(".image").length>1?(console.info("["+n+"]所在段落有其他图片，应当分割"),r=i(e,t,"span")):(console.info("["+n+"]正确"),r=e):(console.info("["+n+"]直接加包裹"),r=i(e,t,"p")),console.info(r,"newParent",n),r}(r,t)).className="image-wrap",t.setAttribute("index",n),this.isNativeImage||t.removeAttribute("href")},e.prototype.appendImageRelatedNodes=function(){var e=this,t=this.params,n=this.setting,r=document.createDocumentFragment(),i=t.holder;if(!this.isNativeImage){var o=document.createElement("img");o.classList.add("opacity-zero"),o.onload=this.onLoad.bind(this),o.onerror=this.onError.bind(this),r&&r.appendChild(o),t.imgDOM=o}this.fragmentAppendCarTipDOM(),this.fragmentAppendStockTipDOM(),this.fragmentAppendStockTrendTipDOM(),this.fragmentAppendLoadingDOM(t.state,r),i.appendChild(r),function(t,n){var r;n.isLazyLoad&&"none"!==t.state&&("object"===(void 0===(r={index:t.index,successFn:function(){e.loadImage()}})?"undefined":A()(r))?rt.push(r):console.error("data 不是一个对象"))}(t,n)},e.prototype.correctImgHolder=function(){var e=this.params,t=this.setting,n=e.holder,r=function(e,t,n,r){var i=r.aW/2,o=e/t,a=void 0,s=void 0;return a=e?e>i?r.aW:e:200,s=o?parseInt(a/o):200,console.info("[adjustOriginImageScale]",arguments,a,s),{width:a,height:s}}(e.width,e.height,"none"===e.state,t),i=r.width,o=r.height;n.style.width=i+"px",n.style.height=o+"px",n.setAttribute("bg",i>140&&o>44),n.setAttribute("state",e.state)},e.prototype.fragmentAppendLoadingDOM=function(e,t){if("origin"!==e){var n=document.createElement("i");n.classList.add("spinner"),t.appendChild(n)}},e.prototype.fragmentAppendCarTipDOM=function(){var e=this.params,t=e.holder,n=e.index;if(e.carTipData&&"object"===A()(e.carTipData)){var r="autoscript"+n,i=ve("statistics").group_id,o=document.createElement("i");o.setAttribute("class","image-subscript autoscript"),o.id=r;var a=e.carTipData.extra_tips||"查看详情";o.innerHTML='<span class="ovf">'+e.carTipData.series_name+"</span><span>"+e.carTipData.price+'</span><span class="sx">&#xe60a;</span><span>'+a+"</span>",o.dataset.href=e.carTipData.open_url,o.dataset.smallapp_abtest=e.carTipData.smallapp_abtest?"1":"0",o.dataset.sapp_sdk_enable=e.carTipData.sapp_sdk_enable?"1":"0",console.info(t,n,e,"fragmentAppendCarTipDOM");try{t.appendChild(o)}catch(e){console.info(e,this)}Z.add("show",{domSelector:"#"+r,tag:"detail",label:"pic_card_show",params:{value:i}}),Z.add("show",{domSelector:"#"+r,value:"web_show_event",obj:{obj_id:"page_detail_pic_tag",group_id:i,smallapp_abtest:o.dataset.smallapp_abtest,sapp_sdk_enable:o.dataset.sapp_sdk_enable}}),Z.add("show",{domSelector:"#"+r,value:"show_content_go_purchase",obj:{obj_id:"detail_scard_n_consultation",group_id:i,item_id:ve("statistics").item_id||"",enter_from:ve("statistics").enter_from||"",category_name:ve("statistics").category_name||"",log_pb:ve("statistics").log_pb||"",bookshelf_type:"motor"}})}},e.prototype.fragmentAppendStockTrendTipDOM=function(){var e=this.params,t=e.holder;if(e.stockTrendTipData&&"object"===A()(e.stockTrendTipData)){var n=e.stockTrendTipData,r=document.createElement("i");r.setAttribute("class","stock-trend-img");r.innerHTML='<span class="ovf">'+n.stock_name+'</span><span style="color: '+dt(n)+';">'+n.cur_price+" "+n.change_rate+'</span><span class="sx">&#xe60a;</span><span>查看详情</span>',r.dataset.href=n.open_url,r.dataset.stockCode=n.stock_code;try{t.appendChild(r)}catch(e){console.info(e,this)}L.statistics.sendUmengEventV3("news_trend_banner_show",{code:n.stock_code,group_id:ve("statistics").group_id})}},e.prototype.fragmentAppendStockTipDOM=function(){var e=this.params,t=e.holder,n=e.index;if(e.stockTipData&&"object"===A()(e.stockTipData)){var r=this.setting.groupId,i=document.createElement("a");i.setAttribute("class","pgc-img-stock-caption"),i.setAttribute("data-gid",r),i.setAttribute("data-stock-id",e.stockTipData.stockId);i.innerHTML='<span class="ovf">'+e.stockTipData.desc+'</span><span>查看详情</span><span class="sx">&#xe6d8;</span>',i.href=e.stockTipData.schema,console.info(t,t.parentNode,n,e,"fragmentAppendStockTipDOM");try{t.parentNode.appendChild(i)}catch(e){console.info(e,this)}L.statistics.sendUmengWhenTargetShown(t,"news_kline_chart_show","",{group_id:r,code:e.stockTipData.stockId},!0,{version:3})}},e}();var ht=function(e){function t(n,r){u()(this,t);var i=p()(this,e.call(this,n,r,!0));return i._el=document.createElement("native-image"),i._isLoading=!1,i._el.addEventListener("load",i.onLoad.bind(i)),i._el.addEventListener("error",i.onError.bind(i)),i._el.addEventListener("inserterror",(function(){i._insertFail||(i._insertFail=!0,L.statistics.sendUmengEventV3("article_detail_nc_image",{err_type:"insert_fail",group_id:ve("statistics").group_id||"",index:i.params.index}))})),i}return h()(t,e),t.prototype.onLoad=function(){var e=this.params,t=this.setting,n=e.width,r=e.height,i=e.holder,o=this._el,a=o.naturalWidth,s=o.naturalHeight;this._isLoading=!1,i.classList.remove("animation"),a||s?(n===a&&r===s||(e.width=a,e.height=s),"origin"===e.state&&console.info("Load large image success"),this.correctImgHolder(),"origin"!==t.state&&ut(),i.classList.contains("no-transition")&&setTimeout((function(){return i.classList.remove("no-transition")}),100),this.loaded=!0,this.params.holder.classList.remove("error")):this.onError()},t.prototype.onError=function(){var e=this.params,t=e.holder,n=e.index;this._isLoading=!1,t.classList.add("error"),t.classList.remove("animation");var r=this._el.querySelector("img");r?L.statistics.sendUmengEventV3("article_detail_nc_image",{err_type:"fallback_error",group_id:ve("statistics").group_id||"",index:n,image_url:r.getAttribute("src")}):L.statistics.sendUmengEventV3("article_detail_nc_image",{err_type:"native_image_error",group_id:ve("statistics").group_id||"",index:n,image_url:this._el.getAttribute("src")})},t.prototype.loadImage=function(){var e=this.params,t=this.setting;if(t.ttImageList&&t.ttImageList[e.index]){e.holder.classList.remove("error");var n=t.ttImageList[e.index],r=n.large_cached,i=n.large_urls,o=n.thumb_urls,s=e.state||t.state;this._isLoading=!0,"thumb"!==e.state&&e.holder.classList.add("animation"),"thumb"!==s||r?(this._el.setAttribute("src",i[0]),this._el.setAttribute("data-extra",a()({srcs:i})),e.state="origin"):(this._el.setAttribute("src",o[0]),this._el.setAttribute("data-extra",a()({srcs:o})),e.state="thumb"),this._el.isConnected||e.holder.appendChild(this._el)}},t}(ft),mt=/url=([^&]*)/,_t=function(e){return"origin"===e.state&&""===e.url&&e.width&&e.height},gt=function(e){return"origin"===e.state&&""!==e.url&&"boolean"==typeof e.width&&"function"==typeof e.height},vt={willStart:function(e){e()},clean:function(){console.info("NativePlayGif.clean")},ended:function(){},tellNativeImagesPosition:function(){},setUseNativePlayGif:function(){}},yt=window.enableBDNative||window.ttJSCore&&window.ttGlobalConfig&&window.ttGlobalConfig.isRenderInBrowser()?vt:{gifArr:[],NativePlayGifMovingCount:0,useNativePlayGif:!1,setUseNativePlayGif:function(e){yt.useNativePlayGif=e},willStart:function(e){yt.useNativePlayGif?yt.tellNativeGetFrames((function(){yt.tellNativeAnimationWillStart(),"function"==typeof e&&e()})):"function"==typeof e&&e()},clean:function(){console.info("NativePlayGif.clean"),yt.positions={},yt.NativePlayGifMovingCount=0},tellNativeImagesPosition:function(){if(yt.useNativePlayGif){var e={};yt.gifArr.forEach((function(t){var n=t.params.holder.getBoundingClientRect();e[t.params.index]={x:n.left+window.pageXOffset,y:n.top+window.pageYOffset,width:n.width,height:n.height}})),console.info("updateGIFPositions ",e),j.a.invoke("updateGIFPositions",e)}},tellNativeAnimationWillStart:function(){yt.useNativePlayGif&&(yt.NativePlayGifMovingCount++,console.info("tellNativeAnimationWillStart",yt.NativePlayGifMovingCount),1===yt.NativePlayGifMovingCount&&(console.info("animationWillStart",yt.NativePlayGifMovingCount),j.a.invoke("NativePlayGif",{action:"animationWillStart"})))},tellNativeGetFrames:function(e){yt.useNativePlayGif&&j.a.invoke("NativePlayGif",{action:"getFrames"},(function(t){if(Array.isArray(t.frames)){console.info("tellNativeGetFrames",t.frames);var n=t.frames.length;n>0?t.frames.forEach((function(t,r){var i=Array.prototype.slice.call(t);r>=n-1?i.push(!0,e):i.push(!0),window.appendLocalImage.apply(this,i)})):"function"==typeof e&&e()}}))},te:function(e){console.info("transitionend",e.target,this.getAttribute("index")),this.classList.remove("animation"),this.removeEventListener("transitionend",yt.te),yt.ended()},ended:function(){yt.useNativePlayGif&&setTimeout((function(){yt.tellNativeImagesPosition(),yt.tellNativeAnimationDidEnd((function(){yt.cleanFrames()}))}),100)},tellNativeAnimationDidEnd:function(e){yt.useNativePlayGif&&(yt.NativePlayGifMovingCount--,console.info("tellNativeAnimationDidEnd",yt.NativePlayGifMovingCount),0===yt.NativePlayGifMovingCount?(console.info("tellNativeAnimationDidEnd",yt.NativePlayGifMovingCount),j.a.invoke("NativePlayGif",{action:"animationDidEnd"},(function(){"function"==typeof e&&e()}))):yt.NativePlayGifMovingCount<0&&(yt.NativePlayGifMovingCount=0))},cleanFrames:function(){yt.useNativePlayGif&&(console.info("cleanFrames"),yt.gifArr.forEach((function(e){var t=e.params;t.nativePlayGifLoaded&&(t.holder.innerHTML="",t.url="")})))}},wt=(function(e){function t(){return u()(this,t),p()(this,e.apply(this,arguments))}h()(t,e),t.prototype.loadImage=function(){var e=this.params,t=this.setting,n=e.state||t.state;j.a.invoke("loadDetailImage",{type:n+"_image",index:e.index})},t.prototype.appendImgToHolder=function(){var e=this.params,t=e.holder,n=e.imgDOM;if(!e.isGIF&&e.imgDOM)n.src=e.url;else if(e.url){var r=document.createElement("img");r.onload=this.onLoad.bind(this),r.onerror=this.onError.bind(this),r.src=e.url,t&&t.appendChild(r),e.imgDOM=r}},t.prototype.stopAnimation=function(){var e=this.params.holder;e.classList.remove("animation"),e.removeEventListener("transitionend",yt.te),console.info("stopAnimation",e)},t.prototype.loadedImageSource=function(e){console.info("loadedImageSource",e);var t=this.params;"origin"===e.state&&"thumb"===t.state&&t.hasTap&&(console.info("有一个动画过程"),yt.useNativePlayGif&&(yt.willStart(),t.holder.addEventListener("transitionend",yt.te,!1))),"origin"===e.state&&"none"===t.state&&(t.removeAnimation=!0),yt.useNativePlayGif||t.holder.addEventListener("transitionend",this.stopAnimation.bind(this),!1),t.hasTap&&(t.hasTap=!1),this.params=lt(t,e),this.appendImgToHolder()},t.prototype.onLoad=function(e){console.info("onLoad Image",this);var t=e.target,n=this.params,r=this.setting,i=n.frameCallback,o=n.width,a=n.height,s=n.holder,c=t.naturalHeight,l=t.naturalWidth;(l||c)&&(o===l&&a===c||(n.width=l,n.height=c),"origin"!==r.state&&"origin"===n.state&&ut(),this.correctImgHolder(),yt.tellNativeImagesPosition(),"function"==typeof i&&(console.info("frameCallback",i),i(),n.frameCallback=null),n.removeAnimation&&(n.removeAnimation=!1,s.classList.remove("animation")),s.classList.contains("no-transition")&&setTimeout((function(){return s.classList.remove("no-transition")}),100),this.loaded=!0)},t.prototype.onError=function(e){var t=e.target,n=t.src,r=this.params.tHrefurl,i=0;if(n&&n.indexOf("file://")>-1&&r){var o=decodeURIComponent(r.substr(4));t.src=o.replace(/(\.webp|\.heic)/,""),i=1,/(\.webp|\.heic|\.awebp)/.test(o)&&(i=4)}else n&&n.indexOf("http")>-1&&(i=2);L.statistics.sendUmengEventV3("article_detail_local_image_fail",{error_type:i})}}(ft),function(e){function t(){return u()(this,t),p()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.buildGetImageSource=function(){var e=this.params,t=this.setting;return t.urlPrefix+"getimage/"+e.state+"/"+e.zsp+"/"+t.groupId+"/"+e.index},t.prototype.buildImageSource=function(){var e=this.params;return this.setting.urlPrefix+"image/"+e.state+"/"+e.zsp},t.prototype.getLoadUrl=function(e){var t,n,r,i=this.params;return window.receivedEmptyExtra||i.downloadFail?(t=i.href,n=/url=(\S+)&/,(r=t.match(n))?decodeURIComponent(r[0].replace(n,"$1")):t):e?this.buildImageSource():this.buildGetImageSource()},t.prototype.loadImage=function(e){var t=this.params,n=this.getLoadUrl(e);!n||t.lastUrl&&t.lastUrl===n?this.params.url=n:(console.info("URL_NOT_EQUAL",t.lastUrl,n),this.params.url=this.params.lastUrl=n),this.params.imgDOM.src=n,this.startGetImageTime||(this.startGetImageTime=(new Date).getTime())},t.prototype.onLoad=function(){console.info("[this.onLoad]",this);var e=this.params,t=e.imgDOM,n=e.holder,r=t.naturalWidth*t.naturalHeight,i=Math.abs(e.bigArea-r),o=Math.abs(e.smallArea-r);e.width=t.naturalWidth,e.height=t.naturalHeight,i>o?e.state="thumb":(e.state="origin",t.onload=null),"origin"!==this.setting.state&&"origin"===e.state&&ut(),this.correctImgHolder("natural"),t.classList.remove("opacity-zero"),n.classList.remove("animation"),e.downloadFail||this.imageLog(!0),n.classList.contains("no-transition")&&setTimeout((function(){return n.classList.remove("no-transition")}),100)},t.prototype.onError=function(e){var t=e.target;t.classList.add("opacity-zero"),/getimage/.test(t.src)||(this.params.downloadFail=!0,this.loadImage(!0),L.statistics.sendUmengEventV3("load_image_error",{source:"detail_web",uri:t.src,err_msg:"Image load error (Android)"}),this.imageLog(!1))},t.prototype.imageLog=function(e){var t=this.params.index,n=this.startGetImageTime?(new Date).getTime()-this.startGetImageTime:0;L.statistics.sendBytedanceRequest("imglog?index="+t+"&duration="+n+"&success="+e)},t}(ft)),Et=function(e){function t(){return u()(this,t),p()(this,e.apply(this,arguments))}return h()(t,e),t}(wt),bt=function(e){function t(){return u()(this,t),p()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.fragmentAppendCarTipDOM=function(e){if(!e)return null;var t=document.createElement("i");t.setAttribute("class","image-subscript gif-subscript"),t.innerText="GIF",e.appendChild(t)},t.prototype.loadedImageSource=function(e){console.info("loadedImageSource",e);var t=this.params,n=t.width,r=t.height;if(_t(e)){var i=t.holder;t.nativePlayGifLoaded=!0,t.width=n,t.height=r,this.params=lt(t,e),i.innerHTML="",this.correctImgHolder(),ut(),yt.tellNativeImagesPosition()}else!function(e){return"thumb"===e.state&&""!==e.url}(e)&&gt?(t.notTellNativePosition=e.width,t.frameCallback=e.height,this.params=lt(t,e),this.appendImgToHolder()):(this.params=lt(t,e),this.appendImgToHolder());t.updateBackPos&&_t(e)&&(!function(e){console.info("[updateCarouselBackPosition]");var t=e.holder.getBoundingClientRect();j.a.invoke("updateCarouselBackPosition",{index:e.index,left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)},(function(){}))}(t),t.updateBackPos=!1)},t}(wt),St=function(e){function t(){return u()(this,t),p()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.fragmentAppendCarTipDOM=function(){},t}(wt),xt=new(function(){function e(){u()(this,e),this.setting={},this.images=[],this.hrefArr={},this.onNativeImageLoaded=this.onNativeImageLoaded.bind(this)}return e.prototype.getSetting=function(e){var t=k(),n=ve("pageSettings")||{},r=ve("h5_settings")||{},i=ve("statistics")||{},o=ve("ttImageList");return{aW:t.width-30,iH:t.height,urlPrefix:n.url_prefix||"",state:n.image_type||"",isLazyLoad:n.use_lazyload||e.length>10,useNativePlayGif:r.is_use_native_play_gif,groupId:i.group_id,ttImageList:o}},e.prototype.initImages=function(e){var t=this.setting,n=this.hrefArr={};return yt.gifArr=[],e.map((function(e,r){var i=e.getAttribute("type")||"",o=+e.getAttribute("width")||0,a=+e.getAttribute("height")||0,s=+e.getAttribute("thumb_width")||0,c=+e.getAttribute("thumb_height")||0,l=e.getAttribute("zip_src_path")||"",u=e.getAttribute("href")||"",d=u.match(mt);d&&(d=d[0],n[d]?n[d].push(r):n[d]=[r]);var p={index:r,holder:e,url:"",state:t.state,lastUrl:"",zsp:l,href:u,tHrefurl:d||"",link:e.getAttribute("redirect-link")||"",isGIF:"gif"===i||"2"===i,isLONG:o>3*a||a>3*o,bigArea:o*a,smallArea:s*c,carTipData:null,stockTipData:null,stockTrendTipData:null,nativePlayGifLoaded:!1,notTellNativePosition:!1,frameCallback:null};if(e.classList.add("no-transition"),/origin|none/.test(p.state)||t.ttImageList&&t.ttImageList[r]&&t.ttImageList[r].large_cached?(p.width=o,p.height=a):(p.width=s,p.height=c),t.ttImageList)return e.innerHTML="",new ht(t,p);if(p.isGIF){var f=new bt(t,p);return yt.gifArr.push(f),f}return o>3*a||a>3*o?new St(t,p):new Et(t,p)}))},e.prototype.onNativeImageLoadedByIOS=function(e,t,n,r,i){console.info("onNativeImageLoaded",arguments);var o=this.images,a=this.hrefArr;if(o[e]){var s=o[e],c=s.params,l=c.tHrefurl,u={};if(u.url=t,u.state=n,u.width=r,u.height=i,_t(u)&&!s.params.isGIF){var d=decodeURIComponent(l.substr(4));u.url=d.replace(/\.awebp/,""),L.statistics.sendUmengEventV3("article_detail_recognized_gif_fail",{href:u.url,group_id:ve("statistics").group_id||""})}if(l&&a[l]&&a[l].length>1){var p=a[l],f=!1;for(var h in p){var m=p[h];console.info(h,p,m,"targetHrefArr"),o[m].loadedImageSource(u),e==m&&(f=!0)}f||s.loadedImageSource(u)}else s.loadedImageSource(u)}},e.prototype.onNativeImageLoadedByAndroid=function(e,t,n){console.info("[onNativeImageLoaded]",arguments);var r=this.images[e];if(r){if(!t)return r.params.downloadFail=!0,r.loadImage(!0),L.statistics.sendUmengEventV3("load_image_error",{source:"detail_web",uri:r.params.url,err_msg:"Image download error. (android, isOk="+t+", isLarge="+n+")"}),void r.imageLog(!1);r.params.state=n?"origin":"thumb",r.loadImage(!0)}},e.prototype.onNativeImageLoaded=function(){this.onNativeImageLoadedByAndroid.apply(this,arguments)},e.prototype.getImprId=function(e){var t="";if("[object String]"===Object.prototype.toString.call(e))try{t=JSON.parse(e).impr_id}catch(e){}else"[object Object]"===Object.prototype.toString.call(e)&&(t=e.impr_id||"");return t},e.prototype.skipToAutoScript=function(e){console.info("[skipToAutoScript]");var t=this.setting;L.statistics.sendUmengEvent("detail","pic_card_click",{value:+t.groupId}),L.statistics.sendUmengEventV3("web_clk_event",{obj_id:"page_detail_pic_tag",group_id:ve("statistics").group_id||"",smallapp_abtest:e.dataset.smallapp_abtest,sapp_sdk_enable:e.dataset.sapp_sdk_enable});var n=encodeURIComponent(a()({media_id:ve("author").mediaId||"",item_id:ve("statistics").item_id||"",category_name:ve("statistics").category_name||"",log_pb:ve("statistics").log_pb||"",present_start:Date.now(),group_id:ve("statistics").group_id||""})),r={is_motor:1,enter_from:"click_motor_series",parent_enterfrom:"click_motor_series",parent_imprid:this.getImprId(ve("statistics").log_pb),parent_gid:ve("statistics").group_id||""};L.statistics.sendUmengEventV3("click_nextgroup_detail",{obj_id:"detail_scard_n_consultation_gotoCar",item_id:ve("statistics").item_id||"",enter_from:ve("statistics").enter_from||"",category_name:ve("statistics").category_name||"",log_pb:ve("statistics").log_pb||"",bookshelf_type:"motor",group_id:ve("statistics").group_id||""});var i=e.dataset.href;/sslocal:\/\/webview/.test(i)?(i=i.replace("log_extra_placeholder%3D","log_extra%3D"+n),i+="&gd_ext_json="+encodeURIComponent(a()(r))):/sslocal:\/\/[acimopr]{8}/.test(i)&&(i=i.replace("log_extra_placeholder%3D","log_extra%3D"+n),i+="&extra="+encodeURIComponent(a()({event_extra:r}))),location.href=i},e.prototype.addShowAllOriginImgBtn=function(e){if(!(e.length<1)){var t=this.setting,n=t.state,r=e[0].params.holder;if("origin"!==n){var i=document.createElement("div");i.innerHTML='<div class="toggle-img" id="toggle-img">显示所有大图</div>',Ae("click",".toggle-img"),Ce("click",".toggle-img",(function(){t.ttImageList?e.forEach((function(e){e.params.state="origin",e.loadImage()})):(e.forEach((function(e){e.params.state="origin",e.loadImage()})),L.statistics.sendBytedanceRequest("toggle_image")),this.style.visibility="hidden"})),r.parentNode.insertBefore(i,r)}}},e.prototype.tapEventHandler=function(e){console.info("[tapEventHandler]",e);var t,n=this.setting,r=e.params||{},o=r.holder;if(r.stockTipData&&L.statistics.sendUmengEventV3("news_kline_chart_click",{group_id:n.groupId,code:r.stockTipData.stockId}),L.statistics.sendUmengEventV3("click_picture",{group_id:ve("statistics").group_id||"",enter_from:ve("statistics").enter_from||"",category_name:ve("statistics").category_name||""}),r.link.indexOf("sslocal")>-1)return location.href=r.link,!1;if(/^http(s)?:\/\//i.test(r.href))return location.href=r.href,!1;if(e.isNativeImage&&/thumb|none/.test(r.state)){if(e.isLoading)return;return e.params.state="origin",void e.loadImage()}if(function(e){return"origin"!==e.state&&!e.isGIF}(r))o.classList.add("animation"),r.hasTap=!0,e.params.state="origin",e.loadImage();else{var a=r.holder.getBoundingClientRect(),s={index:+r.index,left:a.left+window.pageXOffset,top:a.top+window.pageYOffset,width:Math.round(a.width),height:Math.round(a.height)},c=(t=s,i()(t).reduce((function(e,n){return e+"&"+n+"="+t[n]}),"").substr(1));location.href=r.href+"&"+c,"origin"!==r.state&&(e.params.state="origin",e.loadImage()),e.loaded||e._isLoading||(e.params.state="origin",e.loadImage())}},e.prototype.bindAllEvt=function(e){var t=this;Ae("click","a.image"),Ce("click","a.image",(function(n){var r=n.target,i=n.currentTarget,o=parseInt(i.getAttribute("index"),10),a=e[o];n.preventDefault();var s,c,l,u=ct(r,".stock-trend-img");if(u)return c=(s=u).dataset.href,l=s.dataset.stockCode,L.statistics.sendUmengEventV3("news_trend_banner_click",{code:l,group_id:ve("statistics").group_id}),void(c&&(window.location.href=c));var d=ct(r,".autoscript");d?t.skipToAutoScript(d):t.tapEventHandler(a)})),Ae("click","a.pgc-img-stock-caption"),Ce("click","a.pgc-img-stock-caption",(function(e){var t=e.currentTarget;L.statistics.sendUmengEventV3("news_kline_charact_click",{group_id:t.dataset.gid,code:t.dataset.stockId})}))},e.prototype.initImageProcess=function(){console.info("[IOSImage init]");var e=D(document,"a.image");if(!e.length)return null;this.setting=this.getSetting(e),this.images=this.initImages(e);var t=this.setting.ttImageList;t&&this.images.length&&L.statistics.sendUmengEventV3("article_detail_nc_image",{err_type:"insert_all",group_id:ve("statistics").group_id||"",image_num:+this.images.length}),G.imgArr=this.images,G.hrefArr=this.hrefArr,G.gifArr=yt.gifArr,yt.setUseNativePlayGif(this.setting.useNativePlayGif),G.gifArr.length<1&&yt.setUseNativePlayGif(!1),"none"===this.setting.state&&t?this.images.forEach((function(e,n){t[n]&&t[n].large_cached&&(e.params.state="origin",e.loadImage())})):this.setting.isLazyLoad?at():this.images.forEach((function(e){e.params.state="origin",e.loadImage()})),this.addShowAllOriginImgBtn(this.images),this.bindAllEvt(this.images)},e.prototype.fetchOneImage=function(e){for(var t=0,n=this.images.length;t<n;t++)this.images[t].index===e&&(this.images[t].params.state="origin",this.images[t].loadImage())},e.prototype.addCarTipDOM=function(e){var t=this.images;if(console.info("[addCarTipDOM]"),"object"===(void 0===e?"undefined":A()(e))&&Array.isArray(t)){var n=t.length;for(var r in e){var i=+r;i<n&&t[i]&&(t[i].params.carTipData=e[r],t[i].fragmentAppendCarTipDOM())}}},e.prototype.addStockTipDOM=function(e){console.info("[addStockTipDOM]",e);var t=this.images;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){console.info(e)}"object"===(void 0===e?"undefined":A()(e))&&Array.isArray(t)&&t.forEach((function(n,r){var i=ct(n.params.holder,".stock");if(i){var o=i.dataset.content;try{o=JSON.parse(o)}catch(e){o={}}if(o.stock_id)for(var a in e)a==o.stock_id&&(t[r].params.stockTipData=e[a]||{},t[r].params.stockTipData.stockId=a,t[r].fragmentAppendStockTipDOM())}}))},e.prototype.addStockTrendTipDOM=function(e){var t=this.images;if("object"===(void 0===e?"undefined":A()(e))&&Array.isArray(t))for(var n in e){var r=t[n],i=e[n];r&&!pt(i)&&(r.params.stockTrendTipData=i,r.fragmentAppendStockTrendTipDOM())}},e.prototype.resizeImage=function(e){var t=this.images;this.setting.aW=e;for(var n=0;n<t.length;n++)t[n].correctImgHolder()},e}());window.image_load_cb=xt.onNativeImageLoaded;n(235);var Nt=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={list:[],more:null,scrolling:!0},r.followSource={pgc_sug:34,pgc_sug_supplement:133,wenda_sug:71,wenda_sug_supplement:138},r.followFrom={pgc:"article_detail",wenda:"answer_detail_top_card"},r.baseWidth=150,r.cardsCount=0,r.totalNums=0,r.containerWidth=window.innerWidth,r.listWidth=0,r.imprcache={},r.imprlog=[],r.lastIndex=[],r.lastPos="in",r.lastMoreCellPos="out",r.source="pgc"===n.article.type?"article":"wenda",r.sendResult={imp_group_list_type:19,imp_group_key_name:"u11_recommend_user_"+r.source+"_detail_"+n.author.userId,imp_group_key:n.author.userId,imp_group_extra:{source:r.source,profile_user_id:n.author.userId},impressions_in:[],impressions_out:[]},r._pagescroll=r._pagescroll.bind(r),r}return h()(t,e),t.prototype.on=function(e,t,n){e&&e.addEventListener?e.addEventListener(t,n,!1):e&&e.attachEvent&&e.attachEvent("on"+t,(function(t){n.call(e,t||window.event)}))},t.prototype.off=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},t.prototype._updateList=function(e,t){var n=this.state.list;if(t)this._dealimpr([parseInt(e)],[]),n[e]=t,this.setState({list:n}),this._dealimpr([],[parseInt(e)]);else{this._dealimpr([parseInt(e)],[]),this.lastIndex.indexOf(e)>-1&&this.lastIndex.splice(this.lastIndex.length-1,1),n.splice(parseInt(e),1);var r=this.state.list.length,i=150*r+10+15+150;e==r&&i-150>window.innerWidth?$("#mediasug-list-html").css({textAlign:"right",width:i}):$("#mediasug-list-html").css({textAlign:"left",width:i}),this.setState({list:n}),this._handler()}},t.prototype._range=function(e){var t=Math.floor(e/this.baseWidth);t=Math.max(t,0),e+=this.containerWidth;var n=Math.ceil(e/this.baseWidth);n=Math.min(n,this.state.list.length)-1;for(var r=[];t<=n;)r[r.length]=t++;return r},t.prototype._pushimpr=function(e){this.sendResult.impressions_in=[];var t=this.props.profileId;if(i()(this.imprcache).length>0){for(var n in this.sendResult.impressions_out=[],this.imprcache){var r=this.imprcache[n];this.imprlog.push({uid:n,time:r,duration:(new Date).getTime()-r}),console.info("leave",n),this.sendResult.impressions_out.push({imp_item_type:51,imp_item_id:n,imp_item_extra:{}})}this.imprcache={},e&&j.a.invoke("impression",this.sendResult)}console.info("pushimpr",this.imprlog),this.imprlog.length>0&&(L.statistics.sendUmengEvent("detail","sub_reco_impression_v2",{value:t,extra:{group_id:this.props.groupId,impression:L.client.isIOS?encodeURIComponent(a()(this.imprlog)):this.imprlog,need_decode:L.client.isIOS?1:0,source:this.source}}),this.imprlog=[])},t.prototype._dealimpr=function(e,t){var n=this,r=[],i=this.state.list;if(e.forEach((function(e){var t=i[e].user_id;if(t in n.imprcache){var o=n.imprcache[t];n.imprlog.push({uid:t,time:o,duration:(new Date).getTime()-o}),delete n.imprcache[t],n.sendResult.impressions_in=n.sendResult.impressions_in.filter((function(e){return e.imp_item_id!==t})),r.push({imp_item_type:51,imp_item_id:t,imp_item_extra:{}}),console.info("leave",t)}})),t.forEach((function(e){var t=i[e].user_id;n.imprcache[t]=(new Date).getTime(),n.sendResult.impressions_in.push({imp_item_type:51,imp_item_id:t,imp_item_extra:{}}),console.info("enter",t)})),e.length>0||t.length>0){n.sendResult.impressions_out=r;var o={};ne()(o,n.sendResult),j.a.invoke("impression",o)}},t.prototype._moreCellShowHandler=function(e,t){if(t>this.listWidth-this.containerWidth-this.baseWidth||!t){var n=this.props,r=n.statistic,i=n.wendaExtra;(t&&"out"===this.lastMoreCellPos||e&&e.reopen&&"in"===this.lastMoreCellPos)&&(L.statistics.sendUmengEventV3("followcard_more_button",{action_type:"show",category_name:"article"==this.source?r.category_name:i&&i.gd_ext_json?i.gd_ext_json.category_name:"",source:"detail_follow_card",server_extra:this.state.more.server_extra}),this.lastMoreCellPos="in")}else this.lastMoreCellPos="out"},t.prototype._handler=function(e){for(var t=this._range(this.listDom.scrollLeft||0),n=[],r={},o=0;o<this.lastIndex.length;o++)r[this.lastIndex[o]]=!0;for(o=0;o<t.length;o++)t[o]in r?delete r[t[o]]:n.push(t[o]);var a=i()(r);this._dealimpr.bind(this)(a,n),this.lastIndex=t,this.state.more&&this._moreCellShowHandler({reopen:!1},this.listDom.scrollLeft)},t.prototype._pagescroll=function(e){var t="in",n=this.listDom.getBoundingClientRect();(n.bottom<=0||n.top>(window.innerHeight||document.body.clientHeight))&&(t="out"),"in"===t&&"out"===this.lastPos?this._dealimpr([],this.lastIndex):"out"===t&&"in"===this.lastPos&&this._pushimpr(!0),this.lastPos=t},t.prototype._webviewScroll=function(e){if("open"===this.props.sugstate&&e.rect&&!(document.querySelector("body").clientHeight>innerHeight+232)){var t,n,r=document.querySelector("body").clientHeight,i=document.querySelector("header").clientHeight,o=void 0;if((n=e.rect.substring(1,e.rect.length-1).split(","))[0],t=Math.abs(n[1]),n[2],n[3],r===innerHeight)o=t>=i?"out":"in";else o=t>=i-(r-innerHeight)?"out":"in";"out"===this.lastPos&&"in"===o?this._dealimpr([],this.lastIndex):"in"===this.lastPos&&"out"===o&&this._pushimpr(!0),this.lastPos=o}},t.prototype.enableSwipeState=function(e){console.log("bytedance://enable_swipe")},t.prototype.disableSwipeState=function(){console.log("bytedance://disable_swipe")},t.prototype.handleSupplement=function(e,t){var n=this;et((function(r){var i={count:1,source:"wenda"===n.props.article.type?"wenda_detail_refresh":"article_detail_refresh",follow_user_id:e.user_id};i=Object(L.extend)(!0,i,r),Ke("https://api.snssdk.com/user/relation/user_recommend/v1/supplement_cards/",{param:i},(function(r,i){if("success"===i.message&&"object"===A()(i.data)&&Array.isArray(i.data.user_cards)){var o=i.data.user_cards[0],a=o.user.info;if((a=Object(L.extend)(!0,a,o.user.relation)).reason_description=o.recommend_reason,a.profile_user_id=o.profile_user_id,a.server_extra=o.stats_place_holder,a.user_verified=!0,a.user_auth_info&&"string"==typeof a.user_auth_info)try{a.user_auth_info=JSON.parse(a.user_auth_info)}catch(e){a.user_auth_info={}}if(a.user_decoration&&"string"==typeof a.user_decoration)try{a.user_decoration=JSON.parse(a.user_decoration)}catch(e){a.user_decoration={}}a.is_supplement=!0,n._updateList(t,a),L.statistics.sendUmengEventV3("follow_card",{action_type:"show",category_name:n.props.statistic.category_name,is_direct:0,source:"detail_follow_card_related",to_user_id:e.user_id,order:t,style_type:2,server_extra:o.stats_place_holder})}}),(function(e){}))}))},t.prototype.followActionHandler=function(e,t){var n=this,r=n.state.list;r.forEach((function(e){t.user_id===e.user_id&&(e.followDisabled=1)})),n.setState({list:r});var i=this.props,o=i.article,a=i.statistic,s=i.author,c=t.is_following,l=t.is_supplement,u={id:t.user_id,action:c?"unfollow":"dofollow",source:this.followSource[o.type+"sug"],from:this.followFrom[o.type]},d={source:l?"detail_follow_card_related":"detail_follow_card",to_user_id:t.user_id,order:e,profile_user_id:t.profile_user_id,follow_type:"from_recommend",category_name:a.category_name,server_source:this.followSource[o.type+"_sug"+(l?"_supplement":"")],server_extra:t.server_extra,enter_from:a.enter_from};"pgc"==o.type&&s.mediaId&&(d.media_id=s.mediaId),document.querySelector("native-video")&&d.source,j.a.invoke("user_follow_action",u,(function(e){if(1==e.code){var r=n.state.list;r.forEach((function(e){t.user_id===e.user_id&&(e.is_following=c?0:1,e.followDisabled=0)})),n.setState({list:r})}}));var p=n.state.list;p[e].need_supplement=!0,n.setState({list:p}),L.statistics.sendUmengEventV3(c?"rt_unfollow":"rt_follow",d)},t.prototype.deleteItem=function(e){this._updateList(e)},t.prototype.domPrepare=function(){var e=this,t=document.querySelector(".mediasug-outer-container"),n=document.querySelector(".mediasug-inner-container");t&&n&&t.addEventListener("transitionend",(function(t){yt.ended(),e.setState({scrolling:"open"===e.props.sugState}),e._handler()}),!1)},t.prototype.componentDidMount=function(){var e=this;e.on(document.querySelector("#mediasug-list"),"touchstart",e.disableSwipeState),e.on(document.querySelector("#mediasug-list"),"touchmove",e.disableSwipeState),e.on(document.querySelector("#mediasug-list"),"touchend",e.enableSwipeState),e.on(document.querySelector("#mediasug-list"),"touchcancel",e.enableSwipeState),e.on(document.querySelector("#mediasug-list"),"scroll",Object(L.throttle)(e._handler.bind(e),150)),qe.on("pageStateChange",(function(t){if("user_action"===t.type){var n=e.state.list;n.forEach((function(n,r){n.user_id==t.id&&(n.is_following=!!t.status,n.followDisabled=0,n.is_following&&n.need_supplement&&(n.need_supplement=!1,n.from_supplement=!1,e.handleSupplement(n,r)))})),e.setState({list:n})}}))},t.prototype.componentWillUnmount=function(){this.off(document,"scroll",this._pagescroll),this._pushimpr(!0),qe.off("pageStateChange"),this.off(document.querySelector("#mediasug-list"),"scroll",Object(L.throttle)(this._handler.bind(this),150))},t.prototype.componentDidUpdate=function(e){this.listWidth=this.baseWidth*this.state.list.length+25;var t=this.props.sugState;"open"===t&&"open"!==e.sugState?(this.lastIndex=[],this._handler(),this.on(document,"scroll",this._pagescroll),j.a.on("webviewScrollEvent",this._webviewScroll.bind(this))):"no"!==t&&"close"!==t||(console.info("SUG-HIDE"),this.off(document,"scroll",this._pagescroll),this._pushimpr(!0))},t.prototype.componentWillReceiveProps=function(e){if(e.init&&!this.props.init&&0===this.state.list.length){var t=this;et((function(e){var n=Object(L.extend)(!0,{to_user_id:t.props.author.userId,page:34,source:"wenda"===t.props.article.type?"wenda_detail":"article_detail",group_id:t.props.statistic.group_id},e);Ke("http://ic.snssdk.com/api/2/relation/follow_recommends/",{param:n,timeout:1e4},(function(e,n){"success"===n.message&&"object"===A()(n.data)&&Array.isArray(n.data.recommend_users)&&n.data.recommend_users.length>=3&&(n.data.add_more.server_extra=n.data.recommend_users[0].stats_place_holder,n.data.recommend_users.forEach((function(e){if(e.user_auth_info&&"string"==typeof e.user_auth_info)try{e.user_auth_info=JSON.parse(e.user_auth_info)}catch(t){e.user_auth_info={}}if(e.user_decoration&&"string"==typeof e.user_decoration)try{e.user_decoration=JSON.parse(e.user_decoration)}catch(t){e.user_decoration={}}e.profile_user_id=t.props.author.userId,e.server_extra=e.stats_place_holder})),t.domPrepare(),t.setState({list:n.data.recommend_users,more:n.data.add_more}),t.props.updateSugstate("ready"))}),(function(e){console.warn("mediasug",e)}))}))}},t.prototype.render=function(){var e=this,t=this.state,n=t.list,r=t.more,i=150*n.length+10+15+(r?150:0),o=n.length>0||r?"ms-open":"",a="open"!==this.props.sugState&&"close"!==this.props.sugState;return v.a.createElement("div",{className:"mediasug-outer-container "+this.props.sugState+" "+o},v.a.createElement("div",{className:"mediasug-inner-container"},v.a.createElement("div",{className:"ms-pointer"}),v.a.createElement("div",{className:"ms-title","aria-hidden":a},"相关推荐"),v.a.createElement("div",{className:"ms-list"+(this.state.scrolling?"":" no-scrolling"),id:"mediasug-list",ref:function(t){e.listDom=t},onTouchStart:this.disableSwipeState,onTouchMove:this.disableSwipeState,onTouchEnd:this.enableSwipeState,onTouchCancel:this.enableSwipeState,onScroll:Object(L.throttle)(this._handler.bind(this),150)},v.a.createElement("div",{className:"ms-list-scroller",id:"mediasug-list-html",style:{width:i}},n.map((function(t,n){return v.a.createElement(tt,{item:t,key:n,index:n,followAction:e.followActionHandler.bind(e,n),articleType:e.props.articleType,profileId:e.props.profileId,useServerV:e.props.useServerV,setting:e.props.setting,statistic:e.props.statistic,deleteItem:e.deleteItem.bind(e)})})),r?v.a.createElement(nt,c()({},r,{statistic:this.props.statistic})):null))))},t}(v.a.Component),Ot=(n(236),function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={followState:n.author.followState,mediasugInit:!1,sugstate:"no",followDisabled:!1},r.mediasugState=null,r.executing_target_state=null,r.follow_async_timer=null,r.followSource={pgc:30,pgc_sug:34,pgc_sug_supplement:133,wenda:28,wenda_sug:71,wenda_sug_supplement:138},r.followSyncFunc=r.followSyncFunc.bind(r),r.shouldShowMediasug=!document.querySelector(".custom-video")||ve("videoNativeEnable"),r}return h()(t,e),t.prototype.followSyncFunc=function(e){console.info("followSyncFunc",e),this.executing_target_state=void 0;var t=this;"following"==e?"ready"==this.state.sugstate?yt.willStart((function(){t.setState({followState:e,sugstate:"open",followDisabled:!1})})):this.setState({followState:e,followDisabled:!1}):"open"==this.state.sugstate?yt.willStart((function(){t.setState({followState:e,sugstate:"no",followDisabled:!1})})):this.setState({followState:e,sugstate:"no",followDisabled:!1})},t.prototype.updateFollowState=function(e,t){this.setState({updateFollowStateFromUserAction:!0}),e!=this.executing_target_state&&(clearTimeout(this.follow_async_timer),this.executing_target_state=e,this.async_timer=setTimeout(this.followSyncFunc,450,e)),console.info("updateFollowState",e,t)},t.prototype.initMediasugState=function(){this.props.hasExtraSpace&&this.shouldShowMediasug&&"ready"==this.mediasugState?this.setState({mediasugInit:!0,sugstate:"ready"}):this.props.hasExtraSpace&&this.shouldShowMediasug&&this.setState({mediasugInit:!0})},t.prototype.updateSugstate=function(e){var t=this;"ready"==e?(this.mediasugState="ready","following"===t.state.followState?yt.willStart((function(){t.setState({sugstate:"open"})})):t.setState({sugstate:e})):"close"!==t.state.sugstate&&"open"!==t.state.sugstate||yt.willStart((function(){t.setState({sugstate:"close"===t.state.sugstate?"open":"close"})}))},t.prototype.updateButtonDisabledState=function(e){this.setState({followDisabled:e,updateFollowStateFromUserAction:!0})},t.getDerivedStateFromProps=function(e,t){if(e.wendaContext&&(void 0!==e.wendaContext.is_following||null!=e.wendaContext.is_concern_user)&&!t.followStateFromWendaContext){var n=void 0;return null!=e.wendaContext.is_concern_user&&(n=e.wendaContext.is_concern_user?"following":""),null!=e.wendaContext.is_following&&(n=e.wendaContext.is_following?"following":""),{followState:n,followStateFromWendaContext:!0}}return t.updateFollowStateFromUserAction||t.followStateFromWendaContext?{followState:t.followState}:{followState:e.author.followState}},t.prototype.render=function(){var e=this.props,t=e.author,n=e.useServerV,r=e.article,i=e.setting,o=e.statistic,a=e.hasExtraSpace,s=e.wendaContext,l=a&&this.shouldShowMediasug,u="wenda"===e.article.type;return"zhuanma"===e.article.type?t.show?v.a.createElement("div",{className:"zhuanma-wrapper"},v.a.createElement("span",{className:"zm-time"},e.article.publishTime),v.a.createElement("span",{className:"zm-author"},e.author.name)):null:(console.info("author",e),v.a.createElement(g.Fragment,null,v.a.createElement("div",{className:u?"authorbar wenda":"authorbar",id:"profile",sugstate:this.state.sugstate},v.a.createElement(Ue,{authorInfo:t,useServerV:n,articleType:r.type,setting:i,statistic:o}),t.isAuthorSelf||"wenda"===e.article.type&&e.setting.is_liteapp||e.hideFollowButton?"":v.a.createElement(We,c()({},e,{followState:this.state.followState,sugState:this.state.sugstate,followDisabled:this.state.followDisabled,updateFollowState:this.updateFollowState.bind(this),updateSugstate:this.updateSugstate.bind(this),updateFollowDisabledState:this.updateButtonDisabledState.bind(this),initMediasugState:this.initMediasugState.bind(this),followButtonStyle:e.wendaExtra?e.wendaExtra.headerFollowButtonStyle:""})),s&&s.is_author&&"wenda"===r.type?v.a.createElement(Ge,e):"",v.a.createElement(ze,{authorInfo:t,article:r,setting:i})),l?v.a.createElement(Nt,c()({},e,{followState:this.state.followState,init:this.state.mediasugInit,sugState:this.state.sugstate,updateSugstate:this.updateSugstate.bind(this)})):null,"wenda"===e.article.type&&e.article.showArticleTopTag?v.a.createElement(Me,{link:r.tagServerLink,type:r.tagType,tagSetting:i.article_tag_type,position:"after-author",statistic:o,articleType:r.type}):null))},t}(v.a.Component)),Tt=function(e){function t(n){return u()(this,t),p()(this,e.call(this,n))}return h()(t,e),t.prototype.tellNativeHeaderMess=function(){[{domSelector:"#profile",JsBridge:"showTitleBarPgcLayout"}].forEach((function(e,t){Z.add("header",e)}))},t.prototype.componentDidMount=function(){var e=this.props.data;if(e&&e.article&&"wenda"===e.article.type){var t=0,n=Object(y.findDOMNode)(this._author);n&&(t=n.getBoundingClientRect().height+20+0),j.a.invoke("onGetHeaderAndProfilePosition",{header_position:0,profile_position:t})}L.client.isAndroid&&this.tellNativeHeaderMess()},t.prototype.render=function(){var e=this,t=this.props.data;return t&&t.article&&t.article.type?v.a.createElement("div",{id:"header"},v.a.createElement(je,c()({},t,{ref:function(t){e._title=t}})),v.a.createElement(Ot,c()({},t,{ref:function(t){e._author=t}}))):null},t}(v.a.Component),Ct=(n(237),function(e){var t=e.parentNode,n=document.createElement("div");return t.insertBefore(n,e),n.appendChild(e),n}),At=function(){var e=document.querySelectorAll("table");(e=Array.prototype.slice.call(e)).forEach((function(e){e.classList.add("border"),Ct(e).className="table-wrap horizontal_scroll_android"}))},It=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.videoData=r.getVideoData(),r.state={playStates:r.videoData.map((function(){return 0}))},r}return h()(t,e),t.prototype.componentDidMount=function(){var e=this;qe.on("pageDisappear",this.onPageDisappear),this.videoData.map((function(t,n){var r=t.videoDom.querySelector("native-video");r.addEventListener("play",(function(t){var r=e.state.playStates;r[n]=1,e.setState({playStates:[].concat(r)})})),r.addEventListener("ended",(function(t){var r=e.state.playStates;r[n]=0,e.setState({playStates:[].concat(r)})}))}))},t.prototype.componentWillUnmount=function(){qe.off("pageDisappear",this.onPageDisappear)},t.prototype.adjustmentSizeByPoster=function(e,t,n){var r=document.createElement("img");r.onload=function(){var e=r.naturalWidth,i=r.naturalHeight,o=i/e;n&&i>e?o=1.36:o&&o>.75&&(o=.75),t.style.height=parseInt(t.clientWidth*o,10)+"px"},r.src=e},t.prototype.onPageDisappear=function(){D(document,"native-video").forEach((function(e){return e.pause()}))},t.prototype.getVideoData=function(){var e=this,t=D(document,".custom-video"),n=ve("wenda_extra");function r(e){var t=n.gd_ext_json||{},r={value:n.ansid,extra:c()({position:"detail",video_id:e.vid,enter_from:n.enter_from||"",value:n.ansid,ansid:n.ansid,qid:n.qid,parent_enterfrom:n.parent_enterfrom||""},t)};return delete r.extra.log_pb,r.extra=ce({},r.extra,t.log_pb),r}return t.map((function(t,i){var o=t.dataset||{},a=parseInt(o.width,10),s=parseInt(o.height,10),c={videoDom:t,vid:o.vid,poster:o.poster};a&&s&&s>a&&(c.vertical=1);var l=a&&s?s/a:0;if(n&&s>a?l=1.36:l&&l>.75&&(l=.75),function(e,t,n){e.style.height=parseInt(e.clientWidth*t,10)+"px",e.id="video"+n}(t,l,i),o.wendaSource&&n){c.duration=L.fmt.formatDuration(o.duration);var u=n.gd_ext_json||{};Z.add("show",{domSelector:"#video"+i,tag:"video_show",label:"click_"+u.category_name,params:r(o),isTotallyShown:!0})}return a&&s||e.adjustmentSizeByPoster(o.poster,t,!!n),c}))},t.prototype.render=function(){var e=this;return this.videoData.length?this.videoData.map((function(t,n){var r=e.state.playStates,i=t.vid,o=t.vertical,a=t.poster,s=t.dataExtra,c=t.videoDom,l=t.duration,u=o?"cover":"";return v.a.createElement(g.Fragment,{key:"video"+n},Object(y.createPortal)(v.a.createElement(v.a.Fragment,null,v.a.createElement("native-video",{controls:!0,vid:i,"object-fit":u,vertical:o,poster:a,"data-extra":s}),l&&!r[n]?v.a.createElement("i",{className:"custom-video-duration"},l):null),c))})):null},t}(g.Component),kt=(n(238),function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={showImage:!0},r.imgError=r.imgError.bind(r),r}return h()(t,e),t.prototype.imgError=function(){this.setState({showImage:!1})},t.prototype.render=function(){var e=this.props.data||{},t=e.duration,n=e.dataset,r=e.index;return v.a.createElement(g.Fragment,null,this.state.showImage?v.a.createElement("img",{"data-index":r,onLoad:e.imgLoad,onError:this.imgError,style:e.style,src:n.poster,alt:""}):null,v.a.createElement("i",{className:"custom-video-trigger"}),t?v.a.createElement("i",{className:"custom-video-duration"},t):null)},t}(g.Component)),Dt=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={videoPropsArr:[]},r.setCompVal(),r.enterLink=r.enterLink.bind(r),r.imgLoad=r.imgLoad.bind(r),r.playCallback=r.playCallback.bind(r),r.playVideo=r.playVideo.bind(r),r.renderHtml=r.renderHtml.bind(r),r}return h()(t,e),t.prototype.setCompVal=function(){var e=this,t=D(document,".custom-video");if(this.videoPropsArr=[],!(t.length<1)){this._wd=ve("wenda_extra"),this.statisticsData=ve("statistics",{});var n=this._wd;this.videoPropsArr=t.map((function(t,n){var i={},o=t.dataset||{},a=parseInt(o.width),s=parseInt(o.height),c=a&&s?s/a:0,l=.75;return i.videoWrap=t,i.dataset=o,a&&s&&(e._wd&&s>a&&L.client.isNewsArticleVersionNoLessThan("7.4.0")?l=1.36:c<=.75?l=c:i.style={height:"100%",width:"auto"}),function(e,t,n){var r=e.clientWidth;e.style.height=parseInt(r*t)+"px",e.id="video"+n}(t,l,n),i=r(i,o,n)}))}function r(e,t,r){if(t.wendaSource&&"object"===(void 0===n?"undefined":A()(n))){e.duration=L.fmt.formatDuration(t.duration);var i=n&&n.gd_ext_json||{},o=function(e){var t=(n=n||{}).gd_ext_json||{},r={value:n.ansid,extra:c()({position:"detail",video_id:e.vid,enter_from:n.enter_from||"",value:n.ansid,ansid:n.ansid,qid:n.qid,parent_enterfrom:n.parent_enterfrom||""},t)};return delete r.extra.log_pb,r.extra=ce({},r.extra,t.log_pb),r}(t);Z.add("show",{domSelector:"#video"+r,tag:"video_show",label:"click_"+i.category_name,params:o,isTotallyShown:!0})}return e}},t.prototype.componentDidMount=function(){Ce("click",".custom-video",this.playVideo)},t.prototype.componentWillUnmount=function(){window.appCloseVideoNoticeWeb()},t.prototype.playVideo=function(e){var t=e.currentTarget;if(!t)return null;var n=t.getBoundingClientRect()||{},r=void 0,i=t.dataset||{},o=i.vid,a=this.playCallback;r=[n.left,t.offsetTop,640,435];var s={sp:i.sp,vid:o,frame:r,status:0},c=i.videoSize;if(c)try{var l=JSON.parse(c);l&&l.normal&&l.normal.h&&l.normal.w&&(r[2]=l.normal.w,r[3]=l.normal.h,s.frame=r)}catch(e){}"object"===A()(this._wd)&&(s.scaling_fill=1,i.height&&i.width&&parseInt(i.height)>parseInt(i.width)&&(s.play_vertical=1,L.client.isAndroid&&L.client.isNewsArticleVersionNoLessThan("7.4.0")&&(s.frame[2]==s.frame[2]||n.width,s.frame[3]==s.frame[3]||n.width))),j.a.invoke("playNativeVideo",s,a)},t.prototype.playCallback=function(e){var t=this;this.videoPropsArr.forEach((function(n){var r=n.videoWrap,i=t._wd;if(r.style.display="block",n._nes&&(n._nes.style.display="block"),1===e.code&&1!=e.disable_position_change){var o=document.querySelector('[data-vid="'+e.vid+'"]');if(o){var a=o.nextElementSibling;if(a){var s=a.firstChild;s&&R(s,".cv-wd-info-wrapper",!0)&&(a.style.display="none",n._nes=a)}o.style.display="none",i&&i.wd_version&&(e.height+=15),i&&1==i.use_native_header||(document.body.style.marginTop=e.height+"px")}}}))},t.prototype.enterLink=function(e){j.a.invoke("pauseVideo");var t=void 0,n=void 0;try{n=(t=e.currentTarget.parentNode.previousSibling).dataset}catch(e){console.error(e)}if(t&&void 0!==n.vid){var r=this._wd||{};L.statistics.sendUmengEvent("answer_detail","click_video_detail",{value:r.ansid,extra:{video_id:t.dataset.vid,enter_from:r.enter_from||"",ansid:r.ansid,qid:r.qid,parent_enterfrom:r.parent_enterfrom||""}})}},t.prototype.imgLoad=function(e){var t=e.target,n=t.parentNode,r=n.dataset;n.style.background="black";var i=0,o=n.clientWidth,s=n.clientHeight,c=s/o,l=t.naturalWidth,u=t.naturalHeight;this._wd&&s>o&&L.client.isNewsArticleVersionNoLessThan("7.4.0")?t.setAttribute("style","object-fit: cover;"):l&&u&&((i=u/l)<c?t.setAttribute("style","width: 100%; height: auto;"):i>c&&t.setAttribute("style","height: 100%; width: auto"),r.width||r.height||n.setAttribute("data-video-size",a()({normal:{h:u,w:l}})))},t.prototype.renderHtml=function(){var e=this,t=this.videoPropsArr;return t.length<1?null:t.map((function(t,n){var r={imgLoad:e.imgLoad,enterLink:e.enterLink,dataset:t.dataset,duration:t.duration,style:t.style,index:n},i=t.videoWrap;return v.a.createElement(g.Fragment,{key:"video"+n},Object(y.createPortal)(v.a.createElement(kt,{data:r}),i))}))},t.prototype.render=function(){return this.renderHtml()},t}(g.Component);var Pt=function(){return ve("videoNativeEnable")?v.a.createElement(It,null):v.a.createElement(Dt,null)},Rt=(n(239),function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.wrapDOM=null,r.readMore=r.readMore.bind(r),r.setCompVal(),r}return h()(t,e),t.prototype.setCompVal=function(){var e=document.querySelector("article");e&&(this.wrapDOM=document.createElement("p"),e.appendChild(this.wrapDOM))},t.prototype.readMore=function(){var e=this.props.data.statisticsData,t=+ve("author").mediaId;L.statistics.sendUmengEvent("detail","click_landingpage",{value:t,extra:{item_id:+e.item_id}}),L.statistics.sendUmengEventV3("detail_click_landingpage",{enter_from:"click_landingpage",media_id:t,item_id:+e.item_id})},t.prototype.render=function(){var e=this.props.data.context,t=void 0;return t=e.native_know_more_url?e.native_know_more_url:/^sslocal/.test(e.know_more_url)?e.know_more_url:"sslocal://webview?url="+encodeURIComponent(e.know_more_url),this.wrapDOM?Object(y.createPortal)(v.a.createElement("a",{id:"know-more-url",onClick:this.readMore,href:t},"了解更多",v.a.createElement("i",{className:"icon-link"})),this.wrapDOM):null},t}(g.Component));var Lt=function(){var e=/[\u2e80-\u2eff\u3000-\u303f\u3200-\u9fff\uf900-\ufaff\ufe30-\ufe4f]/,t=/[a-z0-9_:\-\/.%]{26,}/gi,n=document.querySelectorAll("article p");(n=Array.prototype.slice.call(n)).forEach((function(n,r){var i=D(n,".image");n.classList.contains("pgc-img-caption")||!n.textContent||i.length>0||(e.test(n.textContent)?t.test(n.textContent)&&function(e,t){try{for(var n,r=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,(function(e){return e.textContent.match(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}));n=r.nextNode();){var i=n.parentElement,o=document.createElement("br");o.className="sysbr",i&&i.insertBefore(o,n)}}catch(e){console.error(e)}}(n,t):n.style.textAlign="left")}))},Mt=(n(240),null),jt=function(e){e.addEventListener("touchstart",(function(t){e.scrollLeft>0&&console.log("bytedance://disable_swipe")})),e.addEventListener("touchend",(function(e){console.log("bytedance://enable_swipe")})),e.addEventListener("touchcancel",(function(e){console.log("bytedance://enable_swipe")}))},Ut=function(e){var t=document.querySelectorAll("article pre");(t=Array.prototype.slice.call(t)).forEach((function(t){e&&e(t)}))},Ft=function(e){Ut((function(t){var n=t.firstChild&&t.firstChild.tagName;n&&"code"===n.toLocaleLowerCase()&&(e||(t.classList.add("article-code"),jt(t)),window.hljs&&window.hljs.highlightBlock(t))}))},Ht=function(){try{var e=!window.hljs;e?(Ut((function(e){var t=e.firstChild&&e.firstChild.tagName;t&&"code"===t.toLocaleLowerCase()&&(e.classList.add("article-code"),jt(e))})),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=arguments[2],r=arguments[3];Mt||((Mt=document.createElement("script")).setAttribute("id",t),Mt.onerror=function(t){console.info("load "+e+" error"),r&&r(t)},Mt.onload=function(t){console.info("load "+e+" success"),n&&n(t)},Mt.src=e,document.head.appendChild(Mt))}("https://sf1-ttcdn-tos.pstatp.com/obj/ttfe/ttf/article/highlight.min.js","code-hl-script",(function(){Ft(e)}),(function(){Ft(e),L.statistics.sendUmengEventV3("article_web_init_error",{version:"1631",type:"code-highlight",error:"load-failed"})}))):Ft(e)}catch(e){console.error("code highlight error: ",e)}},Bt=function(e){var t=document.querySelectorAll("a.pgc-commodity-link");(t=Array.prototype.slice.call(t)).forEach((function(t,n){var r=t.dataset.productid,i=t.dataset.price,o=t.href,a="other";o.indexOf("taobao.com")>=0||o.indexOf("tmall.com")>=0||o.indexOf("tmall.hk")>=0?a="taobao":o.indexOf("jd.com")>=0||o.indexOf("jd.hk")>=0||o.indexOf("360buy.com")>=0||o.indexOf("jd360.hk")>=0?a="jingdong":(o.indexOf("haohuo.snssdk.com")>-1||o.indexOf("haohuo.jinritemai.com")>-1)&&(a="fangxingou");var s={enter_from:e.enter_from,group_id:e.group_id,item_id:e.item_id,category_name:e.category_name,bookshelf_type:a,log_pb:e.log_pb,product_id:r,price:i};L.statistics.sendUmengWhenTargetShown(t,"show_nextgroup_detail","",s,1,{version:3})}))},Vt=function(e){if(!e.is_liteapp){var t=ve("statistics")||{};D(document,".tteditor-mention").forEach((function(e){var t=e.dataset.uid;if(t){var n="sslocal://profile?uid="+t;e.setAttribute("href",n)}})),Ce("click",".tteditor-mention",(function(e){var n=e.target.dataset.uid;n&&L.statistics.sendUmengEventV3("click_article_at",{user_id:n,group_id:t.group_id})}));var n=document.querySelectorAll(".tteditor-forum");(n=Array.prototype.slice.call(n)).forEach((function(e){var t=e.dataset.concernId;if(t){var n="sslocal://concern?cid="+t;e.setAttribute("href",n)}})),Ce("click",".tteditor-forum",(function(e){var n=e.currentTarget.innerText.replace(/#/g,"");L.statistics.sendUmengEventV3("click_article_hashtag",{hashtag_name:n,gid:t.group_id})})),Ce("click","a.out-link",(function(e){e.preventDefault();var t=e.currentTarget;location.href="sslocal://webview?nightbackground_disable=1&url="+encodeURIComponent(t.getAttribute("href"))+"&title="+encodeURIComponent(t.innerText)})),Ce("click","a.link-at",(function(e){e.preventDefault();var t=e.currentTarget.dataset.uid;t&&(location.href="sslocal://profile?uid="+t+"&source=wenda_detail&refer=wenda")})),Ce("click",".toutiaopage",(function(){L.statistics.sendUmengEventV3("article_toutiaopage_click",{gid:t.group_id})})),D(document,"a[starhref]").forEach((function(n){var r=n.getAttribute("starhref"),i=n.dataset.uid;if(r){var o=n.dataset.authType;if(o){var a=Object(L.buildServerVIcon)(o,"avatar_icon",e.user_verify_info_conf);if(a){var s=document.createElement("div");s.className="star-v-icon-wrap",s.innerHTML=a,n.appendChild(s)}}r=r+"&from_page=star_words&group_id="+t.group_id+"&category_name="+t.category_name,n.setAttribute("href",r),L.statistics.sendUmengWhenTargetShown(n,"show_star_words","",{enter_from:t.enter_from,category_name:t.category_name,group_id:t.group_id,to_user_id:i,log_pb:t.log_pb},1,{version:3})}})),Ce("click","a[starhref]",(function(e){var n=e.currentTarget.dataset.uid;L.statistics.sendUmengEventV3("click_star_words",{enter_from:t.enter_from,category_name:t.category_name,group_id:t.group_id,to_user_id:n,log_pb:t.log_pb})})),D(document,"article a").forEach((function(e){try{if(-1===e.className.indexOf("pgc-commodity-link")&&-1===e.className.indexOf("out-link")){var t=e.getAttribute("href");if(t&&0===t.indexOf("http")){var n="sslocal://webview?disable_hash=1&url="+encodeURIComponent(t);e.setAttribute("data-origin-href",t),e.setAttribute("href",n)}}}catch(e){console.error(e)}}))}},qt=n(152),Wt=n.n(qt),Gt=function(e){var t,n=ve("statistics"),r=D(document,".stock-word"),i=(t={},r.forEach((function(e){var n=e.dataset.stockId;t[n]?t[n].push(e):t[n]=[e]})),t),o=e.article_stocks;o&&Wt()(i).forEach((function(e){var t=e[0],r=function(e){if(!e)return null;var t=window.innerHeight;return e.filter((function(e){var n=e.getBoundingClientRect().top;return n>0&&n-t>0}))[0]}(e[1]);if(r){var i=r.innerHTML,a=o[t],s=dt(a);if(!pt(a)&&(r.querySelector(".stock-word-highlight")||(r.innerHTML='<span class="stock-word-highlight">'+i+"</span>",L.statistics.sendUmengEventV3("news_stock_clear_show",{group_id:n.group_id,code:t}),r.addEventListener("click",(function(){L.statistics.sendUmengEventV3("news_stock_clear_click",{group_id:n.group_id,code:t}),a&&a.open_url?window.location.href=a.open_url:window.location.href="sslocal://webview?hide_close_btn=1&hide_bar=1&hide_more=1&bounce_disable=1&hide_back_buttonView=1&disable_web_progressView=1&url="+encodeURIComponent("https://financal-stock-web.snssdk.com/mc/stock?code="+t)}))),!r.querySelector(".stock-word-info")&&a)){var c=document.createElement("span");c.className="stock-word-info",c.innerHTML='（<span style="color: '+s+';">'+a.cur_price+"，"+a.change_rate+"</span>）",r.appendChild(c)}}}))};function zt(e,t){return e&&e[t]?e[t]:0}function Yt(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e&&e.forEach((function(e){e&&(!n||e.innerHTML&&e.innerHTML.trim())&&e.classList.add(t)}))}function Xt(e){D(e,"[toutiao-origin]").forEach((function(e){var t=e.getAttribute("toutiao-origin");!function(e,t){if(e&&t){for(var n=e.parentNode,r=document.createElement(t),i=document.createDocumentFragment();e.firstChild;)i.appendChild(e.firstChild);r.appendChild(i),n.replaceChild(r,e)}}(e,t)}))}var Kt=[{type:"section",selector:["h1","h2","h3","h4","h5","h6"]},{type:"ordered list",selector:"ol"},{type:"unordered list",selector:"ul"},{type:"strong",selector:"strong"},{type:"pgc-img-caption",selector:".pgc-img-caption"},{type:"url_link",selector:"a",excludeClass:"image"},{type:"cut-off rule",selector:"hr"},{type:"preformatted text",selector:"pre"},{type:"pgc-end-literature",selector:[".pgc-end-literature",".pgc-end-source"]}];function Jt(e){var t=e.formatted_article_config||{rollbackTag:0,caption:1,link:0,heading:2,source:1,strongHighlight:1},n=document.querySelector("article");(function(e){var t=[];if(Kt.forEach((function(n){("string"==typeof n.selector?D(e,n.selector):n.selector.reduce((function(t,n){return t.concat(D(e,n))}),[])).filter((function(e){return!!e.innerHTML&&(!n.excludeClass||!e.classList.contains(n.excludeClass))})).length&&t.push(n.type)})),t.length){var n={group_id:ve("statistics").group_id,author_user_id:ve("author").userId,info:t.join(",")};L.statistics.sendUmengEventV3("article_special_format_info",n)}}(n),zt(t,"rollbackTag")&&Xt(n),1===zt(t,"caption"))&&Yt(D(n,".pgc-img-caption"),"article-img-caption");1===zt(t,"link")&&Yt(D(n,"a").filter((function(e){return!e.classList.contains("image")})),"article-link");if(1===zt(t,"source")){var r=D(n,".pgc-end-literature"),i=D(n,".pgc-end-source");Yt(r,"article-literature"),Yt(i,"article-source"),Yt([i[0]],"article-source-line")}1===zt(t,"strongHighlight")&&Yt(D(n,"strong.highlight-text"),"article-strong-highlight")}n(72),n(73);var $t=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={carImage:[],stockImage:[],stockTrendImage:null,render:!1},r.cardHtml=null,r.canBroadcastCardsEvent=!0,r.setCompVal(),r.checkWindowSize=r.checkWindowSize.bind(r),r.fixArticle=r.fixArticle.bind(r),r.onCarouselImageSwitch=r.onCarouselImageSwitch.bind(r),r}return h()(t,e),t.prototype.setCompVal=function(){this.imageSizeInitTimer=null,this.statisticsData=ve("statistics")||{}},t.prototype.checkWindowSize=function(){var e=this,t=window.innerWidth-30,n=window.innerHeight;this.statisticsData=ve("statistics"),t<=0||n<=0?this.imageSizeInitTimer=setTimeout((function(){e.checkWindowSize()}),0):(this.state.carImage&&xt.addCarTipDOM(this.state.carImage),this.state.stockImage&&xt.addStockTipDOM(this.state.stockImage),this.state.stockTrendImage&&xt.addStockTrendTipDOM(this.state.stockTrendImage),window.addEventListener("scroll",at),this.setState({render:!0},(function(){Z.onceShow()})),window.onresize=function(){var e=k().width;console.info(e,"width onresize"),e&&xt.resizeImage(e-30)},xt.initImageProcess(at),At())},t.prototype.fixArticle=function(){var e=ve("h5_settings")||{},t=ve("statistics")||{};Vt(e),Lt(),Ht(),Bt(t);try{Jt(e)}catch(e){console.error(e)}},t.prototype.componentDidMount=function(){var e=this;this.checkWindowSize(),this.fixArticle();var t=function(){try{Be.broadcast("card-render",document.querySelector("body"))}catch(e){console.error(e)}};window.cardScriptInited?t():qe.on("card-script-inited",t),setTimeout((function(){document.body.classList.remove("opacity")}),0),qe.on("pageStateChange",(function(t){"carousel_image_switch"===t.type&&e.statisticsData.group_id==t.id&&e.onCarouselImageSwitch(t.status)}))},t.prototype.onCarouselImageSwitch=function(e){xt.fetchOneImage(e)},t.prototype.componentWillUnmount=function(){clearTimeout(this.imageSizeInitTimer),st(),window.removeEventListener("scroll",at),qe.off("pageStateChange")},t.prototype.componentDidUpdate=function(e){e.context!==this.props.context&&Gt(this.props.context)},t.getDerivedStateFromProps=function(e,t){var n=null,r=null,i=null;return t.render&&e.carImage?(xt.addCarTipDOM(e.carImage),n=null):n=e.carImage,t.render&&e.stockImage?(xt.addStockTipDOM(e.stockImage),r=null):r=e.stockImage,t.render&&e.stockTrendImage?(xt.addStockTrendTipDOM(e.stockTrendImage),i=null):i=e.stockTrendImage,{carImage:n,stockImage:r,stockTrendImage:i}},t.prototype.knowMoreHtml=function(){if(this.props.context&&this.props.context.know_more_url){var e={context:this.props.context,statisticsData:this.statisticsData};return v.a.createElement(Rt,{data:e})}return null},t.prototype.cardInArticleHtml=function(){var e=this;if(this.canBroadcastCardsEvent&&this.props.context&&Array.isArray(this.props.context.article_cards)){this.cardHtml||(this.cardHtml=function(){var e=document.querySelectorAll("p"),t=Array.apply(null,e),n=t.length,r=window.innerHeight,i=t.findIndex((function(e,i){var o=e.getBoundingClientRect().bottom>=1*r;return o=(o=o&&i<n-1)&&!(e.className.indexOf("image-wrap")>-1&&t[i+1].className.indexOf("pgc-img-caption")>-1)})),o=void 0;if(-1!==i&&i<n-1){(o=document.createElement("div")).className="article-cards-container";var a=t[i];a.hasOwnProperty("after")?a.after(o):a.parentNode.insertBefore(o,a.nextSibling)}else o=document.querySelector(".footer-cards-container");return console.info("targetNodeIndex",i),o}());var t=this.props.context.article_cards;Array.isArray(t)&&t.forEach((function(t){Ve.broadcast(t.type,null,t,e.cardHtml)})),this.canBroadcastCardsEvent=!1}},t.prototype.render=function(){var e=this.state.render;return e?v.a.createElement(g.Fragment,null,v.a.createElement(Pt,null),this.knowMoreHtml(),this.cardInArticleHtml()):null},t}(g.Component),Zt=(n(119),n(153)),Qt=n.n(Zt),en=(n(287),function(e,t){var n=null;return function(){if(!n)return n=setTimeout((function(){n=null}),t),e.apply(this,arguments)}}),tn=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={data:{}},r._setCompVal(n),r._renderHtml=r._renderHtml.bind(r),r._getSearchTag=r._getSearchTag.bind(r),r._clickSearchTag=en(r._clickSearchTag.bind(r),500),r.afterCarouselChange=r.afterCarouselChange.bind(r),r}return h()(t,e),t.prototype._setCompVal=function(e){var t=e.data,n=t.context,r=t.setting,i=t.statisticsData,o=t.addShowEvt;t.article;r=r||{};var a=n&&n.labels||{},s=a.labels_words;this.query=a.query_word,this.search_id=a.search_id,this.query_id=a.query_id;var c=r.search_card_style||{},l=c.uiStyle,u=c.title;this.uiStyle=l||0,this.title=u&&"string"==typeof u?u:"搜索",this.statisticsData=i,this.addShowEvt=o,this.labels_words=s||[],this.labels_words=this.labels_words.length>6?s.slice(0,18):s.slice(0,6)},t.prototype.componentDidMount=function(){var e=this;!function(){var t=e.statisticsData,n=e.labels_words,r=e.addShowEvt,i=n.length;if(i<1)return null;var o,a=[];o=i;for(var s=0;s<o;s++){var c=n[s].word;a.push(c),r({domSelector:"#search-tag"+s+" .label-content",tag:"search_card",label:"show_search_card_word",isTotallyShown:!0,params:{extra:{source:"article_tag_wap",labelsIndex:s+1,labelKey:c,gid:t.group_id,item_id:t.item_id}}})}var l={source:"article_tag_wap",gid:t.group_id,item_id:t.item_id,labelsNum:o,labelKey:a.toString()};r({domSelector:"#search-show",tag:"search_card",label:"show_search_card",params:{extra:l},isTotallyShown:!0}),r({domSelector:"#search-tag0",tag:"search_card",label:"show_search_card_untotally_shown",params:{extra:l},isTotallyShown:!0}),L.statistics.sendUmengEventV3("search_card_data",{source:"article_tag_wap",gid:t.group_id,item_id:t.item_id,labelsNum:o,labelKey:a.toString()})}(),function(){var t=e.statisticsData,n=e.labels_words,r=e.addShowEvt,i=n.length;r({domSelector:"#search-tag0 .label-content",value:"trending_show",isTotallyShown:!0,obj:{words_num:i,trending_position:"article_tag",search_id:e.search_id,query:e.query,query_id:e.query_id,enter_group_id:t.group_id,article_tag_type:"wap"},callback:function(){L.client.isAndroid&&Je.call("app.mayEnterSearch",{})}});for(var o=0;o<i;o++){var a=n[o],s=a.word;r({domSelector:"#search-tag"+o+" .label-content",value:"trending_words_show",isTotallyShown:!0,obj:{group_id:a.group_id,words_source:"article_tag",words_position:o,words_type:0,words_content:s,search_id:e.search_id,query:e.query,query_id:e.query_id,enter_group_id:t.group_id,article_tag_type:"wap"}})}}()},t.prototype._clickSearchTag=function(e){e.preventDefault();var t=this.statisticsData,n=e.target;if(n){var r=n.dataset,i=r.href;i&&(L.statistics.sendUmengEvent("search_card","click_search_card",{extra:{index:parseInt(r.index)+1,enter_from:"article_tag_wap",card_type:"search",keyword:r.keyword,gid:t.group_id,item_id:t.item_id}}),L.statistics.sendUmengEventV3("trending_words_click",{group_id:r.gid,words_source:"article_tag",words_position:parseInt(r.index),words_type:0,words_content:r.keyword,search_id:this.search_id,query:this.query,query_id:this.query_id,enter_group_id:t.group_id,article_tag_type:"wap"}),location.href=i)}},t.prototype.stopEvent=function(e){e&&e.stopPropagation?e.stopPropagation():window.event.cancelBubble=!0,e&&e.preventDefault?e.preventDefault():window.event.returnValue=!1},t.prototype.toggleAndroidSwipe=function(e){0===e?console.log("bytedance://enable_swipe"):console.log("bytedance://disable_swipe")},t.prototype.afterCarouselChange=function(){setTimeout(Z.onceShow,50)},t.prototype.renderSearchLabelsSplit=function(e){var t=[];return e.forEach((function(n,r){if(r%6==5||r===e.length-1){for(var i=[],o=r-r%6;o<=r;o++)i.push(e[o]);t.push(i)}})),t},t.prototype._getSearchTag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.map((function(e,n){return v.a.createElement("a",{key:"search-tag"+n,id:"search-tag"+(n+t),className:"lable ","data-href":e.link,"data-index":n+t,"data-gid":e.group_id,"data-keyword":e.word},v.a.createElement("div",{className:"label-content"},e.word))}))},t.prototype._renderHtml=function(){var e=this,t=this.labels_words,n=this.uiStyle,r=this.title;if(t.length<1)return null;if(t.length>6){var i=this.renderSearchLabelsSplit(t),o=k().width;return v.a.createElement("div",{id:"search-show",className:"pcard search line-style"+(n?" auto-font":""),style:{width:o-30+"px"},onTouchStart:this.toggleAndroidSwipe.bind(this,1),onTouchMove:this.stopEvent.bind(this),onTouchEnd:this.toggleAndroidSwipe.bind(this,0),onTouchCancel:this.toggleAndroidSwipe.bind(this,0)},v.a.createElement("div",{className:"title"}," ",r," "),v.a.createElement(Qt.a,{size:o-15,style:{width:o-15+"px",height:"135px"},swipeable:!0,afterChange:this.afterCarouselChange,transitionDuration:"500"},i.map((function(t,n){return v.a.createElement("div",{style:{width:o-15+"px"},key:"search-card-"+n},v.a.createElement("div",{className:"search-tag",onClick:e._clickSearchTag},e._getSearchTag(t,6*n)))}))))}return v.a.createElement("div",{id:"search-show",className:"pcard search line-style"+(n?" auto-font":"")},v.a.createElement("div",{className:"title"}," ",r," "),v.a.createElement("div",{className:"search-tag",onClick:this._clickSearchTag,id:"search-card"},this._getSearchTag(t)))},t.prototype.render=function(){return console.info("search",this.props),this._renderHtml()},t}(g.Component),nn=(n(288),function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={score:0,scoreState:"toScore"},r._setCompVal(n),r._scoreArticle=r._scoreArticle.bind(r),r._unDoScore=r._unDoScore.bind(r),r._renderHtml=r._renderHtml.bind(r),r._sendAjax=r._sendAjax.bind(r),r._sendTrueAjax=r._sendTrueAjax.bind(r),r}return h()(t,e),t.prototype._setCompVal=function(e){var t=e.data,n=e.card||{},r=t.context||{},i=void 0,o=t.statisticsData||{};try{i=localStorage.getItem("article_detail_score")}catch(e){console.error(e)}this.scoredArticle=i,this.scoreCardInfoString=n.question,this.starInfo=["轻触打分","完全不符合","比较不符合","一般","较符合","完全符合"],this.showBottomLine=!0,(r&&r.labels&&r.labels.labels_words||[]).length>0&&(this.showBottomLine=!1),this.domID="score-card-wrap",this.hasScore=!1,this.gid=o.group_id,this.card=n,this.startTime=null,this.lastTimeOutThx=null,this.lastTimeOutDone=null},t.prototype.componentDidMount=function(){var e=this.props.addShowEvt;this.startTime=Date.now(),e&&e({domSelector:"#"+this.domID,value:"show_score_card",obj:{question_string:this.scoreCardInfoString,group_id:this.gid,style_type:"star"}})},t.prototype._scoreArticle=function(e){var t=this,n=e.target,r=n&&n.dataset||{},i=parseInt(r.index)+1;console.info("_scoreArticle",r.index),i&&(clearTimeout(this.lastTimeOutDone),this.setState({scoreState:"scoring",score:i},(function(){t.lastTimeOutDone=setTimeout((function(){t._sendAjax(i),t.setState({scoreState:"undo"})}),1500)})))},t.prototype._sendTrueAjax=function(e,t){console.info(arguments);var n=this.gid,r=this.scoreCardInfoString,i=this.scoredArticle,o=this.hasScore,s=this.startTime,c={evaluate_id:a()({gid:n,style:"star",string_id:r,interval:Date.now()-s}),survey_type:"point",prefer_id:e};if(t&&(c=ce({},c,t)),Ke("https://eva.snssdk.com/eva/survey.json",{param:c}),!o){i=i?i+","+n:n;try{localStorage.setItem("article_detail_score",i)}catch(e){console.error(e)}this.hasScore=!0}L.statistics.sendUmengEventV3("click_score_card",{score:e,question_string:r,group_id:n,click_interval:Date.now()-s,style_type:"star"})},t.prototype._sendAjax=function(e){L.client.isAndroid&&L.client.isNewsArticleVersionNoLessThan("6.2.5")||L.client.isIOS&&L.client.isNewsArticleVersionNoLessThan("6.2.6")?et(this._sendTrueAjax.bind(this,e)):this._sendTrueAjax(e)},t.prototype._unDoScore=function(){this.setState({scoreState:"toScore",score:0})},t.prototype._renderHtml=function(){var e=this.showBottomLine,t=this._scoreArticle,n=this._unDoScore,r=this.domID,i=this.scoredArticle,o=this.gid,a=this.card,s=this.starInfo,c=this.state,l=c.scoreState,u=c.score;if(!L.client.isSeniorAndroid)return null;if(i&&i.split(",").indexOf(o)>-1)return null;return v.a.createElement("div",{id:r,className:"pcard score-star "+(e?"":"mtn30"),style:{marginTop:"15px"}},v.a.createElement("div",{className:"p-scorecard pcard-container "+(e?"pcard-vertical-border":"pcard-vertical-top-border")+("undo"===l?" moveUp":"")},v.a.createElement("div",{className:"pcard-clearfix score-wrapper"},v.a.createElement("div",{className:"info-wrapper "+("scoring"===l?"move":"")},v.a.createElement("div",{className:"title question pcard-h16 pcard-w1",style:{marginTop:"3px"}},a.question),v.a.createElement("div",{className:"title thx-letter pcard-h16 pcard-w1",style:{marginTop:"2px"}},s[u])),v.a.createElement("div",{onClick:t,className:"star-wrap"},v.a.createElement("span",{className:"star","data-index":"0","data-selected":u>0?"true":"false"}),v.a.createElement("span",{className:"star","data-index":"1","data-selected":u>1?"true":"false"}),v.a.createElement("span",{className:"star","data-index":"2","data-selected":u>2?"true":"false"}),v.a.createElement("span",{className:"star","data-index":"3","data-selected":u>3?"true":"false"}),v.a.createElement("span",{className:"star","data-index":"4","data-selected":u>4?"true":"false"}))),v.a.createElement("div",{className:"pcard-clearfix result-wrapper"},v.a.createElement("div",{className:"pcard-h16 pcard-w1 mt8"},"感谢你的反馈"),v.a.createElement("a",{onClick:n,className:"rescore-button pcard-h12 pcard-w1"},"重新打分"))))},t.prototype.render=function(){return this._renderHtml()},t}(g.Component)),rn=(n(289),function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={score:n.card&&n.card.operate_history&&n.card.operate_history.score?parseInt(n.card.operate_history.score):0},"number"==typeof n.card.choice&&(r.state.score=n.card.choice,n.card.choice>0&&Je.call("app.questionnaire",{selected:!0}),r.postData={gid:n.card.gid||"",qid:n.card.qid||0,request_info:{device_params:{did:1,device_platform:"",device_type:""},user_params:{user_id:0},app_params:{app_version:0}},token:n.card.token||""},et((function(e){var t=e.device_id,n=e.device_platform,i=e.device_type,o=r.postData.request_info.device_params;o.did=+t,o.device_platform=n,o.device_type=i})),Qe((function(e){var t=e.user_id,n=void 0===t?0:t,i=e.appVersion,o=r.postData.request_info,a=o.user_params,s=o.app_params;a.user_id=+n,s.app_version=+i.split(".").join("")}))),r._setCompVal(n),r._scoreArticle=r._scoreArticle.bind(r),r._renderHtml=r._renderHtml.bind(r),r._sendAjax=r._sendAjax.bind(r),r.handleChoiceClick=r.handleChoiceClick.bind(r),r.contentEl=v.a.createRef(),r}return h()(t,e),t.prototype._setCompVal=function(e){var t=e.data,n=e.card||{},r=t.context||{},i=t.statisticsData||{},o=["轻触打分","很差","比较差","一般","比较好","很棒"];n.operate_method&&Array.isArray(n.operate_method)&&n.operate_method.forEach((function(e,t){e&&e.answer&&"string"==typeof e.answer&&e.answer.trim()&&t<o.length-1&&(o[t+1]=e.answer)})),this.scoreCardInfoString=n.operate_meta&&n.operate_meta.question?n.operate_meta.question:"您觉得本篇文章内容质量怎么样？",this.starInfo=o,this.showBottomLine=!0,(r&&r.labels&&r.labels.labels_words||[]).length>0&&(this.showBottomLine=!1),this.domID="score-card-wrap",this.gid=i.group_id,this.card=n,this.startTime=null,this.lastTimeOutDone=null},t.prototype.componentDidMount=function(){var e=this;this.startTime=Date.now(),this.contentEl.current&&Z.add("show",{dom:this.contentEl.current,callback:function(){et((function(){e._appFetch({url:"https://i.snssdk.com/api/questionnaire/exposure/",method:"POST",data:c()({},e.postData,{request_info:a()(e.postData.request_info)}),needCommonParams:!0},(function(){return console.log("exposure")}))}))}})},t.prototype._scoreArticle=function(e){var t=this,n=e.target,r=n&&n.dataset||{},i=parseInt(r.index)+1;i&&this.setState({score:i},(function(){t._sendAjax(i)}))},t.prototype._appFetch=function(e,t){Je.call("fetch",{url:e.url||"",method:e.method||"GET",params:e.params||{},data:e.data||{},header:e.header||{},needCommonParams:e.needCommonParams||!0},(function(e){if((e=e.data||e).response){var n=e.response;try{n=JSON.parse(n)}catch(e){n={}}e.responseData=n}"function"==typeof t&&t(e)}))},t.prototype._sendAjax=function(e){var t=this.gid,n=this.startTime,r=this.props.data.statisticsData||{},i={gid:t,score:e};this._appFetch({url:"http://i.snssdk.com/mp/agw/qingyun/post_qingyun_score",method:"POST",data:i,needCommonParams:!0},(function(e){var t=e.responseData,n=void 0===t?null:t;n&&0==n.code?Je.call("toast",{text:"已提交\n谢谢您的反馈"}):Je.call("toast",{text:"系统错误",icon_type:"icon_error"})})),L.statistics.sendUmengEventV3("bottom_article_score",{score:e,group_id:t,click_interval:Date.now()-n,category_name:r.category_name,is_qingyun:1})},t.prototype.handleChoiceClick=function(e){var t=+e.currentTarget.dataset.value||0;this.setState({score:t}),Je.call("app.questionnaire",{selected:!0}),this._appFetch({url:"https://i.snssdk.com/api/questionnaire/feedback/",method:"POST",data:c()({},this.postData,{request_info:a()(this.postData.request_info),choice:t}),needCommonParams:!0},(function(e){e.responseData?Je.call("toast",{text:"感谢反馈",icon_type:"icon_success"}):Je.call("toast",{text:"网络条件较差，请稍后重试",icon_type:"icon_error"})}))},t.prototype._renderIconFeedback=function(){var e=this,t=this.state.score,n=this.props.card.answers,r=void 0===n?[]:n,i=2===r.length?"horizontal":"",o=function(e){return t>0?t===e?"selected":"unselected":""};return v.a.createElement("div",{className:"choices-container "+(5===r.length?"choice-5":""),ref:this.contentEl},r.map((function(t){var n=t.answer_id,r=t.answer;return v.a.createElement("div",{className:"choice-container "+i+" "+o(n),key:n,onClick:e.handleChoiceClick,"data-value":n},v.a.createElement("div",{className:"icon choice-icon-"+n}),v.a.createElement("div",{className:"choice-text-block"},v.a.createElement("div",{className:"choice-text"},r)))})))},t.prototype._renderStarFeedback=function(){var e=this,t=this.state.score,n=this.props.card.answers,r=void 0===n?[]:n;return v.a.createElement(g.Fragment,null,v.a.createElement("div",{className:"star-wrap feedback",ref:this.contentEl},[1,2,3,4,5].map((function(n){return v.a.createElement("span",{key:n,className:"star "+(t===n?"selected":""),"data-index":n-1,"data-selected":t>=n?"true":"false",onClick:e.handleChoiceClick,"data-value":n})}))),v.a.createElement("div",{className:"title thx-letter pcard-h12 "+(t?"selected":""),style:{marginTop:"12px"}},t>0&&t<=r.length?r[t-1].answer:"轻触打分"))},t.prototype._renderOldScore=function(){var e=this._scoreArticle,t=this.starInfo,n=this.state.score;return v.a.createElement(g.Fragment,null,v.a.createElement("div",{onClick:e,className:"star-wrap"},v.a.createElement("span",{className:"star","data-index":"0","data-selected":n>0?"true":"false"}),v.a.createElement("span",{className:"star","data-index":"1","data-selected":n>1?"true":"false"}),v.a.createElement("span",{className:"star","data-index":"2","data-selected":n>2?"true":"false"}),v.a.createElement("span",{className:"star","data-index":"3","data-selected":n>3?"true":"false"}),v.a.createElement("span",{className:"star","data-index":"4","data-selected":n>4?"true":"false"})),v.a.createElement("div",{className:"title thx-letter pcard-h12",style:{marginTop:"12px"}},n>-1&&n<t.length?t[n]:t[0]))},t.prototype._renderHtml=function(){var e=this.domID,t=this.scoreCardInfoString,n=this.props.card,r=n.show_type,i=n.question_title,o=null;switch(r){case 1:o=this._renderIconFeedback(),t=i;break;case 2:o=this._renderStarFeedback(),t=i;break;default:o=this._renderOldScore()}return v.a.createElement("div",{id:e,className:"pcard nscore-star "},v.a.createElement("div",{className:"p-scorecard pcard-container "},v.a.createElement("div",{className:"pcard-clearfix score-wrapper"},v.a.createElement("div",{className:"info-wrapper "},v.a.createElement("div",{className:"title question pcard-h16 pcard-w1",style:{marginTop:"14px"}},t))),o))},t.prototype.render=function(){return this._renderHtml()},t}(g.Component)),on=(n(290),function(e){function t(){return u()(this,t),p()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props.data.context,t=(e||{}).read_count,n=L.fmt.formatCount(t,"0");return e?void 0===t?null:v.a.createElement("div",{className:"info"},v.a.createElement("div",{className:"article-info"},v.a.createElement("span",{className:"brow-count"},n,"阅读"))):v.a.createElement("div",{className:"info"})},t}(g.Component)),an=(n(291),function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.followDisabled=!1,r.followSource={pgc:30,wenda:28},r.followFrom={pgc:"article_detail",wenda:"answer_detail_top_card"},r.state={followState:n.userInfo&&n.userInfo.followState,followDisabled:!1,updateFollowStateFromUserAction:!1},r}h()(t,e),t.prototype.followActionHandler=function(){this.setState({updateFollowStateFromUserAction:!0,followDisabled:!0});var e=this.props.userInfo,t=this.state.followState,n={id:e.userId,action:t?"unfollow":"dofollow",source:"30",from:"article_detail"},r=this;j.a.invoke("user_follow_action",n,(function(e){r.followDisabled=!1,e&&1==+e.code?r.setState({followState:t?"":"following",followDisabled:!1}):r.setState({followState:t?"following":"",followDisabled:!1})})),this.props.clickActionHandler()},t.prototype.componentDidMount=function(){var e=this.props.userInfo,t=this;qe.on("pageStateChange",(function(n){switch(n.type){case"user_action":case"pgc_action":n.id==e.userId&&"status"in n&&(t.setState({followState:n.status?"following":"",followDisabled:!1,updateFollowStateFromUserAction:!0}),t.followDisabled=!1)}}))},t.prototype.componentWillUnmount=function(){qe.off("pageStateChange")},t.getDerivedStateFromProps=function(e,t){return t.updateFollowStateFromUserAction?{followState:t.followState}:{followState:e.userInfo.followState}},t.prototype.render=function(){this.props.setting;var e="subscribe-button follow-button"+this.state.followState+(this.state.followDisabled?" disabled":"");return v.a.createElement("button",{className:e,id:"subscribe",onClick:this.followActionHandler},v.a.createElement("i",{className:"iconfont focusicon"}," "))}}(v.a.Component),n(292),function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={showCurrentUserInRewardsList:!1,rewardsNum:n.data.likeAndRewards&&n.data.likeAndRewards.rewards_num||0},r}h()(t,e),t.prototype.renderVIcon=function(){var e=this.props.data||{},t=e.setting,n=e.userData;if(t.useServerV&&n.auth_type){var r=Object(L.buildServerVIcon)(n.auth_type,"avatar_icon",t.user_verify_info_conf);if(r)return v.a.createElement("div",{dangerouslySetInnerHTML:{__html:r}})}return""},t.prototype.renderRewardList=function(e){var t=e.rewards_list,n=e.rewards_list_url,r=(this.state.rewardsNum>3?"等":"")+this.state.rewardsNum+"个人赞赏过",i=t&&Array.isArray(t)?t.length:0,o=i<3?3-i:0;return v.a.createElement("a",{className:"reward-list",href:n,onClick:this.enterRewardsList},v.a.createElement("div",{className:"avatar-list"},t&&t.map((function(e,t){if(t<3)return v.a.createElement("div",{className:"avater-wrap",key:t},v.a.createElement("img",{className:"avater",src:e.avatar_url,alt:""}))})),o&&this.state.showCurrentUserInRewardsList?this.state.currentUserAvatarList.map((function(e,t){if(t<o)return v.a.createElement("div",{className:"avater-wrap",key:"current"+t},v.a.createElement("img",{className:"avater",src:e,alt:""}))})):null),v.a.createElement("div",{className:"info"},r))},t.prototype.showRewards=function(e){var t=this.props.data||{},n=(t.context,t.statisticsData),r=t.userData;t.likeAndRewards;L.statistics.sendUmengEventV3("rt_reward",{media_id:r.mediaId,item_id:n.item_id,group_id:n.group_id,enter_from:n.enter_from,category_name:n.category_name,log_pb:n.log_pb,position:"detail",is_column:1}),location.href=this.props.data.likeAndRewards.rewards_open_url},t.prototype.followHandler=function(){var e=this.props.data||{},t=(e.likeAndRewards,e.userData);this.state.followState,t.userId},t.prototype.profileClickHandler=function(){(this.props.data||{}).userData},t.prototype.enterRewardsList=function(){var e=this.props.data||{},t=(e.context,e.statisticsData),n=e.userData;L.statistics.sendUmengEventV3("reward_user_view",{media_id:n.mediaId,item_id:t.item_id,group_id:t.group_id,enter_from:t.enter_from,category_name:t.category_name,log_pb:t.log_pb,is_column:1})},t.prototype.componentDidMount=function(){var e=this.props.data||{},t=e.statisticsData,n=e.userData,r=this;L.statistics.sendUmengWhenTargetShown(this.dom,"show_reward","",{media_id:n.mediaId,item_id:t.item_id,group_id:t.group_id,enter_from:t.enter_from,category_name:t.category_name,log_pb:t.log_pb,is_column:1},!0,{version:3}),qe.on("pageStateChange",(function(e){"donate_action"==e.type&&e.id==t.group_id&&"status"in e&&e.status&&j.a.invoke("getCurrentUserAvatar",{},(function(e){var t=r.state.currentUserAvatarList;e&&e.avatar_url&&t.push(e.avatar_url),r.setState({showCurrentUserInRewardsList:!0,rewardsNum:this.state.rewardsNum+1,currentUserAvatarList:t})}))}))},t.prototype.render=function(){var e=this,t=this.props.data||{},n=t.likeAndRewards,r=t.userData;t.setting;return v.a.createElement("div",{className:"article-bottom-user",ref:function(t){e.dom=t}},v.a.createElement("a",{href:r.link,onClick:this.profileClickHandler},v.a.createElement("div",{className:r.user_decoration&&r.user_decoration.url?"avatar avatar-width-decoration":"avatar"},v.a.createElement("div",{className:"avatar-wrap"},v.a.createElement("img",{className:"avatar-image",src:r.avatar,alt:"头像"})),this.renderVIcon()),r.user_decoration&&r.user_decoration.url?v.a.createElement("div",{className:"avatar-decoration","aria-hidden":"true",style:{backgroundImage:"url("+r.user_decoration.url+")"}}):null,v.a.createElement("div",{className:"avatar-decoration avatar-night-mask","aria-hidden":"true"}),v.a.createElement("div",{className:"name-wrap"},v.a.createElement("div",{className:"name"},r.name)),r.intro?v.a.createElement("div",{className:"desc"},r.intro):null),v.a.createElement("div",{className:"buttons"},L.client.isAndroid&&n&&n.rewards_open_url?v.a.createElement("button",{className:"reward",onClick:this.showRewards},"赞赏"):null),L.client.isAndroid&&this.state.rewardsNum>0?this.renderRewardList(n):null)}}(v.a.Component),n(293),function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.wrapDOM=null,r.clickHandler=r.clickHandler.bind(r),r}return h()(t,e),t.prototype.setCompVal=function(){var e=document.querySelector("article");e&&(this.wrapDOM=document.createElement("p"),e.appendChild(this.wrapDOM))},t.prototype.componentDidMount=function(){L.statistics.sendUmengWhenTargetShown(this.dom,"bottom_banner_show","",{media_id:ve("author.mediaId")||"",group_id:ve("statistics.group_id")||"",banner_id:this.props.data.context.highQualityArticle.banner_id||0,banner_category:"boutique"},!0,{version:3})},t.prototype.clickHandler=function(){L.statistics.sendUmengEventV3("bottom_banner_click",{media_id:ve("author.mediaId")||"",group_id:ve("statistics.group_id")||"",banner_id:this.props.data.context.highQualityArticle.banner_id||0,banner_category:"boutique"})},t.prototype.render=function(){var e=this,t=this.props.data.context,n=t.new_infor_action,r=2!=n&&n?"category-guide-b":"category-guide";return v.a.createElement("a",{className:r,href:t.highQualityArticle.schema,onClick:this.clickHandler,ref:function(t){e.dom=t}},t.highQualityArticle.title,v.a.createElement("i",{className:"iconfont icon-rarrow"}))},t}(g.Component)),sn=(n(294),function(e){function t(){return u()(this,t),p()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.clickBanner=function(e){location.href=e},t.prototype.render=function(){var e=this,t=this.props.data,n=t.image,r=t.description,i=t.link;return n?v.a.createElement("div",{className:"article-bottom-banner"},v.a.createElement("img",{className:"banner-image",src:n,alt:r,onClick:function(){return e.clickBanner(i)}})):null},t}(g.Component)),cn=Re(an),ln=Re(on),un=Re(rn),dn=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={data:{}},r._addShowEvt=r._addShowEvt.bind(r),r._getCards=r._getCards.bind(r),r._getBeforeFooterDom=r._getBeforeFooterDom.bind(r),r._getAfterFooterDom=r._getAfterFooterDom.bind(r),r.statisticsData=ve("statistics")||{},r.canBroadcastCardsEvent=!0,r}return h()(t,e),t.prototype._addShowEvt=function(e){Z.add("show",e)},t.prototype._getCards=function(e){var t=e.context||{},n=t.cards||[],r=n.length;if(this.canBroadcastCardsEvent&&!0==(!e.novelData||!!e.novelData.is_story||void 0!==e.isLogin&&!0===e.novelData.can_read)){var i=function(){try{if(window.cardEvent&&window.cardEvent.broadcast("cards",document.querySelector(".footer-cards-container"),t),t.cards&&t.cards.length){var e=t.cards[0].type;window.cardsMonitor&&window.cardsMonitor(".footer-cards-container","footer",1e3,{card_type:e})}}catch(e){b.a.captureException(e)}};window.cardScriptInited?i():qe.on("card-script-inited",i),this.canBroadcastCardsEvent=!1}var o={score:nn,nscore:rn};return r>0?n.map((function(t,n){var r=o[t.type];if(r){var i=Re(r);return v.a.createElement(i,{key:r+"-comp"+n,card:t,data:e})}return null})):null},t.prototype._getBeforeFooterDom=function(e){var t={context:e.context,statisticsData:this.statisticsData,setting:e.setting,userData:ve("author")||{}};if(e.context){var n={context:e.context,statisticsData:this.statisticsData,setting:e.setting},r=ve("article.showBottomBanner",!1),i=ve("article.bottomBanner",{});return v.a.createElement(g.Fragment,null,v.a.createElement(ln,{data:t}),e.context.highQualityArticle?v.a.createElement(cn,{data:n}):null,r?v.a.createElement(sn,{data:i}):null,e.context.score_card?v.a.createElement(un,{card:e.context.score_card.detail,data:e}):null,e.context.operate_info&&!e.context.score_card?v.a.createElement(un,{card:e.context.operate_info,data:e}):null)}return v.a.createElement(ln,{data:t})},t.prototype._getAfterFooterDom=function(e){var t=void 0;try{t=e.context.labels.labels_words.length}catch(e){return null}return t<1?null:v.a.createElement(tn,{data:e})},t.prototype.render=function(){var e=this.props.data||{},t=c()({},e,{addShowEvt:this._addShowEvt,statisticsData:this.statisticsData});return v.a.createElement(g.Fragment,null,this._getBeforeFooterDom(t),v.a.createElement("div",{className:"footer-before-cards-container"}),v.a.createElement("div",{className:"footer-cards-container"},e.context?this._getCards(t):null),e.context?this._getAfterFooterDom(t):null)},t}(g.Component),pn=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));if(r.ele=document.createElement(n.tag||"div"),"footer"===n.tag)if(n.parentDom)n.parentDom.parentNode!=document.body&&document.body.appendChild(n.parentDom);else{r.parentDom=document.createElement("footer");var i=document.querySelector("#toutiao_ios_footer_div");i?i.parentNode.insertBefore(r.parentDom,i):document.body.appendChild(r.parentDom)}if("header"===n.tag)if(n.parentDom){if(n.parentDom.parentNode!=document.body){var o=document.body.children[0];document.body.insertBefore(n.parentDom,o)}}else{r.parentDom=document.createElement("header");var a=document.body.children[0];document.body.insertBefore(r.parentDom,a)}if("article"===n.tag)if(n.parentDom){if(n.parentDom.parentNode!=document.body){var s=document.body.children[0];document.body.insertBefore(n.parentDom,s)}}else{r.parentDom=document.createElement("article");var c=document.body.children[0];document.body.insertBefore(r.parentDom,c)}return r.parentDom=r.parentDom||n.parentDom||document.body,r}return h()(t,e),t.prototype.componentDidMount=function(){this.props.replaceFlag?this.parentDom.parentNode.replaceChild(this.ele,this.parentDom):this.parentDom.appendChild(this.ele)},t.prototype.componentWillUnmount=function(){},t.prototype.render=function(){return w.a.createPortal(this.props.children,this.ele)},t}(g.Component),fn=function(){function e(){u()(this,e),console.info("DiversionIFrame");var t=this._iframe=document.createElement("iframe");t.setAttribute("id","diversion2transcode"),t.setAttribute("sandbox","allow-scripts allow-same-origin"),t.style.width=0,t.style.height=0,t.style.display="none",document.documentElement.appendChild(t),this._loaded=!1}return e.prototype.loadAsync=function(e){var t=this;!this._loaded&&e&&(this._sid=setTimeout((function(){t._iframe.src=e,t._loaded=!0,t._sid=null}),100))},e.prototype.destroy=function(){this._sid&&clearTimeout(this._sid),this._loaded&&(this._iframe.src="about:blank",this._loaded=!1)},e}();function hn(e,t){var n=e.audio_info;return t&&t.audio_info&&(n=t.audio_info),n}var mn=Re(Tt),_n=Re($t),gn=Re(dn),vn=new fn,yn=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={data:{}},r.lastSetH5ExtraFlag=!1,r.setArticle=r.setArticle.bind(r),r.setWebContentUrl=r.setWebContentUrl.bind(r),r.article=null,r}return h()(t,e),t.prototype.setArticle=function(e,t){if(e&&"v55"!==e&&!t){var n=e.indexOf("<article>"),r=e.indexOf("</article>"),i=e.substring(n+9,r),o=e.indexOf("<header>"),a=e.indexOf("</header>"),s=e.substring(o+8,a);return window.felog("fe_setContent","start_setarticle"),$("article").html(i),window.felog("fe_setContent","end_setarticle"),!t&&s.indexOf("authorbar")>0&&($("header").html(s),!0!==window.hadSentDomready&&(L.statistics.sendBytedanceRequest("domReady?setContentTimeStamp="+window.startTimestamp+"&domreadyTimeStamp="+ +new Date+"&isHTMLRender=1"),window.hadSentDomready=!0,L.statistics.sendUmengEventV3("article_web_extra_info",{version:"1631",duration:+new Date-window.startTimestamp,group_type:window.APP_VERSION,action_type:"html_render"}),window.felog("fe_setContent","send_domReady"))),_.a.sendCustomTimeLog("end_bind_content","android_"+window.APP_VERSION,+new Date-window.startTimestamp),e}return t&&e&&"v55"!==e?t:null},t.prototype.setWebContentUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.articleWebContentUrl;t&&vn.loadAsync(t)},t.prototype.componentDidMount=function(){Ce("click","article a",(function(e){if(!e.currentTarget.classList.contains("image")){var t=e.currentTarget.href;if(t){var n=ve("statistics")||{},r=n.enter_from,i=n.category_name,o=n.group_id,a=n.log_pb,s=n.g_source;L.statistics.sendUmengEventV3("external_link_click",{enter_from:r,category_name:i,group_id:o,log_pb:a,group_source:s,source:s,url_click:t})}}}))},t.prototype.componentWillUnmount=function(){vn.destroy(),Ae("click","article a")},t.prototype.componentDidUpdate=function(){document.querySelector("#header")&&!window.hadSentRenderFinish&&(L.statistics.sendBytedanceRequest("renderFinish?timeStamp="+(new Date).getTime()),window.felog("fe_renderFinish","called"),window.hadSentRenderFinish=!0)},t.prototype.render=function(){var e,t,n=this.props,r=n.context,i=n.h5Extra,o=n.content,a=void 0,s=void 0,l=void 0;this.article=this.setArticle(o,this.article),this.setWebContentUrl(i),e=function(e,t,n){if(!e||!n)return null;var r=e.article||{},i=e.author||{};if(window.receivedEmptyExtra&&(!e||!e.article.title)){var o=n.indexOf('<div class="tt-title">'),a=n.substring(o+22),s=a.indexOf("</div>");a=a.substring(0,s),r=c()({},e.article,{title:a}),i=c()({},e.author,{show:!1})}return{article:r,author:i,setting:e.h5_settings,useServerV:e.useServerV,hasExtraSpace:e.hasExtraSpace,hideFollowButton:e.hideFollowButton,redPack:t?t.red_pack:null,statistic:e.statistics,audioInfo:hn(e,t)}}(i,r,o),t=function(e,t,n){return e&&n?{setting:e.h5_settings,statistic:e.statistics,context:t,article:e.article}:null}(i,r,o),a=r&&r.car_image_info?r.car_image_info:null,s=r&&r.stock_dingpan_desc?r.stock_dingpan_desc:null,l=r&&r.article_img_stocks?r.article_img_stocks:null;var u=document.querySelector("footer");return L.client.isIOS&&(0===L.client.newsArticleVersion.indexOf("7.3.9")||0===L.client.newsArticleVersion.indexOf("7.4.0"))&&!u.classList.contains("footer-bottom")&&u.classList.add("footer-bottom"),v.a.createElement(g.Fragment,null,v.a.createElement(pn,{parentDom:document.querySelector("header"),replaceFlag:"1",tag:"header"},e?v.a.createElement(mn,{data:e}):null),e?v.a.createElement(_n,{carImage:a,stockImage:s,stockTrendImage:l,context:r}):null,t?v.a.createElement(pn,{parentDom:u,replaceFlag:"1",tag:"footer"},v.a.createElement(gn,{data:t})):null)},t}(g.Component),wn=function(e){function t(n){return u()(this,t),p()(this,e.call(this,n))}return h()(t,e),t.prototype.tellNativeHeaderMess=function(){[{domSelector:"#profile",JsBridge:"showTitleBarPgcLayout"},{domSelector:".wenda-title",JsBridge:"showWendaABHeaderLayout"}].forEach((function(e,t){Z.add("header",e)}))},t.prototype.componentDidMount=function(){var e=this.props.data;if(e&&e.article&&"wenda"===e.article.type){var t=0,n=0,r=Object(y.findDOMNode)(this._title),i=Object(y.findDOMNode)(this._author);r&&(t=r.getBoundingClientRect().height),i&&(n=i.getBoundingClientRect().height+20+t),j.a.invoke("onGetHeaderAndProfilePosition",{header_position:t,profile_position:n})}L.client.isAndroid&&this.tellNativeHeaderMess()},t.prototype.render=function(){var e=this,t=this.props.data;return t&&t.article&&t.article.type?(console.info("wendaHeader",t),v.a.createElement("div",{id:"header"},v.a.createElement(je,c()({},t,{ref:function(t){e._title=t}})),t.author.show?v.a.createElement(Ot,c()({},t,{ref:function(t){e._author=t}})):v.a.createElement("div",{style:{height:"20px"}}))):null},t}(v.a.Component),En=(n(295),function(e){function t(){return u()(this,t),p()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.enlargeImg=function(e,t){console.info("enlargeImg",t,e);var n=this.props.imageList,r=t.target,i="https://p1.pstatp.com/list/400x400/"+n[e].web_uri,o=/^https:\/\/p1.pstatp.com\/list\/400x400\//;if(i){var a=function(e){for(var t=e.offsetParent,n=e.offsetLeft,r=e.offsetTop;null!==t;)n+=t.offsetLeft+t.clientLeft,r+=t.offsetTop+t.clientTop,t=t.offsetParent;return{left:n,top:r}}(r),s=r.getBoundingClientRect();o.test(i)&&i.replace(o,"https://p1.pstatp.com/large"),location.href="bytedance://large_image?index="+e+"&url="+i+"&left="+a.left+"&top="+a.top+"&width="+Math.round(s.width)+"&height="+Math.round(s.height)}},t.prototype.render=function(){var e=this,t=this.props.imageList,n=t.length,r="";return r=1===n?" col-1":2===n||4===n?" col-2":" col-3",v.a.createElement("div",{className:"pic-cell-wenda col-3 "+r},t.map((function(t,r){return v.a.createElement("div",{className:"pic-cell-pic",key:"image"+r,onClick:e.enlargeImg.bind(e,r)},v.a.createElement("div",{className:"pic-cell-pic-inner"},v.a.createElement("div",{className:"pic-cell-pic-c"},1===n?v.a.createElement("img",{"data-index":r,src:"https://p1.pstatp.com/large/"+t.web_uri}):v.a.createElement("img",{"data-index":r,width:"400",height:"400",src:"https://p1.pstatp.com/list/400x400/"+t.web_uri}))))})))},t}(g.Component)),bn=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={videoPropsArr:[]},console.info("[component/WuKongImage]"),r.setCompVal(),r}return h()(t,e),t.prototype.setCompVal=function(){var e=document.querySelector("article");this.wrapDOM=document.createElement("div"),e.appendChild(this.wrapDOM),this.wrapDOM.classList.add("has-wenda-pic-cell")},t.prototype.render=function(){return Object(y.createPortal)(v.a.createElement(En,{imageList:this.props.imageList}),this.wrapDOM)},t}(g.Component),Sn=(n(296),Re(Ot),{answer:"paid_question_write_answer",append:"paid_question_ask_more_detail",supplement:"paid_question_write_more_detail"}),xn=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.refuseAnswer=r.refuseAnswer.bind(r),r.gotoBuyHandler=r.gotoBuyHandler.bind(r),r.state={},r}return h()(t,e),t.prototype.componentDidMount=function(){j.a.invoke("checkAssets",{channel:"learning_lazy",type:"web"})},t.prototype.gotoAnswer=function(e){var t=this.props.wendaExtra,n=void 0===t?{}:t,r=n.question.pay_status,i=2==r?"ask_more_detail":"waiting_for_answer";if(2!=n.question.user_role||2!=r&&!n.question.append_time||"append"!==e){var o={section:i,qid:n.qid};switch("supplement"===e&&(o.to_user_id=n.question.answerer.user_id),L.statistics.sendUmengEventV3(Sn[e],o),e){case"answer":location.href=n.answer_schema;break;case"append":location.href=n.append_schema;break;case"supplement":location.href=n.supplement_schema||"sslocal://wenda_paid_question_supplenment?is_paid_mode=1&api_param=%7B%7D&gd_ext_json=%7B%7D&paid_question_id="+n.qid}}else j.a.invoke("toast",{text:"仅限追问一次"})},t.prototype.refuseAnswer=function(){var e=this,t=this.props.wendaExtra,n=void 0===t?{}:t,r=2==n.question.pay_status?"ask_more_detail":"waiting_for_answer";L.statistics.sendUmengEventV3("paid_question_deny",{section:r,qid:n.qid});j.a.invoke("alert",{title:"确认放弃回答？",message:"放弃回答将无法获得本次咨询费用，请确认是否放弃回答",confirm_text:"确认",cancel_text:"取消"},(function(t){if(L.statistics.sendUmengEventV3(1==t.code?"paid_question_deny_confirm":"paid_question_deny_cancel",{section:r,qid:n.qid}),1==t.code){var i={url:"https://i.snssdk.com/wenda/v1/commit/postpayquestionrefuse/",method:"POST",params:{},data:{qid:n.qid},header:{},needCommonParams:!0};j.a.invoke("fetch",i,(function(t){var r={};try{r=JSON.parse(t.response)}catch(e){console.error(e)}1==t.code&&0==r.err_no?e.setState({is_refuse:!0}):j.a.invoke("toast",{text:t.err_tips||"服务异常，请稍后再试"}),Je.call("app.wendaPayStatusChange",{current_status:"refuse_answer",qid:n.qid})}))}}))},t.prototype.gotoBuyHandler=function(){var e=this.props,t=e.wendaExtra,n=void 0===t?{}:t,r=e.statistic,i=e.author;L.statistics.sendUmengEventV3("paid_wenda_onlook",{category_name:r.category_name,enter_from:r.enter_from,qid:n.qid,ansid:n.ansid,group_id:n.ansid,question_price:n.question.purchased_price/100,to_user_id:i.userId}),j.a.invoke("is_login",{},(function(e){e&&(e.is_login||1==e.code)?location.href=n.watcher_purchase_schema:j.a.invoke("login",{platform:""})}))},t.prototype.render=function(){var e=this.props,t=e.wendaExtra,n=void 0===t?{}:t,r=e.idealWebviewHeight;if(document.querySelector("article").classList.remove("pay-wenda"),n.question&&n.question.is_pay_wenda){var i=n.question,o=n.question.user_role,a=n.question.pay_status;if(1==o&&(0==a||1==a||2==a)){if(2==a)return v.a.createElement("div",{className:"wait-answer-with-append wenda-pay-article-wrap",style:{minHeight:"0px"}},v.a.createElement("button",{className:"answer-button"},"补充问题"));var s=i.answerer,c={userId:s.user_id,name:s.uname,link:s.user_schema+"&from_page=answer_detail_top_card",intro:s.user_intro,avatar:s.avatar_url,isAuthorSelf:!1,verifiedContent:s.is_verify?"PLACE_HOLDER":"",medals:s.medals,followState:s.is_following?"following":"",show:!0},l={auth_type:"",auth_info:""};try{l=JSON.parse(s.user_auth_info)}catch(e){}return c.auth_type=s.user_auth_info?l.auth_type||0:"",c.auth_info=l.auth_info,{article:this.props.article,author:c,setting:this.props.setting,useServerV:this.props.useServerV,hasExtraSpace:!1,hideFollowButton:!1,statistic:this.props.statistic,wendaExtra:n,wendaContext:null},v.a.createElement("div",{className:"wenda-pay-article-wrap"},v.a.createElement("div",{className:"wait-answer"},v.a.createElement("a",{className:"user",href:s.user_schema},v.a.createElement("img",{src:s.avatar_url}),v.a.createElement("span",null,s.uname)),v.a.createElement("div",null,"还没有回答你的问题，请耐心等待")))}if(2==o&&(this.state.is_refuse||i.is_refuse||3==a))return v.a.createElement("div",{className:"refuse-answer"},v.a.createElement("div",{className:"text"},this.state.is_refuse||i.is_refuse?"你已放弃回答，问题关闭":"问题超过48小时未回答，已关闭"));if(2==o&&(1==a||2==a)&&void 0!==r)return v.a.createElement("div",{className:"need-answer wenda-pay-article-wrap",style:{minHeight:Math.max(r,0)+"px"}},v.a.createElement("div",{className:"button-wrap"},v.a.createElement("button",{className:"answer",onClick:this.gotoAnswer.bind(this,"answer")},"立即回答"),v.a.createElement("div",{className:"sub-button-groups"},v.a.createElement("div",{className:"sub-button "+(2==a||i.append_time?"disabled":""),onClick:this.gotoAnswer.bind(this,"append")},v.a.createElement("div",{className:"text"},"问题不清楚"),v.a.createElement("div",{className:"sub-text"},"立即追问")),v.a.createElement("div",{className:"sub-button",onClick:this.refuseAnswer},v.a.createElement("div",{className:"text"},"无法回答"),v.a.createElement("div",{className:"sub-text"},"放弃咨询费用")))),2==a||i.append_time?null:v.a.createElement("div",{className:"info-wrap"},v.a.createElement("div",{className:"text"},"该问题在 ",n.question.deadline," 前回答有效"),v.a.createElement("div",{className:"text"},"回答可获得",v.a.createElement("span",{className:"money"}," ",n.question.purchased_price/100,"元 "),"咨询费用")));if(1==o&&3==a)return v.a.createElement("div",{className:"refuse-answer"},v.a.createElement("div",{className:"title-text"},"问题关闭"),v.a.createElement("div",{className:"sub-text"},"对方无法回答你的问题，费用将会在24小时内",L.client.isAndroid?"原路退回":"退回「我的-钱包-头条币」中","，问问其他人吧"));if(3==o&&4==a&&!i.has_purchased)return document.querySelector("article").classList.add("pay-wenda"),v.a.createElement("div",{className:"need-pay-answer"},v.a.createElement("div",{className:"rectangle"}),v.a.createElement("div",{className:"story-lock",onClick:this.gotoBuyHandler},v.a.createElement("div",{className:"icon"}),v.a.createElement("div",{className:"info"},i.purchased_price/100||0,L.client.isAndroid?"元":"币"," 付费围观")))}return null},t}(g.Component),Nn=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={videoPropsArr:[]},r.setCompVal(),r}return h()(t,e),t.prototype.setCompVal=function(){var e=document.querySelector("article");this.wrapDOM=document.createElement("div"),e.appendChild(this.wrapDOM),this.wrapDOM.classList.add("wenda-pay-article")},t.prototype.render=function(){return Object(y.createPortal)(v.a.createElement(xn,this.props),this.wrapDOM)},t}(g.Component),On=Re(Nn),Tn=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={render:!1},r.cardHtml=null,r.canBroadcastCardsEvent=!0,r.setCompVal(),r.wukongImageHtml=r.wukongImageHtml.bind(r),r.checkWindowSize=r.checkWindowSize.bind(r),r.fixArticle=r.fixArticle.bind(r),r.onCarouselImageSwitch=r.onCarouselImageSwitch.bind(r),r}return h()(t,e),t.prototype.setCompVal=function(){this.imageSizeInitTimer=null,this.wenda=ve("wenda_extra")||{},this.statisticsData=ve("statistics")||{}},t.prototype.checkWindowSize=function(){var e=this,t=window.innerWidth-30,n=window.innerHeight;this.statisticsData=ve("statistics"),console.info("checkWindowSize",t,n),t<=0||n<=0?this.imageSizeInitTimer=setTimeout((function(){e.checkWindowSize()}),0):(window.addEventListener("scroll",at),this.setState({render:!0},(function(){Z.onceShow()})),window.onresize=function(){var e=k().width;console.info(e,"width onresize"),e&&xt.resizeImage(e-30)},xt.initImageProcess(at),At())},t.prototype.fixArticle=function(){var e=ve("h5_settings")||{},t=ve("statistics")||{};Vt(e),Lt(),Bt(t)},t.prototype.componentDidMount=function(){var e=this;this.checkWindowSize(),this.fixArticle();var t=function(){try{Be.broadcast("card-render",document.querySelector("body"))}catch(e){console.error(e)}};window.cardScriptInited?t():qe.on("card-script-inited",t),setTimeout((function(){document.body.classList.remove("opacity")}),0),qe.on("pageStateChange",(function(t){"carousel_image_switch"===t.type&&e.wenda&&!e.wenda.is_light&&e.wenda.ansid==t.id&&e.onCarouselImageSwitch(t.status)}))},t.prototype.onCarouselImageSwitch=function(e){xt.fetchOneImage(e)},t.prototype.componentWillUnmount=function(){clearTimeout(this.imageSizeInitTimer),st(),window.removeEventListener("scroll",at),qe.off("pageStateChange")},t.prototype.wukongImageHtml=function(){var e=this.props.data,t=(void 0===e?{}:e).wendaExtra,n=void 0===t?{}:t;if(n.question&&n.question.is_pay_wenda){var r=n.question.user_role,i=n.question.pay_status,o=n.question.has_purchased;if(4!=i)return;if(3==r&&!o)return}var a=this.wenda,s=a.image_list||[];return s.length>0&&a.is_light?v.a.createElement(bn,{imageList:s}):null},t.prototype.renderPayAnswer=function(){var e=this.props,t=e.data,n=void 0===t?{}:t,r=e.idealWebviewHeight,i=n.wendaExtra,o=void 0===i?{}:i;return o.question&&o.question.is_pay_wenda?v.a.createElement(On,c()({},n,{idealWebviewHeight:r})):null},t.prototype.render=function(){var e=this.state.render;return console.info("wendaArticleRender",e),e?v.a.createElement(g.Fragment,null,v.a.createElement(Pt,null),this.wukongImageHtml(),this.renderPayAnswer()):null},t}(g.Component),Cn=(n(297),function(e){console.info("WendaFooterComp",e);var t=e.data,n=(t.article,t.wendaExtra||{}),r=t.wendaContext||{},i=parseInt(n.wd_version),o=r.is_buryed,a=n.detail_related_report_style;function s(){j.a.invoke("report")}function c(){j.a.invoke("dislike",{options:17})}function l(e){var t=e.target;j.a.invoke("dislike",{options:17},(function(e){e.err_no||(window.wendaOppose?i>=8&&(t.classList.remove("is-buryed"),t.innerHTML="反对",window.wendaOppose=!window.wendaOppose):(t.classList.add("is-buryed"),t.innerHTML="已反对",window.wendaOppose=!window.wendaOppose))}))}window.wendaOppose=o;var u=function(e){!r.can_edit_answer&&r.edit_answer_tips&&(L.client.isNewsArticleVersionNoLessThan("7.5.0")?Je.call("app.alert",{style:1,title:"系统提示",message:r.edit_answer_tips||"禁止修改",confirm_text:"知道了"}):j.a.invoke("toast",{text:r.edit_answer_tips||"禁止修改"}),L.statistics.sendUmengEventV3("modify_forbidden_notification_show",{content_type:"问答",group_id:n.ansid,text:r.edit_answer_tips}),e.preventDefault())};return r.linkurl||r.is_author||i>=6&&(i<13||2!=a&&3!=a)||0==a&&i<6?v.a.createElement("div",{className:"wd-footer"},r.linkurl?v.a.createElement("a",{href:"sslocal://webview?url="+encodeURIComponent(r.linkurl)+"&title=%E7%BD%91%E9%A1%B5%E6%B5%8F%E8%A7%88",className:"link-more",id:"wd-link-more"},"了解更多"):null,function(){if(r.is_author){if(void 0!==r.show_edit_answer){if(r.show_edit_answer)return v.a.createElement("a",{className:"editor-edit-answer no-icon "+(r.can_edit_answer?"":"disabled"),href:r.edit_answer_schema,onClick:u},"编辑")}else if(void 0!==r.can_edit_answer)return v.a.createElement("a",{className:"editor-edit-answer no-icon",href:r.edit_answer_schema},"编辑");return null}if(i>=6&&(i<13||2!=a&&3!=a)){var e=r.is_buryed?"已反对":"反对";return v.a.createElement(g.Fragment,null,v.a.createElement("a",{className:"report "+(a?"":"no-icon"),onClick:s},"举报"),a?null:v.a.createElement("span",{style:{fontSize:"12px"},className:"sep for-report"},"|"),a?null:v.a.createElement("div",{item:"dislike-and-report",className:"dislike-and-report no-icon",style:{},onClick:l},e))}return 0==a&&i<6?v.a.createElement("div",{className:"dislike-and-report",onClick:c},"不喜欢"):null}()):null}),An=(n(298),function(e){console.info("WendaCooperate",e);var t,n,r,i=e.data,o=i.setting||{},a=i.author||{};return v.a.createElement("div",{className:"wenda-panel-co"},v.a.createElement("div",{className:"wenda-cooperate"},v.a.createElement("div",{className:"authorbar wenda clearfix"},v.a.createElement("a",{className:"author-avatar-link pgc-link",href:a.link},v.a.createElement("div",{className:"author-avatar"},v.a.createElement("img",{className:"author-avatar-img",src:a.avatar})),i.useServerV&&a.auth_info?(t=a.auth_type,n="avatar_icon",(r=o.user_verify_info_conf[""+t])&&(r=r[n])?(n=r.icon,n=parseFloat(i.osVersion)>4.4?r.web_icon_android:r.icon_png,v.a.createElement("div",{className:"server-v-icon-wrap"},v.a.createElement("i",{className:"server-v-icon",style:{backgroundImage:"url("+n+")"}}," "))):null):null),i.showUserDecoration&&a.user_decoration&&a.user_decoration.url?v.a.createElement("div",{className:"avatar-decoration",style:{backgroundImage:"url("+a.user_decoration.url+")"}}):null,v.a.createElement("div",{className:"avatar-decoration avatar-night-mask"}),v.a.createElement("div",{className:"author-bar"},v.a.createElement("div",{className:"name-link-wrap"},v.a.createElement("div",{className:"name-link-w"},v.a.createElement("a",{className:"author-name-link pgc-link",href:a.link},a.name,v.a.createElement("span",{className:"cooper-tag"},"问答战略合作伙伴")))),v.a.createElement("a",{className:"sub-title-w",href:a.link},v.a.createElement("span",{className:"sub-title"},a.cooperate_text)))),v.a.createElement("a",{className:"cooperate-link",href:a.cooperate_link},v.a.createElement("span",{className:"txt"},"查看官方网站",v.a.createElement("em",{className:"iconfont"},"")))))}),In=(n(299),function(e){var t=e.data,n=(e.ansStrategy||{}).show_bottom||{},r=t.wendaExtra,i={value:r.qid,ext_value:r.nice_ans_count,extra:{enter_from:r.enter_from,ansid:r.ansid,parent_enterfrom:r.parent_enterfrom||"",group_id:r.ansid}};return Z.add("show",{domSelector:"#wenda-answer",value:"answer_detail_bottom_write_answer_show",obj:i}),v.a.createElement("a",{style:{overflow:"initial"},onClick:function(){L.statistics.sendUmengEventV3("answer_detail_bottom_write_answer",i)},href:P(n.schema||"",{source:"answer_detail_bottom_write_answer"}),className:"bottom-big-answer-button",id:"wenda-answer"},v.a.createElement("div",{className:"pr"},v.a.createElement("div",{className:"wdq"},v.a.createElement("span",null,r.title)),v.a.createElement("div",{className:"bottom-answer-btn"},v.a.createElement("div",{className:"btn-text"},v.a.createElement("i",null,""),n.text)),v.a.createElement("i",{className:"left-quote"},""),v.a.createElement("i",{className:"right-quote"},"")))}),kn=(n(300),function(e){function t(n){return u()(this,t),p()(this,e.call(this,n))}return h()(t,e),t.prototype.goToAsk=function(e){var t=this.props.wendaExtra,n=(void 0===t?{}:t).other_authors;L.statistics.sendUmengEventV3("recommend_paid_author_click",{to_user_id:n[e].user_id}),location.href=n[e].pay_question_schema},t.prototype.render=function(){var e=this;console.info("WendaAnswererList",this.props);var t=this.props,n=(t.data,t.setting),r=t.statistic,i=t.useServerV,o=t.wendaExtra,a=(void 0===o?{}:o).other_authors;return console.info("other_authors",a),a&&Array.isArray(a)&&a.length>0?v.a.createElement("div",{className:"answerer_list"},v.a.createElement("div",{className:"split"}),v.a.createElement("div",{className:"title-wrap"},v.a.createElement("div",{className:"title"},"邀请他人回答")),a.map((function(t,o){var a={link:"sslocal://profile?uid="+t.user_id,avatar:t.avatar_url,auth_info:"",auth_type:0};try{var s=JSON.parse(t.user_auth_info);a.auth_info=s.auth_info,a.auth_type=s.auth_type}catch(e){console.error(e)}return v.a.createElement("div",{className:"answerer_items no-"+o,key:o},v.a.createElement(Ue,{authorInfo:a,useServerV:i,articleType:"wenda",setting:n,statistic:r}),v.a.createElement("div",{className:"button-group"},v.a.createElement("button",{onClick:e.goToAsk.bind(e,o)},"提问")),v.a.createElement("div",{className:"author-bar"},v.a.createElement("div",{className:"name-link-wrap"},v.a.createElement("div",{className:a.auth_info?"name-link-w":"name-link-w no-intro"},v.a.createElement("a",{className:"author-name-link pgc-link",href:a.link},t.uname))),v.a.createElement("a",{className:"sub-title-w",href:a.link},v.a.createElement("span",{className:"sub-title"},a.auth_info))))})),v.a.createElement("div",{className:"bottom-info"},"没有更多了 ")):null},t}(v.a.Component)),Dn=n(90),Pn=n.n(Dn),Rn=(n(301),function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={isFolded:!1},r.lineHeight=0,r.judgeNeedFold=r.judgeNeedFold.bind(r),r.handleClickTips=r.handleClickTips.bind(r),r.stopEvent=r.stopEvent.bind(r),r.getElement=r.getElement.bind(r),r}return h()(t,e),t.prototype.componentDidMount=function(){var e=this;this.lineHeight=parseFloat(window.getComputedStyle(this.foldMainContentRef)["line-height"]),this.judgeNeedFold(),window.addEventListener("resize",this.judgeNeedFold,!1),setTimeout((function(){e.placeholderRef.style.width=e.foldTipsRef.getBoundingClientRect().width+"px"}),200)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.judgeNeedFold,!1)},t.prototype.getElement=function(e,t){this[e]=t},t.prototype.judgeNeedFold=function(){var e=this.props.foldFrom;this.setState({isFolded:!!e&&this.foldMainContentRef.getBoundingClientRect().height>this.lineHeight*e})},t.prototype.stopEvent=function(e){e&&e.stopPropagation?e.stopPropagation():window.event.cancelBubble=!0,e&&e.preventDefault?e.preventDefault():window.event.returnValue=!1},t.prototype.handleClickTips=function(e){this.props.canExpand&&(this.stopEvent(e),this.setState({isFolded:!1}),window.removeEventListener("resize",this.judgeNeedFold,!1))},t.prototype.render=function(){var e=this,t=this.props,n=t.foldTo,r=t.className,i=t.isDangerous,o=t.foldText,a=t.foldTips,s=this.state.isFolded,c=(n-1)/n*100+"%",l=s?{height:n*this.lineHeight+"px",lineHeight:this.lineHeight+"px",WebkitLineClamp:n}:null,u=s?{width:(this.foldTipsRef&&this.foldTipsRef.getBoundingClientRect().width||53)+"px",height:n*this.lineHeight+"px",shapeOutside:"polygon(100% 0, 100% 100%, 0 100%, 100% "+c+", 100% 0)",clipPath:"polygon(100% 0, 100% 100%, 0 100%, 100% "+c+", 100% 0)"}:null,d=s?{top:(n-1)*this.lineHeight+"px"}:null;return v.a.createElement("div",{className:r},v.a.createElement("div",{style:l,className:Pn()("fold_main",{"fold_text-overflow":s},{"fold_shape-overflow":s})},v.a.createElement("div",{className:"fold_triangle-placeholder",style:u,ref:function(t){return e.getElement("placeholderRef",t)}}),i?v.a.createElement("div",{className:"fold_main-content",dangerouslySetInnerHTML:{__html:o},ref:function(t){return e.getElement("foldMainContentRef",t)}}):v.a.createElement("div",{className:"fold_main-content",ref:function(t){return e.getElement("foldMainContentRef",t)}},o),v.a.createElement("div",{className:"fold_tips",style:d,ref:function(t){return e.getElement("foldTipsRef",t)},onClick:this.handleClickTips},v.a.createElement("div",{className:"fold_tips-point"},"..."),a)))},t}(v.a.Component)),Ln=(n(302),function(e){function t(n){return u()(this,t),p()(this,e.call(this,n))}return h()(t,e),t.prototype.goToAsk=function(){var e=this.props.context,t=(void 0===e?{}:e).hot_paywenda;location.href=t.post_answer_schema},t.prototype.goToDetail=function(e){var t=this.props.context,n=(void 0===t?{}:t).hot_paywenda;location.href=n.hot_data[e].answer_detail_schema},t.prototype.render=function(){var e=this;console.info("WendaAnswererList",this.props);var t=this.props,n=t.setting,r=t.statistic,i=t.useServerV,o=t.context,a=(void 0===o?{}:o).hot_paywenda,s=void 0===a?{}:a,c=s.purchased_price,l=s.user,u=s.hot_data;console.info("hot_paywenda",s);var d={link:l.user_schema,avatar:l.avatar_url,auth_info:"",auth_type:0};try{var p=JSON.parse(l.user_auth_info);d.auth_info=p.auth_info,d.auth_type=p.auth_type}catch(e){console.error(e)}return s&&Array.isArray(u)&&u.length>0?v.a.createElement("div",{className:"hot-answer-list"},v.a.createElement("div",{className:"split"}),v.a.createElement("div",{className:"title"},"热门付费问答"),v.a.createElement("div",{className:"answerer_items"},v.a.createElement(Ue,{authorInfo:d,useServerV:i,articleType:"wenda",setting:n,statistic:r}),v.a.createElement("div",{className:"button-group"},v.a.createElement("button",{onClick:this.goToAsk.bind(this)},c/100,L.client.isAndroid?"元":"币","提问")),v.a.createElement("div",{className:"author-bar"},v.a.createElement("div",{className:"name-link-wrap"},v.a.createElement("div",{className:d.auth_info?"name-link-w":"name-link-w no-intro"},v.a.createElement("a",{className:"author-name-link pgc-link",href:d.link},l.uname))),v.a.createElement("a",{className:"sub-title-w",href:d.link},v.a.createElement("span",{className:"sub-title"},d.auth_info)))),v.a.createElement("div",{className:"answer-list"},u.map((function(t,n){return v.a.createElement("div",{className:"answer-item "+(n<u.length-1?"border":""),key:n,onClick:e.goToDetail.bind(e,n)},v.a.createElement("div",{className:"question-title"},t.ques_title),v.a.createElement(Rn,{className:"question-abstract",foldText:t.ques_content,foldTips:"全文",foldFrom:3,foldTo:3,isDangerous:!0}))})))):null},t}(v.a.Component)),Mn=(n(303),function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.followDisabled=!1,r.serverSource=80,r.state={followState:"",followDisabled:!1},r.useNewBottomCardStyle=L.client.isIOS&&L.client.isNewsArticleVersionNoLessThan("6.9.4")||L.client.isAndroid&&L.client.isNewsArticleVersionNoLessThan("6.9.3"),r}return h()(t,e),t.prototype.followActionHandler=function(e){if(!this.followDisabled){this.followDisabled=!0,this.setState({followDisabled:!0});var t=this.props.data,n=t.data,r=t.statistic,i=t.wendaExtra,o=this,a=this.state.followState,s={id:n.user_id,action:a?"unfollow":"dofollow",source:this.serverSource,from:"answer_detail_bottom_card"},c={to_user_id:n.user_id,media_id:n.media_id,follow_type:"from_group",group_id:r.group_id,item_id:r.item_id,source:"detail_centre_button",server_source:this.serverSource,position:"detail"};c=Object(L.extend)(!0,c,i.gd_ext_json||{}),j.a.invoke("user_follow_action",s,(function(e){o.followDisabled=!1,console.info("user_follow_action",a,e,s),e&&1==+e.code?o.setState({followState:a?"":"following",followDisabled:!1}):o.setState({followState:a?"following":"",followDisabled:!1})})),L.statistics.sendUmengEventV3(a?"rt_unfollow":"rt_follow",c)}},t.prototype.componentDidMount=function(){var e=this;L.statistics.sendUmengWhenTargetShown(this.listDom,"user_card_show","",{section:"detail_centre_button"},!0,{version:3}),qe.on("pageStateChange",(function(t){switch(t.type){case"user_action":console.info("wendabottomuser",t,e.props.data.data.user_id),t.id==e.props.data.data.user_id&&"status"in t&&(e.setState({followState:t.status?"following":"",followDisabled:!1}),e.followDisabled=!1);break;case"pgc_action":t.id==e.props.data.data.media_id&&"status"in t&&(e.setState({followState:t.status?"following":"",followDisabled:!1}),e.followDisabled=!1)}}))},t.prototype.componentWillUnmount=function(){qe.off("pageStateChange")},t.prototype.render=function(){var e=this,t=this.props.data,n=t.data,r=t.setting,i=t.statistic,o=t.useServerV,a="subscribe-button follow-button red-follow-button "+this.state.followState+(this.state.followDisabled?" disabled":"");return this.useNewBottomCardStyle?n.show_bottom?"":" no-bottom":n.show_bottom?" no-bottom":"",n=Object(L.extend)(!0,n,n.user_auth_info),v.a.createElement("div",{className:"wenda-bt-panel",ref:function(t){e.listDom=t}},v.a.createElement("div",{className:n.show_bottom?"wenda-bt-user no-bottom":"wenda-bt-user"},v.a.createElement("div",{className:"authorbar wenda"},v.a.createElement(Ue,{authorInfo:n,useServerV:o,setting:r,statistic:i,article:{type:"wenda"}}),v.a.createElement("div",{className:"author-function-buttons",onClick:this.followActionHandler.bind(this)},v.a.createElement("button",{className:a,style:{display:"block"},id:"subscribe"},v.a.createElement("i",{className:"iconfont focusicon"}," "),v.a.createElement("i",{className:"redpack"}))),v.a.createElement("div",{className:""!==n.user_intro?"author-bar auth-intro":"author-bar"},v.a.createElement("div",{className:"name-link-wrap"},v.a.createElement("div",{className:"name-link-w"},v.a.createElement("a",{className:"author-name-link pgc-link",href:n.link}," ",n.user_name," "))),""!==n.user_intro?v.a.createElement("a",{className:"sub-title-w",href:n.link}," ",v.a.createElement("span",{className:"sub-title"},n.user_intro)," "):null,v.a.createElement("a",{className:"sub-title-w",href:n.link},v.a.createElement("span",{className:"sub-title"},n.userIntroStr))))))},t}(v.a.Component)),jn=(n(304),function(e){function t(){return u()(this,t),p()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.componentDidMount=function(){var e=this.props.question;!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.hasShow=!1,B.push(e),z()}({el:this.itemRef,id:e.qid,impressItemInfo:{imp_item_type:37,imp_item_id:e.qid+"_"+e.qid,imp_item_extra:{}}})},t.prototype.render=function(){var e=this,t=this.props.question;return v.a.createElement("a",{href:t.schema},v.a.createElement("div",{className:"question-item",ref:function(t){e.itemRef=t}},v.a.createElement("p",{className:"text"},t.title)))},t}(g.Component)),Un=function(e){function t(){return u()(this,t),p()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.componentDidMount=function(){var e=this.props.originalQid;!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};U=e}({imp_group_list_type:9,imp_group_key_name:e+"_"+e,imp_group_key:"wenda_detail",imp_group_extra:{}})},t.prototype.render=function(){var e=this.props.questions;return e&&0!==e.length?v.a.createElement("div",{className:"related-question-list"},v.a.createElement("h3",{className:"title"},"相关问题"),e.map((function(e){return v.a.createElement(jn,{key:e.qid,question:e})}))):null},t}(g.Component),Fn=(n(305),function(e){var t=e.wendaExtra||{},n=e.info||{},r=null,i={qid:t.qid,ansid:t.ansid,position:"answer_detail"};return L.statistics.sendUmengWhenTargetShown(r,"spring_festival_card_show","",i,!0,{version:3}),v.a.createElement("div",{className:"activity-card"},v.a.createElement("div",{className:"card-title"},"问答活动"),v.a.createElement("a",{onClick:function(){L.statistics.sendUmengEventV3("spring_festival_card_click",i)},href:n.open_url,className:"card-content",ref:function(e){r=e}},v.a.createElement("div",null,v.a.createElement("div",{className:"avatar-wrap"},v.a.createElement("img",{className:"avatar-image",src:n.img,alt:""}))),v.a.createElement("div",{className:"text-wrap"},v.a.createElement("div",{className:"desc"},n.desc),v.a.createElement("div",{className:"sub-desc"},v.a.createElement("span",{className:"text"},n.sub_desc)))))}),Hn=n(154),Bn=(n(330),"https://learning.snssdk.com/feoffline/learning_lazy/toutiao_wallet_web_page/page/comment_v2.html?"),Vn={content_type:"pay_wenda",is_popup:1,product:"pay_wenda"},qn={title:encodeURIComponent("评价"),right_text:encodeURIComponent("发布"),right_text_color:encodeURIComponent("#2A90D7"),popup_back_button_icon:"close",hide_more:1};L.client.isAndroid&&(qn.back_button_icon="close");var Wn=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));r.state={score:0},console.info("comment",n);var i=n.data;return r.scoreCardInfoString="您觉得回答内容质量怎么样?",r.gid=i.statistic.group_id,r.startTime=null,r.lastTimeOutDone=null,r._scoreArticle=r._scoreArticle.bind(r),r._openComment=r._openComment.bind(r),r.baseBizParams=c()({},Vn,{content_id:r.gid||""}),r}return h()(t,e),t.prototype._scoreArticle=function(e){var t=e.target,n=t&&t.dataset||{},r=parseInt(n.index)+1;if(r){var i=this.props.data,o=(void 0===i?{}:i).wendaExtra,s=void 0===o?{}:o;L.statistics.sendUmengEventV3("paid_question_score",{score:r,qid:s.qid,ansid:s.ansid,to_user_id:s.question.answerer.user_id});var l=c()({},this.baseBizParams,{score:r,originScore:r,isAnonymous:s.question.is_anonymous?1:0,log_params:encodeURIComponent(a()({qid:s.qid,to_user_id:s.question.answerer.user_id}))}),u=Bn+ue(l),d="sslocal://popup_browser?url="+encodeURIComponent(u)+"&"+ue(qn);console.info(d),location.href=d}},t.prototype._openComment=function(){var e=this.props.data,t=(void 0===e?{}:e).wendaExtra,n=void 0===t?{}:t;L.statistics.sendUmengEventV3("paid_question_comment",{qid:n.qid,ansid:n.ansid,to_user_id:n.question.answerer.user_id});var r=this.baseBizParams,i=this.state,o=i.score,s=i.markId;s&&(r.score=o,r.originScore=o,r.mark_id=s),r.isAnonymous=n.question.is_anonymous?1:0,r.log_params=encodeURIComponent(a()({qid:n.qid,to_user_id:n.question.answerer.user_id}));var c=Bn+ue(r),l="sslocal://popup_browser?url="+encodeURIComponent(c)+"&"+ue(qn);console.info("schema22"),console.info(l),location.href=l},t.prototype.render=function(){var e=this._scoreArticle,t=this.scoreCardInfoString,n=this.state.score;return console.info("_renderHtml1111"),v.a.createElement("div",{className:"pcard wenda-nscore-star "},v.a.createElement("div",{className:"pcard-clearfix score-wrapper"},v.a.createElement("div",{className:"info-wrapper "},v.a.createElement("div",{className:"title question pcard-w1"},t))),v.a.createElement("div",{onClick:e,className:"star-wrap"},v.a.createElement("span",{className:"star","data-index":"0","data-selected":n>0?"true":"false"}),v.a.createElement("span",{className:"star","data-index":"1","data-selected":n>1?"true":"false"}),v.a.createElement("span",{className:"star","data-index":"2","data-selected":n>2?"true":"false"}),v.a.createElement("span",{className:"star","data-index":"3","data-selected":n>3?"true":"false"}),v.a.createElement("span",{className:"star","data-index":"4","data-selected":n>4?"true":"false"})),v.a.createElement("div",{className:"button-wrap"},v.a.createElement("button",{onClick:this._openComment},"写评价")))},t}(g.Component),Gn=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));console.info("CommentItem",n);var i=n.evaluation,o=n.data,a=void 0===o?{}:o;return r.gid=a.statistic.group_id,r.baseBizParams=c()({},Vn,{content_id:r.gid||"",mark_id:i.mark_id}),r.gotoComment=r.gotoComment.bind(r),r}return h()(t,e),t.prototype.renderVIcon=function(){var e=this.props,t=e.data,n=void 0===t?{}:t,r=e.evaluation,i=n.useServerV,o=n.setting;if(i&&(r.user.user_auth_info||r.user.auth_type)){var a=r.user.auth_type;try{a=JSON.parse(r.user.user_auth_info).auth_type}catch(e){console.error(e)}if(void 0!==a){var s=Object(L.buildServerVIcon)(a,"avatar_icon",o.user_verify_info_conf);if(s)return v.a.createElement("div",{dangerouslySetInnerHTML:{__html:s}})}}return""},t.prototype.renderStar=function(){var e=this.props.evaluation;return[0,1,2,3,4].map((function(t){return v.a.createElement("span",{className:"star","data-selected":e.score>t?"true":"false"})}))},t.prototype.renderTime=function(e){return Object(Hn.formatRelativeTime)(e)},t.prototype.gotoComment=function(){var e=this.props.evaluation,t=this.props.data.wendaExtra,n=void 0===t?{}:t;console.info("gotoComment",e),L.statistics.sendUmengEventV3("paid_question_comment_modify_click",{score:e.score,qid:n.qid,ansid:n.ansid,to_user_id:n.question.answerer.user_id});var r=c()({},this.baseBizParams,{originScore:e.score,score:e.score,isAnonymous:n.question.is_anonymous?1:0,log_params:encodeURIComponent(a()({qid:n.qid,to_user_id:n.question.answerer.user_id}))}),i=Bn+ue(r),o="sslocal://popup_browser?url="+encodeURIComponent(i)+"&"+ue(qn);console.info("schema111"),console.info(o),location.href=o},t.prototype.render=function(){this.props;var e=this.props,t=e.evaluation,n=e.data,r=1==(void 0===n?{}:n).wendaExtra.question.user_role,i=""+t.score,o=t.content&&0===t.content.indexOf("当前用户暂未填写评价")?"":t.content||"";return v.a.createElement("div",{className:"comment-list-wrap"},v.a.createElement("div",{className:"title-wrap"},v.a.createElement("div",{className:"title"},r?"我的评价":"提问者评价"),v.a.createElement("div",{className:"score"},v.a.createElement("span",{className:"score-text"},1==i.length?i+".0":i),v.a.createElement("span",{className:"score-star"},[0,1,2,3,4].map((function(e){return v.a.createElement("span",{className:"star","data-selected":t.score>e?"true":"false"})}))))),v.a.createElement("div",{className:"comment-item-wrap"},v.a.createElement("div",{className:"avatar"},v.a.createElement("a",{className:"author-avatar-link","aria-label":"个人主页",href:t.user.user_schema},v.a.createElement("div",{className:"author-avatar"},v.a.createElement("img",{className:"author-avatar-img",src:t.user.avatar_url,alt:""}),"}"),this.renderVIcon()),t.user.user_decoration&&t.user.user_decoration.url?v.a.createElement("div",{className:"avatar-decoration","aria-hidden":"true",style:{backgroundImage:"url("+t.user.user_decoration.url+")"}}):null,v.a.createElement("a",{className:"avatar-decoration avatar-night-mask pgc-link","aria-hidden":"true",href:t.user.user_schema})),v.a.createElement("div",{className:"content-wrap"},v.a.createElement("a",{href:t.user.user_schema,className:"name"},t.user.uname),v.a.createElement("a",{href:t.user.user_schema,className:"intro"},t.user.user_intro),t.tag_list&&t.tag_list.length>0?v.a.createElement("div",{className:"tag-list"},t.tag_list.map((function(e,t){return v.a.createElement("span",{className:"tag-item"},e)}))):null,v.a.createElement("div",{className:"content"},o),v.a.createElement("div",{className:"time"},v.a.createElement("span",null,this.renderTime(t.modify_time)),r?v.a.createElement(g.Fragment,null,v.a.createElement("span",null," · "),v.a.createElement("span",{onClick:this.gotoComment},"修改评价")):null))))},t}(g.Component),zn=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={score:0},r}return h()(t,e),t.prototype.componentDidMount=function(){var e=this;qe.on("payWendaMarked",(function(t){var n=e.props,r=n.statistic,i=(n.author,n.context),o=void 0===i?{}:i,a=n.wendaExtra,s=(void 0===a?{}:a).question,c=void 0===s?{}:s,l=o.evaluation||{};console.info("pay_wenda_marked",t,e.props),r.group_id==t.answerId&&e.setState({evaluation:{comment_id:l.comment_id||"",content:t.content,create_time:l.create_time||t.actionTime/1e3,mark_id:t.markId,modify_time:t.actionTime/1e3,score:t.score,tag_list:t.selectedTags||[],user:l.user||c.user}})}))},t.prototype.render=function(){console.info("Comment",this.props);var e=this.props,t=e.wendaExtra,n=e.context,r=void 0===n?{}:n,i=1==t.question.user_role&&4==t.question.pay_status,o=this.state.evaluation||r.evaluation;return o||i?v.a.createElement("div",{className:"wenda-comment-wrap "+(t.question.is_anonymous?"":"no-margin")},v.a.createElement("div",{className:"split"}),o?v.a.createElement(Gn,{data:this.props,evaluation:o}):i?v.a.createElement(Wn,{data:this.props}):null):null},t}(g.Component),Yn=(n(331),function(e){console.info("WendaFooter",e);var t=e.data||{},n=t.wendaExtra||{},r=t.wendaContext||{},i=t.author||{},o=t.setting||{},a=t.statistic||{},s=t.useServerV,l=t.context||{},u=l.cards||[],d=t.article||{},p=n.mis_coop_user||{},f=p.link||"";i.cooperate_text=p.profile,i.cooperate_link=-1!==f.indexOf("http")?"sslocal://webview?url="+encodeURIComponent(f)+"&title=%E7%BD%91%E9%A1%B5%E6%B5%8F%E8%A7%88":f;var h={wendaContext:r,wendaExtra:n,setting:o,author:i,showUserDecoration:L.client.isNewsArticleVersionNoLessThan("6.5.6"),osVersion:L.client.osVersion,useServerV:s},m=parseInt(t.wendaExtra.wd_version),_=n.show_post_answer_strategy||{},y=o.is_liteapp,w=document.querySelector("article")&&document.querySelector("article").clientHeight||0,E=k().height,b=n.question&&n.question.is_pay_wenda,S=function(e){Z.add("show",e)};return v.a.createElement(g.Fragment,null,function(e){return m>=3?v.a.createElement(Cn,{data:e}):null}(t),v.a.createElement("div",{className:"footer-before-cards-container"}),v.a.createElement("div",{className:"footer-cards-container"},function(e){if(!b){if(!window.disabledBroadcastCardsEvent&&l.wenda_context){var t=function(){if(w>E){if(window.cardEvent&&window.cardEvent.broadcast("cards",document.querySelector(".footer-cards-container"),l),l.cards&&l.cards.length){var e=l.cards[0].type;window.cardsMonitor&&window.cardsMonitor(".footer-cards-container","footer",1e3,{card_type:e})}}else if(l.article_com_tmas||l.promotions){var t={article_com_tmas:l.article_com_tmas,promotions:l.promotions};window.cardEvent&&window.cardEvent.broadcast("cards",document.querySelector(".footer-cards-container"),t)}};window.cardScriptInited?t():qe.on("card-script-inited",t),window.disabledBroadcastCardsEvent=!0}if("wenda"===d.type&&n&&p.uid===i.userId)return v.a.createElement(An,{data:h});if(m<1||m>=3&&1==n.showMode)return null;var c=1,f=0,g={};if(u&&Array.isArray(u)&&u.find((function(e){var t=e.type||"";return"auto"===t||"auto_show"===t||"auto_dealer"===t||"new_auto_dealer"===t?(c=0,!0):("author"===t&&(c=0,f=1,g=Object(L.extend)(!0,{},e)),!1)})),f&&!r.is_author&&!g.is_concern_user&&w>1.5*E&&!y){var S=n&&n.gd_ext_json?n.gd_ext_json.category_name:"";if(g.link="sslocal://profile?uid="+g.user_id+"&refer=wenda&from_page=detail_answer_wenda_centre_button&category_name="+S,g.user_auth_info)try{g.user_auth_info=JSON.parse(g.user_auth_info)}catch(e){g.user_auth_info={}}var x=[];x.push(L.fmt.formatCount(g.fans_count,"0")+"粉丝"),x.push(L.fmt.formatCount(g.user_digg_count,"0")+"赞"),g.userIntroStr=x.join(" · ");var N={data:g,statistic:a,setting:o,useServerV:s,wendaExtra:n};return v.a.createElement(Mn,{data:N})}return"show_bottom"in _&&c&&!y&&w>2*E?v.a.createElement(In,{data:e,ansStrategy:_}):null}}(t)),function(){var t=void 0;try{t=l.labels.labels_words.length}catch(e){t=-1}var r=!l.activity_info&&w>1.5*E&&!y,i=t>0&&(L.client.isIOS?w>(o.wenda_search_show_height_ratio||.5)*E:w>(o.wenda_search_show_height||340)),s=n.question&&n.question.is_pay_wenda&&4==n.question.pay_status,u=n.question&&n.question.is_pay_wenda&&1==n.question.user_role&&3==n.question.pay_status&&n.other_authors,d=n.question&&n.question.is_pay_wenda&&4==n.question.pay_status&&l.hot_paywenda,p=e.data||{},f=c()({},p,{addShowEvt:S,statisticsData:a});return v.a.createElement(g.Fragment,null,l.activity_info?v.a.createElement(Fn,{info:l.activity_info,wendaExtra:n}):null,s?v.a.createElement(zn,p):null,r?v.a.createElement(Un,{questions:l.related_questions,originalQid:n.qid}):null,u?v.a.createElement(kn,p):null,d?v.a.createElement(Ln,p):null,i?v.a.createElement(tn,{data:f}):null)}())}),Xn=(n(332),Re(wn)),Kn=Re(Tn),Jn=Re(Yn),$n=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={data:{}},r.lastSetH5ExtraFlag=!1,r.setArticle=r.setArticle.bind(r),r.article=null,r.updateIdealWebviewHeight=r.updateIdealWebviewHeight.bind(r),Je.on("view.onIdealwebviewHeightChange",r.updateIdealWebviewHeight),setTimeout((function(){void 0===r.state.idealWebviewHeight&&r.setState({idealWebviewHeight:0})}),500),r}return h()(t,e),t.prototype.componentWillUnmount=function(){Je.off("view.onIdealwebviewHeightChange",this.updateIdealWebviewHeight)},t.prototype.updateIdealWebviewHeight=function(e){var t=this;e&&et((function(n){var r=e.data,i=void 0===r?{}:r,o=n&&n.device_type&&n.device_type.indexOf("iPhone X")>-1?i.height-32:i.height;t.setState({idealWebviewHeight:o})}))},t.prototype.setArticle=function(e,t){var n=this.props.h5Extra,r=(void 0===n?{}:n).wenda_extra,i=!1;if(r&&r.question&&r.question.is_pay_wenda){if(4!=r.question.pay_status)return void document.body.classList.add("pay-wenda");if(e&&"v55"!==e){var o=e.indexOf("<article>"),a=e.indexOf("</article>");e.substring(o+9,a)!=t&&(i=!0)}document.body.classList.remove("pay-wenda"),document.body.classList.add("pay-wenda-read")}else document.body.classList.remove("pay-wenda"),document.body.classList.remove("pay-wenda-read");if(e&&"v55"!==e&&(!t||i)){var s=e.indexOf("<article>"),c=e.indexOf("</article>");return e=e.substring(s+9,c),$("article").html(e),_.a.sendCustomTimeLog("end_bind_content","android_"+window.APP_VERSION,+new Date-window.startTimestamp),e}return t&&e&&"v55"!==e?t:null},t.getDerivedStateFromProps=function(e,t){if(console.info("getDerivedStateFromProps",e,t),e.context&&e.context.wenda_context&&e.context.wenda_context.gd_ext_json&&!t.data.setGdExtJson){var n=e.context.wenda_context.gd_ext_json||{};if("string"==typeof e.context.wenda_context.gd_ext_json){try{n=JSON.parse(e.context.wenda_context.gd_ext_json)}catch(e){console.error("gdExtJson_error",e),n={}}ye("wenda_extra.gd_ext_json",n||{});try{var r=ve("author.link");ye("author.link",r+="&category_name="+n.category_name)}catch(e){console.error("setWendaAuthorLink",e)}e.update("h5Extra")(ve())}return{data:{setGdExtJson:!0}}}},t.prototype.render=function(){var e,t,n=this.props,r=n.context,i=n.h5Extra,o=n.content;return this.article=this.setArticle(o,this.article),e=function(e,t,n){return e?{article:e.article,author:e.author,setting:e.h5_settings,useServerV:e.useServerV,hasExtraSpace:e.hasExtraSpace,hideFollowButton:e.hideFollowButton,statistic:e.statistics,wendaExtra:ve("wenda_extra"),wendaContext:t?t.wenda_context:null}:null}(i,r),t=function(e,t,n){return e&&e.wenda_extra?{wendaExtra:e.wenda_extra,article:e.article,wendaContext:t?t.wenda_context:void 0,setting:e.h5_settings,useServerV:ve("useServerV"),author:e.author,context:t,statistic:e.statistics}:null}(i,r),console.info("wenda render2",e),v.a.createElement(g.Fragment,null,v.a.createElement(pn,{parentDom:document.querySelector("header"),replaceFlag:"1",tag:"header"},e?v.a.createElement(Xn,{data:e}):null),e?v.a.createElement(Kn,{context:r,data:e,idealWebviewHeight:this.state.idealWebviewHeight}):null,t?v.a.createElement(pn,{parentDom:document.querySelector("footer"),replaceFlag:"1",tag:"footer"},v.a.createElement(Jn,{data:t})):null)},t}(g.Component),Zn=function(e){function t(n){return u()(this,t),p()(this,e.call(this,n))}return h()(t,e),t.prototype.tellNativeHeaderMess=function(){Z.add("header",{domSelector:"#profile",JsBridge:"showTitleBarPgcLayout"})},t.prototype.componentDidMount=function(){L.client.isAndroid&&this.tellNativeHeaderMess()},t.prototype.render=function(){var e=this.props.data;return v.a.createElement("div",{id:"header"},v.a.createElement(je,e),e.author.show?v.a.createElement(Ot,e):v.a.createElement("div",{style:{height:"20px"}}))},t}(v.a.Component),Qn=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={render:!1},r.setCompVal(),r.checkWindowSize=r.checkWindowSize.bind(r),r.fixNovelArticle=r.fixNovelArticle.bind(r),r.fixArticle=r.fixArticle.bind(r),r.onCarouselImageSwitch=r.onCarouselImageSwitch.bind(r),r.setArticle=r.setArticle.bind(r),r.setNovelData=r.setNovelData.bind(r),r}return h()(t,e),t.prototype.setCompVal=function(){this.article=null,this.novelData=null,this.canInitImage=!1,this.haveInitedImage=!1,this.imageSizeInitTimer=null,this.statisticsData=ve("statistics")||{}},t.prototype.checkWindowSize=function(){var e=this,t=window.innerWidth-30,n=window.innerHeight;this.statisticsData=ve("statistics"),t<=0||n<=0?this.imageSizeInitTimer=setTimeout((function(){e.checkWindowSize()}),0):(window.addEventListener("scroll",at),this.setState({render:!0},(function(){Z.onceShow()})),window.onresize=function(){var e=k().width;console.info(e,"width onresize"),e&&xt.resizeImage(e-30)},this.canInitImage=!0,At())},t.prototype.fixNovelArticle=function(){var e=this;this.novelData.can_read&&!this.novelData.is_story||setTimeout((function(){console.info("fixNovel");try{var t="";if(e.novelData.is_story){if(e.novelData.can_read){var n=document.getElementById("!__PGC_COLUMN__");return void(n&&n.parentNode.removeChild(n))}var r=document.querySelector("article").innerHTML,i=r.indexOf("{!-- PGC_COLUMN --}");if(i<0)return;t=r.substring(0,i)}else{for(var o=document.querySelectorAll("a.image"),a=0;a<o.length;a++){var s=o[a];s.parentNode.removeChild(s)}t=document.querySelector("article").innerHTML.substring(0,200)}e.updateAllData(t)}catch(e){console.error(e),b.a.captureException(e)}}),0)},t.prototype.fixArticle=function(){var e=ve("h5_settings")||{};Vt(e),Lt()},t.prototype.componentDidMount=function(){var e=this;this.checkWindowSize(),this.fixArticle(),setTimeout((function(){document.body.classList.remove("opacity")}),0),qe.on("pageStateChange",(function(t){"carousel_image_switch"===t.type&&e.statisticsData.group_id==t.id&&e.onCarouselImageSwitch(t.status)})),qe.on("checkContent",(function(){return e.fixNovelArticle()}))},t.prototype.onCarouselImageSwitch=function(e){xt.fetchOneImage(e)},t.prototype.componentWillUnmount=function(){clearTimeout(this.imageSizeInitTimer),st(),window.removeEventListener("scroll",at),qe.off("pageStateChange"),qe.off("checkContent")},t.prototype.knowMoreHtml=function(){if(this.props.context&&this.props.context.know_more_url){var e={context:this.props.context,statisticsData:this.statisticsData};return v.a.createElement(Rt,{data:e})}return null},t.prototype.setArticle=function(e,t){if(e&&"v55"!==e){var n=e.indexOf("<article>"),r=e.indexOf("</article>");if(n>-1&&r>-1&&(e=e.substring(n+9,r)),e===t)return t;$("article").html(e),this.haveInitedImage=!1;var i=function(){try{Be.broadcast("card-render",document.querySelector("body"))}catch(e){console.error(e)}};return window.cardScriptInited?i():qe.on("card-script-inited",i),t||_.a.sendCustomTimeLog("end_bind_content","android_"+window.APP_VERSION,+new Date-window.startTimestamp),e}return null},t.prototype.setNovelData=function(){var e=ve("novel_data")||{};return this.canInitImage&&!this.haveInitedImage&&e.can_read&&(xt.initImageProcess(at),this.haveInitedImage=!0),e},t.prototype.updateAllData=function(e){this.article=this.setArticle(e,this.article),this.novelData=this.setNovelData()},t.prototype.render=function(){var e=this.props.content,t=this.state.render;return this.updateAllData(e),t?v.a.createElement(g.Fragment,null,v.a.createElement(Pt,null),this.knowMoreHtml()):null},t}(g.Component),er=(n(333),function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.onGetSeriesLinkPositionTimer=null,r}return h()(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.novelData,n=e.statistic;1==t.pay_status&&1==t.auto_pay_status&&1==t.book_free_status&&$.ajax({url:"https://ic.snssdk.com/novel/trade/purchase/v1/auto_pay/",dataType:"jsonp",data:{book_id:t.book_id,item_id:n.item_id,device_platform:L.client.isIOS?1:2},error:function(e,t,n){console.info(e,t,n)},success:function(e,t,n){console.info("fhru",e)}}),255==t.pay_status&&1==t.book_free_status&&j.a.invoke("toast",{text:"系统异常 请稍后再试",icon_type:"icon_error"}),this.storyPayRef&&L.statistics.sendUmengWhenTargetShown(this.storyPayRef,"show_content_go_purchase","",{group_id:n.group_id,enter_from:n.enter_from,category_name:n.category_name,is_novel:1,bookshelf_type:"novel",log_pb:n.log_pb,genre:t.genre,platform:t.platform},1,{version:3})},t.prototype.componentWillUnmount=function(){this.onGetSeriesLinkPositionTimer&&clearInterval(this.onGetSeriesLinkPositionTimer)},t.prototype.novelUpdateHandler=function(){var e=this.props,t=e.novelData,n=e.statistic;if(L.client.isAndroid)location.href="http://app.toutiao.com/news_article/";else{var r="";et((function(e){switch(e.app_name){case"news_article_social":r="itms-apps://itunes.apple.com/cn/app/id582528844";break;case"explore_article":r="itms-apps://itunes.apple.com/cn/app/id672151725";break;default:r="itms-apps://itunes.apple.com/cn/app/id529092160"}j.a.invoke("openApp",{url:r},null)}))}L.statistics.sendUmengEventV3("click_version_update",{group_id:n.group_id,item_id:n.item_id,enter_from:"detail",category_name:"novel_channel",novel_id:t.book_id,concern_id:t.concern_id,log_pb:""})},t.prototype.novelBuyHandler=function(e){var t=this.props,n=t.novelData,r=t.statistic;"story"===e?L.statistics.sendUmengEventV3("click_content_pay",{group_id:r.group_id,item_id:r.item_id,enter_from:"purchase_reminder",category_name:"novel_channel",novel_id:n.book_id,concern_id:n.concern_id,log_pb:r.log_pb,bookshelf_type:"novel",iss_novel:1}):L.statistics.sendUmengEventV3("click_purchase_read",{group_id:r.group_id,item_id:r.item_id,enter_from:r.enter_from,category_name:r.category_name,novel_id:n.book_id,concern_id:n.concern_id,log_pb:""}),j.a.invoke("is_login",{},(function(e){if(e&&(e.is_login||1==e.code)){var t="https://ic.snssdk.com/novel/book/purchase/v1/novel_pay/page/single-chapter?pull_close=1&book_id="+n.book_id+"&item_id="+r.item_id+"&group_id="+r.group_id;t="sslocal://popup_browser?url="+encodeURIComponent(t)+"&should_append_common_param=1",L.client.isAndroid?t+="&back_button_icon=close":t+="&popup_back_button_icon=close",location.href=t}else j.a.invoke("login",{platform:""})}))},t.prototype.renderNovelPay=function(){var e=this,t=this.props,n=t.novelData,r=t.statistic,i=t.isLogin;if(null==n.pay_status)return L.statistics.sendUmengEventV3("go_version_update",{group_id:r.group_id,item_id:r.item_id,enter_from:"version_update",category_name:"novel_channel",novel_id:n.book_id,concern_id:n.concern_id,type:0,log_pb:""}),v.a.createElement("div",{className:"pay"},v.a.createElement("div",{className:"split"}),v.a.createElement("div",{className:"content"},"当前版本不支持阅读付费章节，请升级到最新版本继续阅读"),v.a.createElement("div",{className:"button"},v.a.createElement("button",{className:"update",onClick:this.novelUpdateHandler.bind(this)})));if(2==n.pay_status||-1==n.pay_status){var o=1==n.recommend_limited_free&&("__all__"==r.category_name||"fake"==r.category_name||"ugc_fake"==r.category_name)&&!1===i;return n.is_story?(document.querySelector("footer").classList.add("footer-offset"),v.a.createElement("div",{className:"story-pay",ref:function(t){e.storyPayRef=t}},v.a.createElement("div",{className:"rectangle"}),v.a.createElement("div",{className:"story-lock",onClick:this.novelBuyHandler.bind(this,"story")},v.a.createElement("div",{className:"icon"}),v.a.createElement("div",{className:"info"},o?"登录后免费阅读":"购买后阅读全部内容")))):(L.statistics.sendUmengEventV3("go_purchase_reminder",{group_id:r.group_id,item_id:r.item_id,enter_from:"version_update",category_name:"novel_channel",novel_id:n.book_id,concern_id:n.concern_id,type:0,log_pb:""}),v.a.createElement("div",{className:"pay"},v.a.createElement("div",{className:"split"}),v.a.createElement("div",{className:"button"},v.a.createElement("button",{className:"buy",onClick:this.novelBuyHandler.bind(this)},o?"登录后免费阅读":"购买后继续阅读"))))}return console.info("remove offset"),null},t.prototype.componentDidUpdate=function(){this.props.novelData.can_read&&document.querySelector("footer").classList.remove("footer-offset")},t.prototype.render=function(){return this.props.novelData.can_read?null:this.renderNovelPay()},t}(v.a.Component)),tr=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={data:{}},console.info("[component/Footer]"),r._getCards=r._getCards.bind(r),r.canBroadcastCardsEvent=!0,r}return h()(t,e),t.prototype._getCards=function(e){var t=this,n=e.context||{};if(this.canBroadcastCardsEvent&&!0==(!!e.novelData.is_story||void 0!==e.isLogin&&!0===e.novelData.can_read)){var r=function(){try{if(window.cardEvent&&window.cardEvent.broadcast("cards",document.querySelector(".footer-cards-container"),n),n.cards&&n.cards.length){var e=n.cards[0].type,r=(t.props.data||{}).novelData,i=void 0===r?{}:r;window.cardsMonitor&&window.cardsMonitor(".pcard.fiction","footer",1e3,{card_type:e,is_novel:1,book_id:i.book_id})}}catch(e){b.a.captureException(e)}};window.cardScriptInited?r():qe.on("card-script-inited",r),this.canBroadcastCardsEvent=!1}},t.prototype.componentDidUpdate=function(e){var t=this.props.data||{},n=e.data||{};if(!0===t.novelData.can_read&&!1===n.can_read&&!1===this.canBroadcastCardsEvent)try{window.cardEvent&&window.cardEvent.broadcast("cards-update",document.querySelector(".footer-cards-container"),t.context)}catch(e){b.a.captureException(e)}},t.prototype.render=function(){var e=this.props.data||{};return v.a.createElement(g.Fragment,null,v.a.createElement("div",{className:"footer-before-cards-container"}),v.a.createElement(er,e),v.a.createElement("div",{className:"footer-cards-container"},e.context?this._getCards(e):null))},t}(g.Component),nr=n(94),rr=n.n(nr);function ir(e){var t=e.key,n=void 0===t?"":t,r=e.defaultValue,i=void 0===r?{}:r,o=e.diskStorage,a=void 0!==o&&o,s=e.callback,c=void 0===s?function(){}:s;Je.call("app.getStorage",{key:n,disk_storage:a},(function(e){var t=e||{},n=t.code,r=t.data,o=1===n&&r&&r.value||i;"function"==typeof c&&c(o)}))}function or(e){var t=e.key,n=void 0===t?"":t,r=e.data,i=void 0===r?"":r,o=e.diskStorage,a=void 0!==o&&o,s=e.callback,c=void 0===s?function(){}:s;Je.call("app.setStorage",{key:n,data:i,disk_storage:a},(function(e){"function"==typeof c&&c(e)}))}function ar(e){var t,n=e.novel_data,r=void 0===n?{}:n,i=e.statistics,o=void 0===i?{}:i;t=function(e){var t=e.data||{},n="novel_feed_"+(Number(t.user_id)?String(t.user_id||""):"");ir({key:n,diskStorage:!0,callback:function(e){var t={};try{t=JSON.parse(e||"{}")||{}}catch(e){console.error("Novel RecData JSON.parse error",e)}var i=r.book_id||"",s=t[i]||{};s.group_id=o.group_id,s.enter_from=o.enter_from,s.category_name=o.category_name,s.log_pb=a()(o.log_pb),s.present_time||(s.present_time=String((new Date).getTime())),t[i]=s,or({key:n,data:a()(t),diskStorage:!0})}})},Je.call("app.getAppInfo",{},(function(e){"function"==typeof t&&t(e)}))}function sr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY.MM.DD hh:mm:ss",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"s",r=new Date("s"===n?1e3*e:e),i=r.getFullYear(),o=r.getMonth()+1,a=r.getDate(),s=r.getHours(),c=r.getMinutes(),l=r.getSeconds();return t.replace(/Y{4}|M{1,2}|D{1,2}|h{1,2}|m{1,2}|s{1,2}/g,(function(e){switch(e){case"YYYY":return i;case"M":return o;case"MM":return cr(o);case"D":return a;case"DD":return cr(a);case"h":return s;case"hh":return cr(s);case"m":return c;case"mm":return cr(c);case"s":return l;case"ss":return cr(l);default:return""}}))}function cr(e){return("0"+e).slice(-2)}var lr=Re(Zn),ur=Re(Qn),dr=Re(tr),pr=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={data:{}},r.checkLoginStatus=r.checkLoginStatus.bind(r),r}return h()(t,e),t.prototype.componentDidMount=function(){var e=this,t=window.Page,n=(t=void 0===t?{}:t).h5_settings,r=(n=void 0===n?{}:n).pgc_card_info,i=(r=void 0===r?{}:r).novel_style;(void 0===i?0:i)&&this.addToHomePage(),qe.on("setExtra",(function(){return e.checkLoginStatus()}))},t.prototype.componentWillUnmount=function(){qe.off("setExtra")},t.prototype.componentDidUpdate=function(){document.querySelector("#header")&&!window.hadSentRenderFinish&&(L.statistics.sendBytedanceRequest("renderFinish?timeStamp="+(new Date).getTime()),window.felog("fe_renderFinish","called"),window.hadSentRenderFinish=!0)},t.prototype.checkLoginStatus=function(){var e,t=this;e=function(e){ye("isLogin",e),window.isLogin=e;var n=le(ve("novel_data"),ve());ye("novel_data.can_read",n),ye("author.show",n||ve("novel_data.is_story")),t.props.update("h5Extra")(ve()),ar(ve())},j.a.invoke("is_login",{},(function(t){console.info("is_login",t),t&&(t.is_login||1==t.code)?e&&e(!0):e&&e(!1)}))},t.prototype.addToHomePage=function(){var e="novel_last_request_channel_front_in_details",t=function(t){new rr.a((function(e){Je.call("addChannel",{web_url:"https://novel.snssdk.com/feoffline/novel/channel/index.html",category:"novel_channel",name:"小说",type:5,flags:1},(function(t){var n=!1;t&&1===Number(t.code)&&(n=!0),e(n)}))})).then((function(n){n&&or({key:e,diskStorage:!0,data:t})}))};ir({key:e,diskStorage:!0,defaultValue:null,callback:function(e){var n,r,i,o,a=new Date,s=new Date(+e);e&&(n=s.getTime(),r=a.getTime(),i=Number(n),o=Number(r)||(new Date).getTime(),i&&o&&sr(i,"YYYY-MM-DD","ms")===sr(o,"YYYY-MM-DD","ms"))||new rr.a((function(e){Je.call("getSubScribedChannelList",{},(function(t){var n=t.data,r=(n=void 0===n?{}:n).list;(void 0===r?[]:r).slice(0,6).indexOf("novel_channel")<0?e(!1):e(!0)}))})).then((function(e){e||t(a.getTime())}))}})},t.prototype.render=function(){var e=this.props,t=e.context,n=e.h5Extra,r=e.content,i=function(e,t,n){return e&&n?{article:e.article,author:e.author,setting:e.h5_settings,useServerV:e.useServerV,hasExtraSpace:e.hasExtraSpace,hideFollowButton:e.hideFollowButton,statistic:e.statistics}:null}(n,0,r),o=function(e,t,n){return e&&n?{novelData:e.novel_data,setting:e.h5_settings,statistic:e.statistics,context:t,isLogin:e.isLogin}:null}(n,t,r);return n.credible_content||qe.broadcast("checkContent",null,null),v.a.createElement(g.Fragment,null,v.a.createElement(pn,{parentDom:document.querySelector("header"),replaceFlag:"1",tag:"header"},i?v.a.createElement(lr,{data:i}):null),i?v.a.createElement(ur,{content:r,context:t}):null,o?v.a.createElement(pn,{parentDom:document.querySelector("footer"),replaceFlag:"1",tag:"footer"},v.a.createElement(dr,{data:o})):null)},t}(g.Component),fr=!1;function hr(e){e=window.DEBUG_CARD_URL||e,window.ARTICLE_CARD_URL=e;var t=function(){console.info("load card start");var t=document.createElement("script");t.setAttribute("id","card-script"),t.onerror=function(n){fr=!0,L.statistics.sendUmengEventV3("aritcle_card",{version:"1631",type:"load_card_error",card_url:e,error:n.toString()}),t.parentNode.removeChild(t),t=null},t.onload=function(){L.statistics.sendUmengEventV3("aritcle_card",{version:"1631",card_url:e,type:"load_card_success"}),window.cardScriptInited=!0,qe.broadcast("card-script-inited")},t.src=e,document.head.appendChild(t)};"complete"===document.readyState?setTimeout(t,0):window.addEventListener("load",t)}function mr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};console.info("cardsMonitor",e,t,n),setTimeout((function(){if(window.Page){var n=$(e).children().length;L.statistics.sendUmengEventV3("article_card_render",c()({status:n?"success":"error",type:window.Page.article.type,group_id:window.Page.statistics.group_id,item_id:window.Page.statistics.item_id,position:t,version:"1631"},r))}}),n)}function _r(){window.pgcEvent=Be,window.cardEvent=Ve,window.PageEvent=qe,window._={},window._.escape=L.escape,window.needCleanDoms=[],window.send_umeng_event=L.statistics.sendUmengEvent,window.sendUmengEventV3=L.statistics.sendUmengEventV3,window.sendUmengWhenTargetShown=L.statistics.sendUmengWhenTargetShown,window.client=L.client,window.ToutiaoJSBridge.call=j.a.invoke,window.ToutiaoJSBridge.on=j.a.on,window.getCommonParams=et,window.Raven=b.a,window.React=v.a,window.ReactDOM=w.a,n(345),window.$=$,window.cardsMonitor=mr;var e="https://s0.pstatp.com/toutiao/article_card/card_v71.min.js";L.client.isNewsArticleVersionNoLessThan("7.5.3")?window.JSBridge.call("app.getArticleConfig",{},(function(t){t.data&&t.data.article_card_url&&(e=t.data.article_card_url),hr(e)})):hr(e)}var gr=["s","m","l","xl"];function vr(e,t,n){var r=t.split("_")[0];if(n.indexOf(r)>-1){var i=document.body.classList;n.forEach((function(t){i.remove(e+t)})),i.add(e+r)}}function yr(e){vr("font_",e,gr);var t=e.split("_")[0];gr.indexOf(t)>-1&&yt.tellNativeImagesPosition()}function wr(e){if([0,1,"0","1"].indexOf(e)>-1){e=parseInt(e),document.body.classList[e?"remove":"add"]("night");try{$(document).trigger("dayModeChange",e)}catch(e){console.error(e)}}}function Er(e){wr(ve("pageSettings.is_daymode")?1:0),yr(ve("pageSettings.font_size","m")),function(e){if(!ve("wenda_extra.question.is_pay_wenda")){vr("style_",e+"",["0","1","2","3","4","5","6","7"])}}(ve("h5_settings.font_size_ui_test",7));var t=ve("article.type"),n=ve("h5_settings.is_liteapp"),r=ve("styles.image_marginless");e.classList.add(t),e.classList.add("android"),e.classList.add(window.APP_VERSION),n&&j.a.invoke("appInfo",{},(function(t){1261!=t.aid&&1221!=t.aid||e.classList.add("lite")})),r&&e.classList.add("img-marginless")}window.on_page_disappear=function(){"object"===A()(window.mediasugScroll)&&null!==window.mediasugScroll&&"function"==typeof window.mediasugScroll.pushimpr&&window.mediasugScroll.pushimpr(!1)},window.getElementPosition=function(e){var t=e.match(/^.image:nth-child\((\d+)\)$/);t&&(e=".image-container:nth-child("+t[1]+")>.image");var n="{{0,0},{0,0}}",r=document.querySelector(e);if(r){var i=r.getBoundingClientRect();n="{{"+(i.left+window.pageXOffset)+","+(i.top+window.pageYOffset)+"},{"+i.width+","+i.height+"}}"}return n},window.TouTiao={setFontSize:yr,setDayMode:wr},window.appCloseVideoNoticeWeb=function(e){var t=document.querySelector('[data-vid="'+e+'"]');if(!t)return null;t.style.display="block";var n=t.nextElementSibling;if(n){var r=n.firstChild;r&&R(r,".cv-wd-info-wrapper",!0)&&(n.style.display="block")}document.body.style.marginTop=0},window.getVideoFrame=function(e){var t=document.querySelector('[data-vid="'+e+'"]'),n="{{0,0},{0,0}}";if(t){var r=t.getBoundingClientRect();n="{{"+r.left+","+t.offsetTop+"},{"+r.width+","+r.height+"}}"}return n},window.webviewScrollEvent=function(e){};window.felog("fe_template","import_finished");var br=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={data:{}},r.tellClientContentSize=r.tellClientContentSize.bind(r),r}return h()(t,e),t.updateState=function(e){return function(n){"h5Extra"===e&&(t.setH5ExtraFlag=!!n),T[e]=n,I.dispatch({type:e,data:n})}},t.prototype.tellClientContentSize=function(){var e=0,t=0;this.intervalTime&&clearInterval(this.intervalTime),this.intervalTime=setInterval((function(){var n=document.querySelector("footer"),r=void 0,i=0,o=0;n&&(i=(r=n.getBoundingClientRect()).top+r.height);var a=document.querySelector("header");o+=a?a.clientHeight:0;try{o+=parseInt(getComputedStyle(a).marginBottom||0)}catch(e){console.error(e)}o+=document.querySelector("article").clientHeight+r.height,i!==e&&i>0&&(e=i,console.info("webviewContentResize",i),j.a.invoke("webviewContentResize",{height:i})),o!==t&&(t=o,console.info("webviewContentHeight",o,document.querySelector("header").clientHeight,document.querySelector("article").clientHeight,r.height),j.a.invoke("webviewContentHeight",{height:o}))}),200)},t.prototype.componentDidMount=function(){var e=this;this._unSubscribe=I.subscribe((function(){var t=I.getState();e.setState({data:t})})),L.client.isAndroid&&this.tellClientContentSize(),window.addEventListener("scroll",Z.onceShow)},t.prototype.componentWillUnmount=function(){this._unSubscribe(),window.removeEventListener("scroll",Z.onceShow),this.intervalTime&&clearInterval(this.intervalTime)},t.prototype.render=function(){var e=this.state.data.h5Extra,n="";switch(e&&e.article&&(n=e.article.type),console.info("render",n),n){case"fiction":return v.a.createElement(pr,c()({},this.state.data,{update:t.updateState}));case"wenda":return v.a.createElement($n,c()({},this.state.data,{update:t.updateState}));case"zhuanma":case"pgc":return v.a.createElement(yn,this.state.data)}return null},t}(g.Component);br.setH5ExtraFlag=!1,"v55"!==window.APP_VERSION&&"v60"!==window.APP_VERSION&&(window.APP_VERSION=window.h5_extra?"v55":"v60"),w.a.render(v.a.createElement(br,null),document.querySelector("#empty")),window.felog("fe_template","base"),function(){_.a.install({sampleRate:.01,bid:"article_app",pid:"article_new",ignoreAjax:[],ignoreStatic:[]}),Pe.config("1631","fe_article_detail_error","android",""),window.felog("fe_template","slardar");try{_r(),window.felog("fe_template","card"),j.a.on("page_state_change",(function(e){qe.broadcast("pageStateChange",null,e)})),j.a.on("pay_wenda_marked",(function(e){qe.broadcast("payWendaMarked",null,e)})),window.onNotificationReceived=function(e,t){L.client.isIOS&&0===L.client.newsArticleVersion.indexOf("7.3.5")&&"page_state_change"===e&&qe.broadcast("pageStateChange",null,t)},j.a.on("on_page_disappear",(function(e){qe.broadcast("pageDisappear",null,e)}))}catch(e){L.statistics.sendUmengEventV3("article_web_init_error",{version:"1631",type:"init",error:e.toString()})}var e=!1;window.felog("fe_template","jsb"),window.setExtra=function(t){window.felog("fe_setextra","start");var n="";try{n=a()(t)}catch(e){}"v55"===window.APP_VERSION||t&&"{}"!==n||(window.receivedEmptyExtra=!0,window.felog("fe_setextra_empty","extra"),L.statistics.sendUmengEventV3("article_web_init_error",{version:"1631",type:"extra_undefined",appversion:window.APP_VERSION,extracontent:n}));var r=!1;console.info("[setExtra]",t);var i=ve("article.type");i||_.a.sendCustomTimeLog("start_process_article","android_"+window.APP_VERSION,+new Date-window.startTimestamp),e||(w.a.render(v.a.createElement(br,null),document.querySelector("#empty")),e=!0),ge(t),window.felog("fe_setextra","build");var o=window.Page=ve();(console.info("======window.setExtra",o),br.updateState("h5Extra")(o),window.felog("fe_setextra","update"),qe.broadcast("setExtra",null,null),i)||(Er(document.body),window.felog("fe_setextra","finishui"),!0!==window.hadSentDomready&&(L.statistics.sendBytedanceRequest("domReady?setContentTimeStamp="+window.startTimestamp+"&domreadyTimeStamp="+ +new Date+"&isHTMLRender=0"),window.hadSentDomready=!0),_.a.sendCustomCountLog("fe_article_version","1631"),_.a.sendCustomCountLog("article_type",i||"unknow"),document.body.classList.add("fe_article_version_1631"),L.statistics.sendUmengEventV3("article_web_extra_info",{version:"1631",group_id:ve("statistics.group_id"),duration:+new Date-window.startTimestamp,type:ve("novel_data")?"fiction":ve("article.type"),group_type:window.APP_VERSION,imageType:ve("pageSettings",{}).image_type,font_size:ve("pageSettings",{}).font_size}),r=!0);return r},window.felog("fe_template","setextra"),window.setContent=function(e){window.felog("fe_setContent","start_setcontent"),void 0===window.startTimestamp&&(window.startTimestamp=Date.now()),console.info("======window.setContent",e),br.updateState("content")(e),fr&&_r();var t=(e||"").indexOf("<article>"),n=(e||"").indexOf("</article>");if(!e||t<0||n<0||n-t==9){var r=e?"invalid_content":"empty_content";L.statistics.sendUmengEventV3("article_web_init_error",{version:"1631",type:r,error:e}),window.felog("fe_setContentValid",r)}},window.felog("fe_template","setcontent"),L.statistics.sendBytedanceRequest("setContentReady?timestamp="+Date.now()),window.insertDiv=function(e){L.statistics.sendUmengEventV3("article_web_context_info",{action:"init",group_id:ve("statistics.group_id"),type:ve("novel_data")?"fiction":ve("article.type")});var t=ve("h5_settings.close_miniprogs_switch");if(console.info("===== close miniprog =====",t,e),e.miniprogs&&e.miniprogs.Visibilities){var n=[];for(var r in e.miniprogs.Visibilities)!t&&e.miniprogs.Visibilities[r]||n.push(r);window.pgcEvent&&window.pgcEvent.broadcast("card-destroy",document.querySelector("body"),{applet:n})}console.info("======window.insertDiv",e),br.updateState("context")(e);try{var o=i()(e).join(",");L.statistics.sendUmengEventV3("article_web_context_info",{action:"finish",value:o,group_id:ve("statistics.group_id"),type:ve("novel_data")?"fiction":ve("article.type")})}catch(e){console.error(e),b.a.captureException(e),L.statistics.sendUmengEventV3("article_web_context_info",{action:"finish_error",group_id:ve("statistics.group_id"),type:ve("novel_data")?"fiction":ve("article.type")})}},window.felog("fe_template","insert"),window.onQuit=function(){console.info("onQuit"),window.hadSentDomready=!1,window.hadSentRenderFinish=!1,de={},pe={},Z.empty(),yt.clean(),T.empty(),Ie(),De.a.flush(!0),window.needCleanDoms.forEach((function(e){e.off()})),window.needCleanDoms=[],L.statistics.checkandCleanImpr(),qe.broadcast("onQuit",null,null),qe.off("card-script-inited"),window.receivedEmptyExtra=!1;try{w.a.unmountComponentAtNode(document.getElementById("empty")),e=!1}catch(e){console.error("销毁Main组件报错",e),b.a.captureException(e)}$("header").replaceWith("<header>"),$("article").empty(),$("footer").empty(),window.disabledBroadcastCardsEvent=!1,window.startTimestamp=void 0,e||(w.a.render(v.a.createElement(br,null),document.querySelector("#empty")),e=!0),document.body.className=""}}(),window.felog("fe_template","window_initialized"),document.body.getAttribute("inited")||(document.body.setAttribute("inited",!0),"v55"===window.APP_VERSION&&(window.startTimestamp=Date.now(),window.setContent("v55"),window.setExtra()),L.statistics.sendBytedanceRequest("templateCanReady?timestamp="+Date.now())),window.felog("fe_template","page_inited")}]);